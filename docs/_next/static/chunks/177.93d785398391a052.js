(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1314:function(e,t,n){"use strict";n.d(t,{He:function(){return u},Ld:function(){return w},eC:function(){return f},f3:function(){return l},iG:function(){return d},sb:function(){return g},ys:function(){return s}});var r=n(1132),i=n(7294);let a=Symbol.for("Animated:node"),o=e=>!!e&&e[a]===e,s=e=>e&&e[a],l=(e,t)=>(0,r.dE)(e,a,t),u=e=>e&&e[a]&&e[a].getPayload();class c{constructor(){this.payload=void 0,l(this,this)}getPayload(){return this.payload||[]}}class d extends c{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,r.is.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new d(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return r.is.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){let{done:e}=this;this.done=!1,r.is.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class f extends d{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=(0,r.mD)({output:[e,e]})}static create(e){return new f(e)}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(r.is.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=(0,r.mD)({output:[this.getValue(),e]})),this._value=0,super.reset()}}let h={dependencies:null};class p extends c{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){let t={};return(0,r.rU)(this.source,(n,i)=>{o(n)?t[i]=n.getValue(e):(0,r.j$)(n)?t[i]=(0,r.je)(n):e||(t[i]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&(0,r.S6)(this.payload,e=>e.reset())}_makePayload(e){if(e){let t=new Set;return(0,r.rU)(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){h.dependencies&&(0,r.j$)(e)&&h.dependencies.add(e);let t=u(e);t&&(0,r.S6)(t,e=>this.add(e))}}class m extends p{constructor(e){super(e)}static create(e){return new m(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){let t=this.getPayload();return e.length==t.length?t.map((t,n)=>t.setValue(e[n])).some(Boolean):(super.setValue(e.map(v)),!0)}}function v(e){let t=(0,r.Df)(e)?f:d;return t.create(e)}function g(e){let t=s(e);return t?t.constructor:r.is.arr(e)?m:(0,r.Df)(e)?f:d}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let _=(e,t)=>{let n=!r.is.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,i.forwardRef)((a,o)=>{let s=(0,i.useRef)(null),l=n&&(0,i.useCallback)(e=>{s.current=(o&&(r.is.fun(o)?o(e):o.current=e),e)},[o]),[u,c]=function(e,t){let n=new Set;return h.dependencies=n,e.style&&(e=y({},e,{style:t.createAnimatedStyle(e.style)})),e=new p(e),h.dependencies=null,[e,n]}(a,t),d=(0,r.NW)(),f=()=>{let e=s.current;if(n&&!e)return;let r=!!e&&t.applyAnimatedValues(e,u.getValue(!0));!1===r&&d()},m=new b(f,c),v=(0,i.useRef)();(0,r.bt)(()=>(v.current=m,(0,r.S6)(c,e=>(0,r.UI)(e,m)),()=>{v.current&&((0,r.S6)(v.current.deps,e=>(0,r.iL)(e,v.current)),r.Wn.cancel(v.current.update))})),(0,i.useEffect)(f,[]),(0,r.tf)(()=>()=>{let e=v.current;(0,r.S6)(e.deps,t=>(0,r.iL)(t,e))});let g=t.getComponentProps(u.getValue());return i.createElement(e,y({},g,{ref:l}))})};class b{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&r.Wn.write(this.update)}}let x=Symbol.for("AnimatedComponent"),w=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=e=>new p(e),getComponentProps:i=e=>e}={})=>{let a={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:i},o=e=>{let t=S(e)||"Anonymous";return(e=r.is.str(e)?o[e]||(o[e]=_(e,a)):e[x]||(e[x]=_(e,a))).displayName=`Animated(${t})`,e};return(0,r.rU)(e,(t,n)=>{r.is.arr(e)&&(n=S(t)),o[n]=o(t)}),{animated:o}},S=e=>r.is.str(e)?e:e&&r.is.str(e.displayName)?e.displayName:r.is.fun(e)&&e.name||null},4928:function(e,t,n){"use strict";let r;n.r(t),n.d(t,{BailSignal:function(){return W},Controller:function(){return ef},FrameValue:function(){return X},Globals:function(){return a.OH},Interpolation:function(){return eF},Spring:function(){return eA},SpringContext:function(){return ew},SpringRef:function(){return eE},SpringValue:function(){return en},Trail:function(){return eD},Transition:function(){return eL},config:function(){return O},createInterpolator:function(){return a.mD},easings:function(){return I},inferTo:function(){return x},interpolate:function(){return eG},to:function(){return eV},update:function(){return eH},useChain:function(){return C},useSpring:function(){return ek},useSpringRef:function(){return eO},useSprings:function(){return eT},useTrail:function(){return eM},useTransition:function(){return eP}});var i,a=n(1132),o=n(7294),s=n(1314),l=n(6233),u={};for(var c in l)0>["default","Globals","createInterpolator","BailSignal","Controller","FrameValue","Interpolation","Spring","SpringContext","SpringRef","SpringValue","Trail","Transition","config","easings","inferTo","interpolate","to","update","useChain","useSpring","useSpringRef","useSprings","useTrail","useTransition"].indexOf(c)&&(u[c]=(function(e){return l[e]}).bind(0,c));n.d(t,u);var d=n(8716),u={};for(var c in d)0>["default","Globals","createInterpolator","BailSignal","Controller","FrameValue","Interpolation","Spring","SpringContext","SpringRef","SpringValue","Trail","Transition","config","easings","inferTo","interpolate","to","update","useChain","useSpring","useSpringRef","useSprings","useTrail","useTransition"].indexOf(c)&&(u[c]=(function(e){return d[e]}).bind(0,c));function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,...t){return a.is.fun(e)?e(...t):e}n.d(t,u);let p=(e,t)=>!0===e||!!(t&&e&&(a.is.fun(e)?e(t):(0,a.qo)(e).includes(t))),m=(e,t)=>a.is.obj(e)?t&&e[t]:e,v=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,g=e=>e,y=(e,t=g)=>{let n=_;e.default&&!0!==e.default&&(n=Object.keys(e=e.default));let r={};for(let i of n){let n=t(e[i],i);a.is.und(n)||(r[i]=n)}return r},_=["config","onProps","onStart","onChange","onPause","onResume","onRest"],b={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function x(e){let t=function(e){let t={},n=0;if((0,a.rU)(e,(e,r)=>{!b[r]&&(t[r]=e,n++)}),n)return t}(e);if(t){let n={to:t};return(0,a.rU)(e,(e,r)=>r in t||(n[r]=e)),n}return f({},e)}function w(e){return e=(0,a.je)(e),a.is.arr(e)?e.map(w):(0,a.Df)(e)?a.OH.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function S(e){for(let t in e)return!0;return!1}function E(e){return a.is.fun(e)||a.is.arr(e)&&a.is.obj(e[0])}function T(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function k(e,t){if(t&&e.ref!==t){var n;null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t}}function C(e,t,n=1e3){(0,a.bt)(()=>{if(t){let r=0;(0,a.S6)(e,(e,i)=>{let o=e.current;if(o.length){let s=n*t[i];isNaN(s)?s=r:r=s,(0,a.S6)(o,e=>{(0,a.S6)(e.queue,e=>{let t=e.delay;e.delay=e=>s+h(t||0,e)})}),e.start()}})}else{let t=Promise.resolve();(0,a.S6)(e,e=>{let n=e.current;if(n.length){let r=n.map(e=>{let t=e.queue;return e.queue=[],t});t=t.then(()=>((0,a.S6)(n,(e,t)=>(0,a.S6)(r[t]||[],t=>e.queue.push(t))),Promise.all(e.start())))}})}})}let O={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},M=2*Math.PI/3,P=2*Math.PI/4.5,U=e=>e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,I={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>2.70158*e*e*e-1.70158*e*e,easeOutBack:e=>1+2.70158*Math.pow(e-1,3)+1.70158*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(7.189819*e-2.5949095)/2:(Math.pow(2*e-2,2)*(3.5949095*(2*e-2)+2.5949095)+2)/2,easeInElastic:e=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*M),easeOutElastic:e=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*M)+1,easeInOutElastic:e=>0===e?0:1===e?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*P))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*P)/2+1,easeInBounce:e=>1-U(1-e),easeOutBounce:U,easeInOutBounce:e=>e<.5?(1-U(1-2*e))/2:(1+U(2*e-1))/2},A=f({},O.default,{mass:1,damping:1,easing:I.linear,clamp:!1});class z{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,A)}}function D(e,t){if(a.is.und(t.decay)){let n=!a.is.und(t.tension)||!a.is.und(t.friction);!n&&a.is.und(t.frequency)&&a.is.und(t.damping)&&a.is.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}let N=[];class L{constructor(){this.changed=!1,this.values=N,this.toValues=null,this.fromValues=N,this.to=void 0,this.from=void 0,this.config=new z,this.immediate=!1}}function F(e,{key:t,props:n,defaultProps:r,state:i,actions:o}){return new Promise((s,l)=>{var u;let c,d;let m=p(null!=(u=n.cancel)?u:null==r?void 0:r.cancel,t);if(m)y();else{a.is.und(n.pause)||(i.paused=p(n.pause,t));let e=null==r?void 0:r.pause;!0!==e&&(e=i.paused||p(e,t)),c=h(n.delay||0,t),e?(i.resumeQueue.add(g),o.pause()):(o.resume(),g())}function v(){i.resumeQueue.add(g),i.timeouts.delete(d),d.cancel(),c=d.time-a.Wn.now()}function g(){c>0&&!a.OH.skipAnimation?(i.delayed=!0,d=a.Wn.setTimeout(y,c),i.pauseQueue.add(v),i.timeouts.add(d)):y()}function y(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(v),i.timeouts.delete(d),e<=(i.cancelId||0)&&(m=!0);try{o.start(f({},n,{callId:e,cancel:m}),s)}catch(e){l(e)}}})}let R=(e,t)=>1==t.length?t[0]:t.some(e=>e.cancelled)?V(e.get()):t.every(e=>e.noop)?j(e.get()):B(e.get(),t.every(e=>e.finished)),j=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),B=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),V=e=>({value:e,cancelled:!0,finished:!1});function G(e,t,n,r){let{callId:i,parentId:o,onRest:s}=t,{asyncTo:l,promise:u}=n;return o||e!==l||t.reset?n.promise=(async()=>{let c,d,h;n.asyncId=i,n.asyncTo=e;let p=y(t,(e,t)=>"onRest"===t?void 0:e),m=new Promise((e,t)=>(c=e,d=t)),v=e=>{let t=i<=(n.cancelId||0)&&V(r)||i!==n.asyncId&&B(r,!1);if(t)throw e.result=t,d(e),e},g=(e,t)=>{let o=new W,s=new $;return(async()=>{if(a.OH.skipAnimation)throw H(n),s.result=B(r,!1),d(s),s;v(o);let l=a.is.obj(e)?f({},e):f({},t,{to:e});l.parentId=i,(0,a.rU)(p,(e,t)=>{a.is.und(l[t])&&(l[t]=e)});let u=await r.start(l);return v(o),n.paused&&await new Promise(e=>{n.resumeQueue.add(e)}),u})()};if(a.OH.skipAnimation)return H(n),B(r,!1);try{let t;t=a.is.arr(e)?(async e=>{for(let t of e)await g(t)})(e):Promise.resolve(e(g,r.stop.bind(r))),await Promise.all([t.then(c),m]),h=B(r.get(),!0,!1)}catch(e){if(e instanceof W)h=e.result;else if(e instanceof $)h=e.result;else throw e}finally{i==n.asyncId&&(n.asyncId=o,n.asyncTo=o?l:void 0,n.promise=o?u:void 0)}return a.is.fun(s)&&a.Wn.batchedUpdates(()=>{s(h,r,r.item)}),h})():u}function H(e,t){(0,a.yl)(e.timeouts,e=>e.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}class W extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class $ extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}let q=e=>e instanceof X,Y=1;class X extends a.B0{constructor(...e){super(...e),this.id=Y++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){let e=(0,s.ys)(this);return e&&e.getValue()}to(...e){return a.OH.to(this,e)}interpolate(...e){return(0,a.LW)(),a.OH.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){(0,a.k0)(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||a.fT.sort(this),(0,a.k0)(this,{type:"priority",parent:this,priority:e})}}let Q=Symbol.for("SpringPhase"),K=e=>(1&e[Q])>0,Z=e=>(2&e[Q])>0,J=e=>(4&e[Q])>0,ee=(e,t)=>t?e[Q]|=3:e[Q]&=-3,et=(e,t)=>t?e[Q]|=4:e[Q]&=-5;class en extends X{constructor(e,t){if(super(),this.key=void 0,this.animation=new L,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!a.is.und(e)||!a.is.und(t)){let n=a.is.obj(e)?f({},e):f({},t,{from:e});a.is.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Z(this)||this._state.asyncTo)||J(this)}get goal(){return(0,a.je)(this.animation.to)}get velocity(){let e=(0,s.ys)(this);return e instanceof s.iG?e.lastVelocity||0:e.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return K(this)}get isAnimating(){return Z(this)}get isPaused(){return J(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1,r=this.animation,{config:i,toValues:o}=r,l=(0,s.He)(r.to);!l&&(0,a.j$)(r.to)&&(o=(0,a.qo)((0,a.je)(r.to))),r.values.forEach((u,c)=>{if(u.done)return;let d=u.constructor==s.eC?1:l?l[c].lastPosition:o[c],f=r.immediate,h=d;if(!f){let t;if(h=u.lastPosition,i.tension<=0){u.done=!0;return}let n=u.elapsedTime+=e,o=r.fromValues[c],s=null!=u.v0?u.v0:u.v0=a.is.arr(i.velocity)?i.velocity[c]:i.velocity;if(a.is.und(i.duration)){if(i.decay){let e=!0===i.decay?.998:i.decay,r=Math.exp(-(1-e)*n);h=o+s/(1-e)*(1-r),f=.1>Math.abs(u.lastPosition-h),t=s*r}else{t=null==u.lastVelocity?s:u.lastVelocity;let n=i.precision||(o==d?.005:Math.min(1,.001*Math.abs(d-o))),r=i.restVelocity||n/10,l=i.clamp?0:i.bounce,c=!a.is.und(l),p=o==d?u.v0>0:o<d,m=Math.ceil(e/1);for(let e=0;e<m&&!(!(Math.abs(t)>r)&&(f=Math.abs(d-h)<=n));++e){c&&(h==d||h>d==p)&&(t=-t*l,h=d);let e=-(1e-6*i.tension)*(h-d),n=-(.001*i.friction)*t,r=(e+n)/i.mass;t+=1*r,h+=1*t}}}else{let r=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,u.durationProgress>0&&(u.elapsedTime=i.duration*u.durationProgress,n=u.elapsedTime+=e)),r=(r=(i.progress||0)+n/this._memoizedDuration)>1?1:r<0?0:r,u.durationProgress=r),t=((h=o+i.easing(r)*(d-o))-u.lastPosition)/e,f=1==r}u.lastVelocity=t,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),f=!0)}l&&!l[c].done&&(f=!1),f?u.done=!0:t=!1,u.setValue(h,i.round)&&(n=!0)});let u=(0,s.ys)(this),c=u.getValue();if(t){let e=(0,a.je)(r.to);(c!==e||n)&&!i.decay?(u.setValue(e),this._onChange(e)):n&&i.decay&&this._onChange(c),this._stop()}else n&&this._onChange(c)}set(e){return a.Wn.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Z(this)){let{to:e,config:t}=this.animation;a.Wn.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){let t=this.queue||(this.queue=[]);return t.push(e),this}start(e,t){let n;return a.is.und(e)?(n=this.queue||[],this.queue=[]):n=[a.is.obj(e)?e:f({},t,{to:e})],Promise.all(n.map(e=>{let t=this._update(e);return t})).then(e=>R(this,e))}stop(e){let{to:t}=this.animation;return this._focus(this.get()),H(this._state,e&&this._lastCallId),a.Wn.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){let t=this.key||"",{to:n,from:r}=e;(null==(n=a.is.obj(n)?n[t]:n)||E(n))&&(n=void 0),null==(r=a.is.obj(r)?r[t]:r)&&(r=void 0);let i={to:n,from:r};return K(this)||(e.reverse&&([n,r]=[r,n]),r=(0,a.je)(r),a.is.und(r)?(0,s.ys)(this)||this._set(n):this._set(r)),i}_update(e,t){let n=f({},e),{key:r,defaultProps:i}=this;n.default&&Object.assign(i,y(n,(e,t)=>/^on/.test(t)?m(e,r):e)),el(this,n,"onProps"),eu(this,"onProps",n,this);let o=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let s=this._state;return F(++this._lastCallId,{key:r,props:n,defaultProps:i,state:s,actions:{pause:()=>{J(this)||(et(this,!0),(0,a.bl)(s.pauseQueue),eu(this,"onPause",B(this,er(this,this.animation.to)),this))},resume:()=>{J(this)&&(et(this,!1),Z(this)&&this._resume(),(0,a.bl)(s.resumeQueue),eu(this,"onResume",B(this,er(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(e=>{if(n.loop&&e.finished&&!(t&&e.noop)){let e=ei(n);if(e)return this._update(e,!0)}return e})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(V(this));let r=!a.is.und(e.to),i=!a.is.und(e.from);if(r||i){if(!(t.callId>this._lastToId))return n(V(this));this._lastToId=t.callId}let{key:o,defaultProps:l,animation:u}=this,{to:c,from:d}=u,{to:m=c,from:v=d}=e;i&&!r&&(!t.default||a.is.und(m))&&(m=v),t.reverse&&([m,v]=[v,m]);let g=!(0,a.Xy)(v,d);g&&(u.from=v),v=(0,a.je)(v);let y=!(0,a.Xy)(m,c);y&&this._focus(m);let _=E(t.to),{config:b}=u,{decay:x,velocity:S}=b;(r||i)&&(b.velocity=0),t.config&&!_&&function(e,t,n){for(let r in n&&(D(n=f({},n),t),t=f({},n,t)),D(e,t),Object.assign(e,t),A)null==e[r]&&(e[r]=A[r]);let{mass:r,frequency:i,damping:o}=e;a.is.und(i)||(i<.01&&(i=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/i,2)*r,e.friction=4*Math.PI*o*r/i)}(b,h(t.config,o),t.config!==l.config?h(l.config,o):void 0);let T=(0,s.ys)(this);if(!T||a.is.und(m))return n(B(this,!0));let k=a.is.und(t.reset)?i&&!t.default:!a.is.und(v)&&p(t.reset,o),C=k?v:this.get(),O=w(m),M=a.is.num(O)||a.is.arr(O)||(0,a.Df)(O),P=!_&&(!M||p(l.immediate||t.immediate,o));if(y){let e=(0,s.sb)(m);if(e!==T.constructor){if(P)T=this._set(O);else throw Error(`Cannot animate between ${T.constructor.name} and ${e.name}, as the "to" prop suggests`)}}let U=T.constructor,I=(0,a.j$)(m),z=!1;if(!I){let e=k||!K(this)&&g;(y||e)&&(I=!(z=(0,a.Xy)(w(C),O))),((0,a.Xy)(u.immediate,P)||P)&&(0,a.Xy)(b.decay,x)&&(0,a.Xy)(b.velocity,S)||(I=!0)}if(z&&Z(this)&&(u.changed&&!k?I=!0:I||this._stop(c)),!_&&((I||(0,a.j$)(c))&&(u.values=T.getPayload(),u.toValues=(0,a.j$)(m)?null:U==s.eC?[1]:(0,a.qo)(O)),u.immediate==P||(u.immediate=P,P||k||this._set(c)),I)){let{onRest:e}=u;(0,a.S6)(es,e=>el(this,t,e));let r=B(this,er(this,c));(0,a.bl)(this._pendingCalls,r),this._pendingCalls.add(n),u.changed&&a.Wn.batchedUpdates(()=>{u.changed=!k,null==e||e(r,this),k?h(l.onRest,r):null==u.onStart||u.onStart(r,this)})}k&&this._set(C),_?n(G(t.to,t,this._state,this)):I?this._start():Z(this)&&!y?this._pendingCalls.add(n):n(j(C))}_focus(e){let t=this.animation;e!==t.to&&((0,a.Ll)(this)&&this._detach(),t.to=e,(0,a.Ll)(this)&&this._attach())}_attach(){let e=0,{to:t}=this.animation;(0,a.j$)(t)&&((0,a.UI)(t,this),q(t)&&(e=t.priority+1)),this.priority=e}_detach(){let{to:e}=this.animation;(0,a.j$)(e)&&(0,a.iL)(e,this)}_set(e,t=!0){let n=(0,a.je)(e);if(!a.is.und(n)){let e=(0,s.ys)(this);if(!e||!(0,a.Xy)(n,e.getValue())){let r=(0,s.sb)(n);e&&e.constructor==r?e.setValue(n):(0,s.f3)(this,r.create(n)),e&&a.Wn.batchedUpdates(()=>{this._onChange(n,t)})}}return(0,s.ys)(this)}_onStart(){let e=this.animation;e.changed||(e.changed=!0,eu(this,"onStart",B(this,er(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),h(this.animation.onChange,e,this)),h(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){let e=this.animation;(0,s.ys)(this).reset((0,a.je)(e.to)),e.immediate||(e.fromValues=e.values.map(e=>e.lastPosition)),Z(this)||(ee(this,!0),J(this)||this._resume())}_resume(){a.OH.skipAnimation?this.finish():a.fT.start(this)}_stop(e,t){if(Z(this)){ee(this,!1);let n=this.animation;(0,a.S6)(n.values,e=>{e.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),(0,a.k0)(this,{type:"idle",parent:this});let r=t?V(this.get()):B(this.get(),er(this,null!=e?e:n.to));(0,a.bl)(this._pendingCalls,r),n.changed&&(n.changed=!1,eu(this,"onRest",r,this))}}}function er(e,t){let n=w(t),r=w(e.get());return(0,a.Xy)(r,n)}function ei(e,t=e.loop,n=e.to){let r=h(t);if(r){let i=!0!==r&&x(r),a=(i||e).reverse,o=!i||i.reset;return ea(f({},e,{loop:t,default:!1,pause:void 0,to:!a||E(n)?n:void 0,from:o?e.from:void 0,reset:o},i))}}function ea(e){let{to:t,from:n}=e=x(e),r=new Set;return a.is.obj(t)&&eo(t,r),a.is.obj(n)&&eo(n,r),e.keys=r.size?Array.from(r):null,e}function eo(e,t){(0,a.rU)(e,(e,n)=>null!=e&&t.add(n))}let es=["onStart","onRest","onChange","onPause","onResume"];function el(e,t,n){e.animation[n]=t[n]!==v(t,n)?m(t[n],e.key):void 0}function eu(e,t,...n){var r,i,a,o;null==(r=(i=e.animation)[t])||r.call(i,...n),null==(a=(o=e.defaultProps)[t])||a.call(o,...n)}let ec=["onStart","onChange","onRest"],ed=1;class ef{constructor(e,t){this.id=ed++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start(f({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(let t in e){let n=e[t];a.is.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(ea(e)),this}start(e){let{queue:t}=this;return(e?t=(0,a.qo)(e).map(ea):this.queue=[],this._flush)?this._flush(this,t):(e_(this,t),eh(this,t))}stop(e,t){if(!!e!==e&&(t=e),t){let n=this.springs;(0,a.S6)((0,a.qo)(t),t=>n[t].stop(!!e))}else H(this._state,this._lastAsyncId),this.each(t=>t.stop(!!e));return this}pause(e){if(a.is.und(e))this.start({pause:!0});else{let t=this.springs;(0,a.S6)((0,a.qo)(e),e=>t[e].pause())}return this}resume(e){if(a.is.und(e))this.start({pause:!1});else{let t=this.springs;(0,a.S6)((0,a.qo)(e),e=>t[e].resume())}return this}each(e){(0,a.rU)(this.springs,e)}_onFrame(){let{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,(0,a.yl)(e,([e,t])=>{t.value=this.get(),e(t,this,this._item)}));let o=!r&&this._started,s=i||o&&n.size?this.get():null;i&&t.size&&(0,a.yl)(t,([e,t])=>{t.value=s,e(t,this,this._item)}),o&&(this._started=!1,(0,a.yl)(n,([e,t])=>{t.value=s,e(t,this,this._item)}))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}a.Wn.onFrame(this._onFrame)}}function eh(e,t){return Promise.all(t.map(t=>ep(e,t))).then(t=>R(e,t))}async function ep(e,t,n){let{keys:r,to:i,from:o,loop:s,onRest:l,onResolve:u}=t,c=a.is.obj(t.default)&&t.default;s&&(t.loop=!1),!1===i&&(t.to=null),!1===o&&(t.from=null);let d=a.is.arr(i)||a.is.fun(i)?i:void 0;d?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):(0,a.S6)(ec,n=>{let r=t[n];if(a.is.fun(r)){let i=e._events[n];t[n]=({finished:e,cancelled:t})=>{let n=i.get(r);n?(e||(n.finished=!1),t&&(n.cancelled=!0)):i.set(r,{value:null,finished:e||!1,cancelled:t||!1})},c&&(c[n]=t[n])}});let f=e._state;!f.paused===t.pause?(f.paused=t.pause,(0,a.bl)(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);let h=(r||Object.keys(e.springs)).map(n=>e.springs[n].start(t)),p=!0===t.cancel||!0===v(t,"cancel");(d||p&&f.asyncId)&&h.push(F(++e._lastAsyncId,{props:t,state:f,actions:{pause:a.ZT,resume:a.ZT,start(t,n){p?(H(f,e._lastAsyncId),n(V(e))):(t.onRest=l,n(G(d,t,f,e)))}}})),f.paused&&await new Promise(e=>{f.resumeQueue.add(e)});let m=R(e,await Promise.all(h));if(s&&m.finished&&!(n&&m.noop)){let n=ei(t,s,i);if(n)return e_(e,[n]),ep(e,n,!0)}return u&&a.Wn.batchedUpdates(()=>u(m,e,e.item)),m}function em(e,t){let n=f({},e.springs);return t&&(0,a.S6)((0,a.qo)(t),e=>{a.is.und(e.keys)&&(e=ea(e)),a.is.obj(e.to)||(e=f({},e,{to:void 0})),ey(n,e,e=>eg(e))}),ev(e,n),n}function ev(e,t){(0,a.rU)(t,(t,n)=>{e.springs[n]||(e.springs[n]=t,(0,a.UI)(t,e))})}function eg(e,t){let n=new en;return n.key=e,t&&(0,a.UI)(n,t),n}function ey(e,t,n){t.keys&&(0,a.S6)(t.keys,r=>{let i=e[r]||(e[r]=n(r));i._prepareNode(t)})}function e_(e,t){(0,a.S6)(t,t=>{ey(e.springs,t,t=>eg(t,e))})}function eb(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}let ex=["children"],ew=e=>{let{children:t}=e,n=eb(e,ex),r=(0,o.useContext)(eS),i=n.pause||!!r.pause,s=n.immediate||!!r.immediate;n=(0,a.Pr)(()=>({pause:i,immediate:s}),[i,s]);let{Provider:l}=eS;return o.createElement(l,{value:n},t)},eS=(Object.assign(ew,o.createContext({})),ew.Provider._context=ew,ew.Consumer._context=ew,ew);ew.Provider=eS.Provider,ew.Consumer=eS.Consumer;let eE=()=>{let e=[],t=function(t){(0,a.ZR)();let r=[];return(0,a.S6)(e,(e,i)=>{if(a.is.und(t))r.push(e.start());else{let a=n(t,e,i);a&&r.push(e.start(a))}}),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){let n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return(0,a.S6)(e,e=>e.pause(...arguments)),this},t.resume=function(){return(0,a.S6)(e,e=>e.resume(...arguments)),this},t.set=function(t){(0,a.S6)(e,e=>e.set(t))},t.start=function(t){let n=[];return(0,a.S6)(e,(e,r)=>{if(a.is.und(t))n.push(e.start());else{let i=this._getProps(t,e,r);i&&n.push(e.start(i))}}),n},t.stop=function(){return(0,a.S6)(e,e=>e.stop(...arguments)),this},t.update=function(t){return(0,a.S6)(e,(e,n)=>e.update(this._getProps(t,e,n))),this};let n=function(e,t,n){return a.is.fun(e)?e(n,t):e};return t._getProps=n,t};function eT(e,t,n){let r=a.is.fun(t)&&t;r&&!n&&(n=[]);let i=(0,o.useMemo)(()=>r||3==arguments.length?eE():void 0,[]),s=(0,o.useRef)(0),l=(0,a.NW)(),u=(0,o.useMemo)(()=>({ctrls:[],queue:[],flush(e,t){let n=em(e,t),r=s.current>0&&!u.queue.length&&!Object.keys(n).some(t=>!e.springs[t]);return r?eh(e,t):new Promise(r=>{ev(e,n),u.queue.push(()=>{r(eh(e,t))}),l()})}}),[]),c=(0,o.useRef)([...u.ctrls]),d=[],h=(0,a.zH)(e)||0;function p(e,n){for(let i=e;i<n;i++){let e=c.current[i]||(c.current[i]=new ef(null,u.flush)),n=r?r(i,e):t[i];n&&(d[i]=function(e){let t=ea(e);return a.is.und(t.default)&&(t.default=y(t)),t}(n))}}(0,o.useMemo)(()=>{(0,a.S6)(c.current.slice(e,h),e=>{T(e,i),e.stop(!0)}),c.current.length=e,p(h,e)},[e]),(0,o.useMemo)(()=>{p(0,Math.min(h,e))},n);let m=c.current.map((e,t)=>em(e,d[t])),v=(0,o.useContext)(ew),g=(0,a.zH)(v),_=v!==g&&S(v);(0,a.bt)(()=>{s.current++,u.ctrls=c.current;let{queue:e}=u;e.length&&(u.queue=[],(0,a.S6)(e,e=>e())),(0,a.S6)(c.current,(e,t)=>{null==i||i.add(e),_&&e.start({default:v});let n=d[t];n&&(k(e,n.ref),e.ref?e.queue.push(n):e.start(n))})}),(0,a.tf)(()=>()=>{(0,a.S6)(u.ctrls,e=>e.stop(!0))});let b=m.map(e=>f({},e));return i?[b,i]:b}function ek(e,t){let n=a.is.fun(e),[[r],i]=eT(1,n?e:[e],n?t||[]:t);return n||2==arguments.length?[r,i]:r}let eC=()=>eE(),eO=()=>(0,o.useState)(eC)[0];function eM(e,t,n){var r;let i;let o=a.is.fun(t)&&t;o&&!n&&(n=[]);let s=!0,l=eT(e,(e,n)=>{let r=o?o(e,n):t;return i=r.ref,s=s&&r.reverse,r},n||[{}]),u=null!=(r=i)?r:l[1];return((0,a.bt)(()=>{(0,a.S6)(u.current,(e,t)=>{let n=u.current[t+(s?1:-1)];n?e.start({to:n.springs}):e.start()})},n),o||3==arguments.length)?(u._getProps=(e,t,n)=>{let r=a.is.fun(e)?e(n,t):e;if(r){let e=u.current[n+(r.reverse?1:-1)];return e&&(r.to=e.springs),r}},l):(u.start=e=>{let t=[];return(0,a.S6)(u.current,(n,r)=>{let i=a.is.fun(e)?e(r,n):e,o=u.current[r+(s?1:-1)];o?t.push(n.start(f({},i,{to:o.springs}))):t.push(n.start(f({},i)))}),t},l[0])}function eP(e,t,n){let i=a.is.fun(t)&&t,{reset:s,sort:l,trail:u=0,expires:c=!0,exitBeforeEnter:d=!1,onDestroyed:p,ref:m,config:v}=i?i():t,g=(0,o.useMemo)(()=>i||3==arguments.length?eE():void 0,[]),_=(0,a.qo)(e),b=[],w=(0,o.useRef)(null),E=s?null:w.current;(0,a.bt)(()=>{w.current=b}),(0,a.tf)(()=>((0,a.S6)(w.current,e=>{var t;null==(t=e.ctrl.ref)||t.add(e.ctrl);let n=A.get(e);n&&e.ctrl.start(n.payload)}),()=>{(0,a.S6)(w.current,e=>{e.expired&&clearTimeout(e.expirationId),T(e.ctrl,g),e.ctrl.stop(!0)})}));let C=function(e,{key:t,keys:n=t},i){if(null===n){let t=new Set;return e.map(e=>{let n=i&&i.find(n=>n.item===e&&n.phase!==r.LEAVE&&!t.has(n));return n?(t.add(n),n.key):eU++})}return a.is.und(n)?e:a.is.fun(n)?e.map(n):(0,a.qo)(n)}(_,i?i():t,E),O=s&&w.current||[];(0,a.bt)(()=>(0,a.S6)(O,({ctrl:e,item:t,key:n})=>{T(e,g),h(p,t,n)}));let M=[];if(E&&(0,a.S6)(E,(e,t)=>{e.expired?(clearTimeout(e.expirationId),O.push(e)):~(t=M[t]=C.indexOf(e.key))&&(b[t]=e)}),(0,a.S6)(_,(e,t)=>{b[t]||(b[t]={key:C[t],item:e,phase:r.MOUNT,ctrl:new ef},b[t].ctrl.item=e)}),M.length){let e=-1,{leave:n}=i?i():t;(0,a.S6)(M,(t,r)=>{let i=E[r];~t?(e=b.indexOf(i),b[e]=f({},i,{item:_[t]})):n&&b.splice(++e,0,i)})}a.is.fun(l)&&b.sort((e,t)=>l(e.item,t.item));let P=-u,U=(0,a.NW)(),I=y(t),A=new Map,z=(0,o.useRef)(new Map),D=(0,o.useRef)(!1);(0,a.S6)(b,(e,n)=>{let o,s;let l=e.key,p=e.phase,g=i?i():t,y=h(g.delay||0,l);if(p==r.MOUNT)o=g.enter,s=r.ENTER;else{let e=0>C.indexOf(l);if(p!=r.LEAVE){if(e)o=g.leave,s=r.LEAVE;else{if(!(o=g.update))return;s=r.UPDATE}}else{if(e)return;o=g.enter,s=r.ENTER}}if(o=h(o,e.item,n),!(o=a.is.obj(o)?x(o):{to:o}).config){let t=v||I.config;o.config=h(t,e.item,n,s)}P+=u;let _=f({},I,{delay:y+P,ref:m,immediate:g.immediate,reset:!1},o);if(s==r.ENTER&&a.is.und(_.from)){let r=i?i():t,o=a.is.und(r.initial)||E?r.from:r.initial;_.from=h(o,e.item,n)}let{onResolve:b}=_;_.onResolve=e=>{h(b,e);let t=w.current,n=t.find(e=>e.key===l);if(n){if(e.cancelled&&n.phase!=r.UPDATE)return;if(n.ctrl.idle){let e=t.every(e=>e.ctrl.idle);if(n.phase==r.LEAVE){let t=h(c,n.item);if(!1!==t){let r=!0===t?0:t;if(n.expired=!0,!e&&r>0){r<=2147483647&&(n.expirationId=setTimeout(U,r));return}}}e&&t.some(e=>e.expired)&&(z.current.delete(n),d&&(D.current=!0),U())}}};let S=em(e.ctrl,_);s===r.LEAVE&&d?z.current.set(e,{phase:s,springs:S,payload:_}):A.set(e,{phase:s,springs:S,payload:_})});let N=(0,o.useContext)(ew),L=(0,a.zH)(N),F=N!==L&&S(N);(0,a.bt)(()=>{F&&(0,a.S6)(b,e=>{e.ctrl.start({default:N})})},[N]),(0,a.S6)(A,(e,t)=>{if(z.current.size){let e=b.findIndex(e=>e.key===t.key);b.splice(e,1)}}),(0,a.bt)(()=>{(0,a.S6)(z.current.size?z.current:A,({phase:e,payload:t},n)=>{let{ctrl:i}=n;n.phase=e,null==g||g.add(i),F&&e==r.ENTER&&i.start({default:N}),t&&(k(i,t.ref),i.ref&&!D.current?i.update(t):(i.start(t),D.current&&(D.current=!1)))})},s?void 0:n);let R=e=>o.createElement(o.Fragment,null,b.map((t,n)=>{let{springs:r}=A.get(t)||t.ctrl,i=e(f({},r),t.item,t,n);return i&&i.type?o.createElement(i.type,f({},i.props,{key:a.is.str(t.key)||a.is.num(t.key)?t.key:t.ctrl.id,ref:i.ref})):i}));return g?[R,g]:R}(i=r||(r={})).MOUNT="mount",i.ENTER="enter",i.UPDATE="update",i.LEAVE="leave";let eU=1,eI=["children"];function eA(e){let{children:t}=e;return t(ek(eb(e,eI)))}let ez=["items","children"];function eD(e){let{items:t,children:n}=e,r=eb(e,ez),i=eM(t.length,r);return t.map((e,t)=>{let r=n(e,t);return a.is.fun(r)?r(i[t]):r})}let eN=["items","children"];function eL(e){let{items:t,children:n}=e;return eP(t,eb(e,eN))(n)}class eF extends X{constructor(e,t){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=(0,a.mD)(...t);let n=this._get(),r=(0,s.sb)(n);(0,s.f3)(this,r.create(n))}advance(e){let t=this._get(),n=this.get();(0,a.Xy)(t,n)||((0,s.ys)(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&ej(this._active)&&eB(this)}_get(){let e=a.is.arr(this.source)?this.source.map(a.je):(0,a.qo)((0,a.je)(this.source));return this.calc(...e)}_start(){this.idle&&!ej(this._active)&&(this.idle=!1,(0,a.S6)((0,s.He)(this),e=>{e.done=!1}),a.OH.skipAnimation?(a.Wn.batchedUpdates(()=>this.advance()),eB(this)):a.fT.start(this))}_attach(){let e=1;(0,a.S6)((0,a.qo)(this.source),t=>{(0,a.j$)(t)&&(0,a.UI)(t,this),q(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){(0,a.S6)((0,a.qo)(this.source),e=>{(0,a.j$)(e)&&(0,a.iL)(e,this)}),this._active.clear(),eB(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=(0,a.qo)(this.source).reduce((e,t)=>Math.max(e,(q(t)?t.priority:0)+1),0))}}function eR(e){return!1!==e.idle}function ej(e){return!e.size||Array.from(e).every(eR)}function eB(e){e.idle||(e.idle=!0,(0,a.S6)((0,s.He)(e),e=>{e.done=!0}),(0,a.k0)(e,{type:"idle",parent:e}))}let eV=(e,...t)=>new eF(e,t),eG=(e,...t)=>((0,a.LW)(),new eF(e,t));a.OH.assign({createStringInterpolator:a.qS,to:(e,t)=>new eF(e,t)});let eH=a.fT.advance},1132:function(e,t,n){"use strict";let r,i,a;n.d(t,{B0:function(){return ex},OH:function(){return F},UI:function(){return eS},k0:function(){return eb},O9:function(){return Y},mD:function(){return eh},qS:function(){return ez},dE:function(){return k},ZR:function(){return ej},LW:function(){return eF},S6:function(){return M},rU:function(){return P},yl:function(){return I},bl:function(){return A},fT:function(){return G},Ll:function(){return e_},je:function(){return ey},j$:function(){return eg},is:function(){return C},Df:function(){return eB},Xy:function(){return O},ZT:function(){return T},Wn:function(){return s},iL:function(){return eE},qo:function(){return U},NW:function(){return eH},bt:function(){return eV},Pr:function(){return eW},tf:function(){return e$},zH:function(){return eY}});let o=w(),s=e=>y(e,o),l=w();s.write=e=>y(e,l);let u=w();s.onStart=e=>y(e,u);let c=w();s.onFrame=e=>y(e,c);let d=w();s.onFinish=e=>y(e,d);let f=[];s.setTimeout=(e,t)=>{let n=s.now()+t,r=()=>{let e=f.findIndex(e=>e.cancel==r);~e&&f.splice(e,1),v-=~e?1:0},i={time:n,handler:e,cancel:r};return f.splice(h(n),0,i),v+=1,_(),i};let h=e=>~(~f.findIndex(t=>t.time>e)||~f.length);s.cancel=e=>{u.delete(e),c.delete(e),o.delete(e),l.delete(e),d.delete(e)},s.sync=e=>{g=!0,s.batchedUpdates(e),g=!1},s.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...e){t=e,s.onStart(n)}return r.handler=e,r.cancel=()=>{u.delete(n),t=null},r};let p="undefined"!=typeof window?window.requestAnimationFrame:()=>{};s.use=e=>p=e,s.now="undefined"!=typeof performance?()=>performance.now():Date.now,s.batchedUpdates=e=>e(),s.catch=console.error,s.frameLoop="always",s.advance=()=>{"demand"!==s.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):x()};let m=-1,v=0,g=!1;function y(e,t){g?(t.delete(e),e(0)):(t.add(e),_())}function _(){m<0&&(m=0,"demand"!==s.frameLoop&&p(b))}function b(){~m&&(p(b),s.batchedUpdates(x))}function x(){let e=m;m=s.now();let t=h(m);t&&(S(f.splice(0,t),e=>e.handler()),v-=t),u.flush(),o.flush(e?Math.min(64,m-e):16.667),c.flush(),l.flush(),d.flush(),v||(m=-1)}function w(){let e=new Set,t=e;return{add(n){v+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(v-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,v-=t.size,S(t,t=>t(n)&&e.add(t)),v+=e.size,t=e)}}}function S(e,t){e.forEach(e=>{try{t(e)}catch(e){s.catch(e)}})}var E=n(7294);function T(){}let k=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),C={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function O(e,t){if(C.arr(e)){if(!C.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}let M=(e,t)=>e.forEach(t);function P(e,t,n){if(C.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(let r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}let U=e=>C.und(e)?[]:C.arr(e)?e:[e];function I(e,t){if(e.size){let n=Array.from(e);e.clear(),M(n,t)}}let A=(e,...t)=>I(e,e=>e(...t)),z=()=>"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),D=null,N=!1,L=T;var F=Object.freeze({__proto__:null,get createStringInterpolator(){return r},get to(){return i},get colors(){return D},get skipAnimation(){return N},get willAdvance(){return L},assign:e=>{e.to&&(i=e.to),e.now&&(s.now=e.now),void 0!==e.colors&&(D=e.colors),null!=e.skipAnimation&&(N=e.skipAnimation),e.createStringInterpolator&&(r=e.createStringInterpolator),e.requestAnimationFrame&&s.use(e.requestAnimationFrame),e.batchedUpdates&&(s.batchedUpdates=e.batchedUpdates),e.willAdvance&&(L=e.willAdvance),e.frameLoop&&(s.frameLoop=e.frameLoop)}});let R=new Set,j=[],B=[],V=0,G={get idle(){return!R.size&&!j.length},start(e){V>e.priority?(R.add(e),s.onStart(H)):(W(e),s(q))},advance:q,sort(e){if(V)s.onFrame(()=>G.sort(e));else{let t=j.indexOf(e);~t&&(j.splice(t,1),$(e))}},clear(){j=[],R.clear()}};function H(){R.forEach(W),R.clear(),s(q)}function W(e){j.includes(e)||$(e)}function $(e){j.splice(function(e,t){let n=e.findIndex(t);return n<0?e.length:n}(j,t=>t.priority>e.priority),0,e)}function q(e){let t=B;for(let n=0;n<j.length;n++){let r=j[n];V=r.priority,r.idle||(L(r),r.advance(e),r.idle||t.push(r))}return V=0,(B=j).length=0,(j=t).length>0}let Y={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},X="[-+]?\\d*\\.?\\d+",Q=X+"%";function K(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}let Z=RegExp("rgb"+K(X,X,X)),J=RegExp("rgba"+K(X,X,X,X)),ee=RegExp("hsl"+K(X,Q,Q)),et=RegExp("hsla"+K(X,Q,Q,X)),en=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,er=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ei=/^#([0-9a-fA-F]{6})$/,ea=/^#([0-9a-fA-F]{8})$/;function eo(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function es(e,t,n){let r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,a=eo(i,r,e+1/3),o=eo(i,r,e),s=eo(i,r,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}function el(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function eu(e){let t=parseFloat(e);return(t%360+360)%360/360}function ec(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function ed(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}function ef(e){let t;let n="number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=ei.exec(e))?parseInt(t[1]+"ff",16)>>>0:D&&void 0!==D[e]?D[e]:(t=Z.exec(e))?(el(t[1])<<24|el(t[2])<<16|el(t[3])<<8|255)>>>0:(t=J.exec(e))?(el(t[1])<<24|el(t[2])<<16|el(t[3])<<8|ec(t[4]))>>>0:(t=en.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=ea.exec(e))?parseInt(t[1],16)>>>0:(t=er.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ee.exec(e))?(255|es(eu(t[1]),ed(t[2]),ed(t[3])))>>>0:(t=et.exec(e))?(es(eu(t[1]),ed(t[2]),ed(t[3]))|ec(t[4]))>>>0:null;return null===n?e:`rgba(${(4278190080&(n=n||0))>>>24}, ${(16711680&n)>>>16}, ${(65280&n)>>>8}, ${(255&n)/255})`}let eh=(e,t,n)=>{if(C.fun(e))return e;if(C.arr(e))return eh({range:e,output:t,extrapolate:n});if(C.str(e.output[0]))return r(e);let i=e.output,a=e.range||[0,1],o=e.extrapolateLeft||e.extrapolate||"extend",s=e.extrapolateRight||e.extrapolate||"extend",l=e.easing||(e=>e);return t=>{let n=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(t,a);return function(e,t,n,r,i,a,o,s,l){let u=l?l(e):e;if(u<t){if("identity"===o)return u;"clamp"===o&&(u=t)}if(u>n){if("identity"===s)return u;"clamp"===s&&(u=n)}return r===i?r:t===n?e<=t?r:i:(t===-1/0?u=-u:n===1/0?u-=t:u=(u-t)/(n-t),u=a(u),r===-1/0?u=-u:i===1/0?u+=r:u=u*(i-r)+r,u)}(t,a[n],a[n+1],i[n],i[n+1],l,o,s,e.map)}};function ep(){return(ep=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let em=Symbol.for("FluidValue.get"),ev=Symbol.for("FluidValue.observers"),eg=e=>!!(e&&e[em]),ey=e=>e&&e[em]?e[em]():e,e_=e=>e[ev]||null;function eb(e,t){let n=e[ev];n&&n.forEach(e=>{e.eventObserved?e.eventObserved(t):e(t)})}class ex{constructor(e){if(this[em]=void 0,this[ev]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");ew(this,e)}}let ew=(e,t)=>eT(e,em,t);function eS(e,t){if(e[em]){let n=e[ev];n||eT(e,ev,n=new Set),!n.has(t)&&(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function eE(e,t){let n=e[ev];if(n&&n.has(t)){let r=n.size-1;r?n.delete(t):e[ev]=null,e.observerRemoved&&e.observerRemoved(r,t)}}let eT=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),ek=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,eC=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,eO=RegExp(`(${ek.source})(%|[a-z]+)`,"i"),eM=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,eP=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,eU=e=>{let[t,n]=eI(e);if(!t||z())return e;let r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){let e=window.getComputedStyle(document.documentElement).getPropertyValue(n);if(e)return e}else if(n&&eP.test(n))return eU(n);else if(n)return n;return e},eI=e=>{let t=eP.exec(e);if(!t)return[,];let[,n,r]=t;return[n,r]},eA=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,ez=e=>{a||(a=D?RegExp(`(${Object.keys(D).join("|")})(?!\\w)`,"g"):/^\b$/);let t=e.output.map(e=>ey(e).replace(eP,eU).replace(eC,ef).replace(a,ef)),n=t.map(e=>e.match(ek).map(Number)),r=n[0].map((e,t)=>n.map(e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})),i=r.map(t=>eh(ep({},e,{output:t})));return e=>{var n;let r=!eO.test(t[0])&&(null==(n=t.find(e=>eO.test(e)))?void 0:n.replace(ek,"")),a=0;return t[0].replace(ek,()=>`${i[a++](e)}${r||""}`).replace(eM,eA)}},eD="react-spring: ",eN=e=>{let t=!1;if("function"!=typeof e)throw TypeError(`${eD}once requires a function parameter`);return(...n)=>{t||(e(...n),t=!0)}},eL=eN(console.warn);function eF(){eL(`${eD}The "interpolate" function is deprecated in v9 (use "to" instead)`)}let eR=eN(console.warn);function ej(){eR(`${eD}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function eB(e){return C.str(e)&&("#"==e[0]||/\d/.test(e)||!z()&&eP.test(e)||e in(D||{}))}let eV="undefined"!=typeof window&&window.document&&window.document.createElement?E.useLayoutEffect:E.useEffect,eG=()=>{let e=(0,E.useRef)(!1);return eV(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function eH(){let e=(0,E.useState)()[1],t=eG();return()=>{t.current&&e(Math.random())}}function eW(e,t){let[n]=(0,E.useState)(()=>({inputs:t,result:e()})),r=(0,E.useRef)(),i=r.current,a=i;if(a){let n=!!(t&&a.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,a.inputs));n||(a={inputs:t,result:e()})}else a=n;return(0,E.useEffect)(()=>{r.current=a,i==n&&(n.inputs=n.result=void 0)},[a]),a.result}let e$=e=>(0,E.useEffect)(e,eq),eq=[];function eY(e){let t=(0,E.useRef)();return(0,E.useEffect)(()=>{t.current=e}),t.current}},6233:function(){},8716:function(){},1906:function(e,t){"use strict";/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function n(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<a(i,t))e[r]=t,e[n]=i,n=r;else break}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else if(u<i&&0>a(c,n))e[r]=c,e[u]=n,r=u;else break}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o,s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],d=[],f=1,h=null,p=3,m=!1,v=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,_="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=r(d);null!==t;){if(null===t.callback)i(d);else if(t.startTime<=e)i(d),t.sortIndex=t.expirationTime,n(c,t);else break;t=r(d)}}function w(e){if(g=!1,x(e),!v){if(null!==r(c))v=!0,A(S);else{var t=r(d);null!==t&&z(w,t.startTime-e)}}}function S(e,n){v=!1,g&&(g=!1,_(k),k=-1),m=!0;var a=p;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!M());){var o=h.callback;if("function"==typeof o){h.callback=null,p=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?h.callback=s:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var u=r(d);null!==u&&z(w,u.startTime-n),l=!1}return l}finally{h=null,p=a,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E=!1,T=null,k=-1,C=5,O=-1;function M(){return!(t.unstable_now()-O<C)}function P(){if(null!==T){var e=t.unstable_now();O=e;var n=!0;try{n=T(!0,e)}finally{n?o():(E=!1,T=null)}}else E=!1}if("function"==typeof b)o=function(){b(P)};else if("undefined"!=typeof MessageChannel){var U=new MessageChannel,I=U.port2;U.port1.onmessage=P,o=function(){I.postMessage(null)}}else o=function(){y(P,0)};function A(e){T=e,E||(E=!0,o())}function z(e,n){k=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,A(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?o+a:o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s,sortIndex:-1},a>o?(e.sortIndex=a,n(d,e),null===r(c)&&e===r(d)&&(g?(_(k),k=-1):g=!0,z(w,a-o))):(e.sortIndex=s,n(c,e),v||m||(v=!0,A(S))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},5431:function(e,t,n){"use strict";e.exports=n(1906)},4184:function(e,t){var n;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0!==(n=(function(){return i}).apply(t,[]))&&(e.exports=n)}()},296:function(e){function t(e,t,n){function r(){var u=Date.now()-s;u<t&&u>=0?i=setTimeout(r,t-u):(i=null,n||(l=e.apply(o,a),o=a=null))}null==t&&(t=100);var i,a,o,s,l,u=function(){o=this,a=arguments,s=Date.now();var u=n&&!i;return i||(i=setTimeout(r,t)),u&&(l=e.apply(o,a),o=a=null),l};return u.clear=function(){i&&(clearTimeout(i),i=null)},u.flush=function(){i&&(l=e.apply(o,a),o=a=null,clearTimeout(i),i=null)},u}t.debounce=t,e.exports=t},2050:function(e){"use strict";var t={ellipse:"…",chars:[" ","-"],max:140,truncate:!0};function n(e,t,n,r){if(e<=t)return e;if(t<2)return e.slice(0,t-n.length)+n;for(var i=Math.floor((t-n.length)/2),a=i,o=e.length-i,s=0;s<i;s++){var l=e.charAt(s),u=e.length-s,c=e.charAt(u);-1!==r.indexOf(l)&&(a=s),-1!==r.indexOf(c)&&(o=u)}return e.slice(0,a)+n+e.slice(o)}function r(e,t,n,r,i){if(e.length<=t)return e;for(var a=t-n.length,o=a,s=0;s<=a;s++){var l=e.charAt(s);-1!==r.indexOf(l)&&(o=s)}return i||o!=a?e.slice(0,o)+n:""}e.exports=function(e,i,a){if("string"!=typeof e||0===e.length||0===i)return"";for(var o in a=a||{},t)(null===a[o]||void 0===a[o])&&(a[o]=t[o]);return(a.max=i||a.max,"middle"==a.truncate)?n(e,a.max,a.ellipse,a.chars):r(e,a.max,a.ellipse,a.chars,a.truncate)},e.exports.ellipsizeMiddle=n,e.exports.ellipsize=r},2441:function(e,t,n){var r;!function(i,a,o){if(i){for(var s,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},c={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},d={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},f=1;f<20;++f)l[111+f]="f"+f;for(f=0;f<=9;++f)l[f+96]=f.toString();g.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},g.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t)},g.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},g.prototype.reset=function(){return this._callbacks={},this._directMap={},this},g.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1||function e(t,n){return null!==t&&t!==a&&(t===n||e(t.parentNode,n))}(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},g.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},g.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);s=null},g.init=function(){var e=g(a);for(var t in e)"_"!==t.charAt(0)&&(g[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},g.init(),i.Mousetrap=g,e.exports&&(e.exports=g),void 0!==(r=(function(){return g}).call(t,n,t,e))&&(e.exports=r)}function h(e,t,n){if(e.addEventListener){e.addEventListener(t,n,!1);return}e.attachEvent("on"+t,n)}function p(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return l[e.which]?l[e.which]:u[e.which]?u[e.which]:String.fromCharCode(e.which).toLowerCase()}function m(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function v(e,t){var n,r,i,a,o,u,f=[];for(u=0,a="+"===(n=e)?["+"]:(n=n.replace(/\+{2}/g,"+plus")).split("+");u<a.length;++u)d[o=a[u]]&&(o=d[o]),t&&"keypress"!=t&&c[o]&&(o=c[o],f.push("shift")),m(o)&&f.push(o);return r=o,(i=t)||(i=function(){if(!s)for(var e in s={},l)(!(e>95)||!(e<112))&&l.hasOwnProperty(e)&&(s[l[e]]=e);return s}()[r]?"keydown":"keypress"),"keypress"==i&&f.length&&(i="keydown"),{key:o,modifiers:f,action:t=i}}function g(e){var t,n=this;if(e=e||a,!(n instanceof g))return new g(e);n.target=e,n._callbacks={},n._directMap={};var r={},i=!1,o=!1,s=!1;function l(e){e=e||{};var t,n=!1;for(t in r){if(e[t]){n=!0;continue}r[t]=0}n||(s=!1)}function u(e,t,i,a,o,s){var l,u,c=[],d=i.type;if(!n._callbacks[e])return[];for("keyup"==d&&m(e)&&(t=[e]),l=0;l<n._callbacks[e].length;++l)if(u=n._callbacks[e][l],(a||!u.seq||r[u.seq]==u.level)&&d==u.action&&("keypress"==d&&!i.metaKey&&!i.ctrlKey||(f=t,h=u.modifiers,f.sort().join(",")===h.sort().join(",")))){var f,h,p=!a&&u.combo==o,v=a&&u.seq==a&&u.level==s;(p||v)&&n._callbacks[e].splice(l,1),c.push(u)}return c}function c(e,t,r,i){n.stopCallback(t,t.target||t.srcElement,r,i)||!1!==e(t,r)||(!function(e){if(e.preventDefault){e.preventDefault();return}e.returnValue=!1}(t),function(e){if(e.stopPropagation){e.stopPropagation();return}e.cancelBubble=!0}(t))}function d(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t,r=p(e);if(r){if("keyup"==e.type&&i===r){i=!1;return}n.handleKey(r,(t=[],e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t),e)}}n._handleKey=function(e,t,n){var r,i=u(e,t,n),a={},d=0,f=!1;for(r=0;r<i.length;++r)i[r].seq&&(d=Math.max(d,i[r].level));for(r=0;r<i.length;++r){if(i[r].seq){if(i[r].level!=d)continue;f=!0,a[i[r].seq]=1,c(i[r].callback,n,i[r].combo,i[r].seq);continue}f||c(i[r].callback,n,i[r].combo)}var h="keypress"==n.type&&o;n.type!=s||m(e)||h||l(a),o=f&&"keydown"==n.type},n._bindMultiple=function(e,a,o){for(var d=0;d<e.length;++d)(function e(a,o,d,f,h){n._directMap[a+":"+d]=o;var m,g=(a=a.replace(/\s+/g," ")).split(" ");if(g.length>1){!function(n,a,o,u){function d(e){c(o,e,n),"keyup"!==u&&(i=p(e)),setTimeout(l,10)}r[n]=0;for(var f=0;f<a.length;++f){var h=f+1===a.length?d:function(e){return function(){s=e,++r[n],clearTimeout(t),t=setTimeout(l,1e3)}}(u||v(a[f+1]).action);e(a[f],h,u,n,f)}}(a,g,o,d);return}m=v(a,d),n._callbacks[m.key]=n._callbacks[m.key]||[],u(m.key,m.modifiers,{type:m.action},f,a,h),n._callbacks[m.key][f?"unshift":"push"]({callback:o,modifiers:m.modifiers,action:m.action,seq:f,level:h,combo:a})})(e[d],a,o)},h(e,"keypress",d),h(e,"keydown",d),h(e,"keyup",d)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},3454:function(e,t,n){"use strict";var r,i;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(7663)},7663:function(e){!function(){var t={229:function(e){var t,n,r,i=e.exports={};function a(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l=[],u=!1,c=-1;function d(){u&&r&&(u=!1,r.length?l=r.concat(l):c=-1,l.length&&f())}function f(){if(!u){var e=s(d);u=!0;for(var t=l.length;t;){for(r=l,l=[];++c<t;)r&&r[c].run();c=-1,t=l.length}r=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={exports:{}},o=!0;try{t[e](a,a.exports,r),o=!1}finally{o&&delete n[e]}return a.exports}r.ab="//";var i=r(229);e.exports=i}()},8216:function(e,t,n){e.exports.degree=n(9176),e.exports.betweenness=n(4476),e.exports.closeness=n(7720),e.exports.eccentricity=n(3185)},4476:function(e){e.exports=function(e,t){var n,r=[],i=[],a=Object.create(null),o=Object.create(null),s=Object.create(null),l=Object.create(null),u=Object.create(null);return e.forEachNode(function(e){u[e.id]=0}),e.forEachNode(function(d){(function(n){for(e.forEachNode(function(e){var t=e.id;a[t]=[],o[t]=-1,s[t]=0}),o[n]=0,s[n]=1,r.push(n);r.length;){var l=r.shift();i.push(l),e.forEachLinkedNode(l,u,t)}function u(e){var t;-1===o[t=e.id]&&(o[t]=o[l]+1,r.push(t)),o[t]===o[l]+1&&(s[t]+=s[l],a[t].push(l))}})(n=d.id),function(){for(e.forEachNode(c);i.length;){for(var t=i.pop(),r=(1+l[t])/s[t],o=a[t],d=0;d<o.length;++d){var f=o[d];l[f]+=s[f]*r}t!==n&&(u[t]+=l[t])}}()}),t||Object.keys(u).forEach(function(e){u[e]/=2}),u;function c(e){l[e.id]=0}}},7720:function(e){e.exports=function(e,t){var n,r=[],i=Object.create(null),a=Object.create(null);return e.forEachNode(function(e){a[e.id]=0}),e.forEachNode(function(o){var s,l,u;(function(n){for(e.forEachNode(function(e){i[e.id]=-1}),i[n]=0,r.push(n);r.length;){var a=r.shift();e.forEachLinkedNode(a,o,t)}function o(e){var t=e.id;-1===i[t]&&(i[t]=i[a]+1,r.push(t))}})(n=o.id),l=(s=Object.keys(i).map(function(e){return i[e]}).filter(function(e){return -1!==e})).length,(u=s.reduce(function(e,t){return e+t},0))>0?a[n]=(l-1)/u:a[n]=0}),a}},9176:function(e){function t(e,t){var n=0;return e&&e.forEach(function(e){n+=e.toId===t?1:0}),n}function n(e,t){var n=0;return e&&e.forEach(function(e){n+=e.fromId===t?1:0}),n}function r(e){return e?e.size||e.length:0}e.exports=function(e,i){var a,o=Object.create(null);if("both"===(i=(i||"both").toLowerCase())||"inout"===i)a=r;else if("in"===i)a=t;else if("out"===i)a=n;else throw Error("Expected centrality degree kind is: in, out or both");return e.forEachNode(function(t){var n=e.getLinks(t.id);o[t.id]=a(n,t.id)}),o}},3185:function(e){e.exports=function(e,t){var n,r=[],i=Object.create(null),a=Object.create(null);return e.forEachNode(function(e){a[e.id]=0}),e.forEachNode(function(o){var s;(function(n){for(e.forEachNode(function(e){i[e.id]=-1}),i[n]=0,r.push(n);r.length;){var a=r.shift();e.forEachLinkedNode(a,o,t)}function o(e){var t=e.id;-1===i[t]&&(i[t]=i[a]+1,r.push(t))}})(n=o.id),s=0,Object.keys(i).forEach(function(e){var t=i[e];s<t&&(s=t)}),a[n]=s}),a}},7447:function(e){e.exports=function(e,t){if(!e)throw Error("Graph structure cannot be undefined");var n={},r={};return i(),e.on("changed",function(e){for(var t=0;t<e.length;++t){var n=e[t];"add"===n.changeType?(n.node&&i(),n.link&&(r[n.link.id]=a(n.link))):"remove"===n.changeType&&(n.node&&i(),n.link&&(r[n.link.id]=null))}}),{step:function(){return!0},getNodePosition:function(e){return n[e]},getGraphRect:function(){return graphRect},getLinkPosition:function(e){return r[e]},setNodesPositions:function(){}};function i(){var i,o,s,l,u;o=e.getNodesCount(),s=0,l=t.radius,u=t.center,0!==o&&(i=2*Math.PI/o,e.forEachNode(function(e){var t={x:u.x+l*Math.sin(s),y:u.y+l*Math.cos(s)};n[e.id]?(n[e.id].x=t.x,n[e.id].y=t.y):n[e.id]=t,s+=i})),e.forEachLink(function(e){var t=a(e);r[e.id]?(r[e.id].from=t.from,r[e.id].to=t.to):r[e.id]=t})}function a(e){return{from:{x:n[e.fromId].x,y:n[e.fromId].y},to:{x:n[e.toId].x,y:n[e.toId].y}}}}},4245:function(e){e.exports=function(e){!function(e){if(!e)throw Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}(e);var t,n=(t=Object.create(null),{on:function(n,r,i){if("function"!=typeof r)throw Error("callback is expected to be a function");var a=t[n];return a||(a=t[n]=[]),a.push({callback:r,ctx:i}),e},off:function(n,r){if(void 0===n)return t=Object.create(null),e;if(t[n]){if("function"!=typeof r)delete t[n];else for(var i=t[n],a=0;a<i.length;++a)i[a].callback===r&&i.splice(a,1)}return e},fire:function(n){var r,i=t[n];if(!i)return e;arguments.length>1&&(r=Array.prototype.splice.call(arguments,1));for(var a=0;a<i.length;++a){var o=i[a];o.callback.apply(o.ctx,r)}return e}});return e.on=n.on,e.off=n.off,e.fire=n.fire,e}},4736:function(e,t,n){e.exports=function(e){if("uniqueLinkId"in(e=e||{})&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now on each graph\nis considered to be not a multigraph by default (each edge is unique)."),e.multigraph=e.uniqueLinkId),void 0===e.multigraph&&(e.multigraph=!1),"function"!=typeof Map)throw Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var t,n=new Map,l=new Map,u={},c=0,d=e.multigraph?function(e,t,n){var r=s(e,t),i=u.hasOwnProperty(r);if(i||k(e,t)){i||(u[r]=0);var a="@"+ ++u[r];r=s(e+a,t+a)}return new o(e,t,n,r)}:function(e,t,n){var r=s(e,t),i=l.get(r);return i?(i.data=n,i):new o(e,t,n,r)},f=[],h=C,p=C,m=C,v=C,g={version:20,addNode:b,addLink:function(e,t,n){m();var r=x(e)||b(e),i=x(t)||b(t),o=d(e,t,n),s=l.has(o.id);return l.set(o.id,o),a(r,o),e!==t&&a(i,o),h(o,s?"update":"add"),v(),o},removeLink:function(e,t){return void 0!==t&&(e=k(e,t)),T(e)},removeNode:w,getNode:x,getNodeCount:S,getLinkCount:E,getEdgeCount:E,getLinksCount:E,getNodesCount:S,getLinks:function(e){var t=x(e);return t?t.links:null},forEachNode:P,forEachLinkedNode:function(e,t,r){var i=x(e);if(i&&i.links&&"function"==typeof t)return r?function(e,t,r){for(var i=e.values(),a=i.next();!a.done;){var o=a.value;if(o.fromId===t&&r(n.get(o.toId),o))return!0;a=i.next()}}(i.links,e,t):function(e,t,r){for(var i=e.values(),a=i.next();!a.done;){var o=a.value,s=o.fromId===t?o.toId:o.fromId;if(r(n.get(s),o))return!0;a=i.next()}}(i.links,e,t)},forEachLink:function(e){if("function"==typeof e)for(var t=l.values(),n=t.next();!n.done;){if(e(n.value))return!0;n=t.next()}},beginUpdate:m,endUpdate:v,clear:function(){m(),P(function(e){w(e.id)}),v()},hasLink:k,hasNode:x,getLink:k};return r(g),t=g.on,g.on=function(){return g.beginUpdate=m=O,g.endUpdate=v=M,h=y,p=_,g.on=t,t.apply(g,arguments)},g;function y(e,t){f.push({link:e,changeType:t})}function _(e,t){f.push({node:e,changeType:t})}function b(e,t){if(void 0===e)throw Error("Invalid node identifier");m();var r=x(e);return r?(r.data=t,p(r,"update")):p(r=new i(e,t),"add"),n.set(e,r),v(),r}function x(e){return n.get(e)}function w(e){var t=x(e);if(!t)return!1;m();var r=t.links;return r&&(r.forEach(T),t.links=null),n.delete(e),p(t,"remove"),v(),!0}function S(){return n.size}function E(){return l.size}function T(e){if(!e||!l.get(e.id))return!1;m(),l.delete(e.id);var t=x(e.fromId),n=x(e.toId);return t&&t.links.delete(e),n&&n.links.delete(e),h(e,"remove"),v(),!0}function k(e,t){if(void 0!==e&&void 0!==t)return l.get(s(e,t))}function C(){}function O(){c+=1}function M(){0==(c-=1)&&f.length>0&&(g.fire("changed",f),f.length=0)}function P(e){if("function"!=typeof e)throw Error("Function is expected to iterate over graph nodes. You passed "+e);for(var t=n.values(),r=t.next();!r.done;){if(e(r.value))return!0;r=t.next()}}};var r=n(4245);function i(e,t){this.id=e,this.links=null,this.data=t}function a(e,t){e.links?e.links.add(t):e.links=new Set([t])}function o(e,t,n,r){this.fromId=e,this.toId=t,this.data=n,this.id=r}function s(e,t){return e.toString()+"\uD83D\uDC49 "+t.toString()}},7078:function(e){e.exports=function(e,t,n){"number"!=typeof n&&(n=.005),"number"!=typeof t&&(t=.85);var r,i,a,o,s,l,u,c,d,f=e.getNodesCount(),h=(r=0,i=0,a=e.getNodesCount(),o=e.getLinksCount(),s=1/a,l=new Float64Array(5*a),u=new Float64Array(o),c=Array(a),d=Object.create(null),e.forEachNode(function(e){var t=5*r;l[t]=s,l[t+1]=s,l[t+2]=0,l[t+3]=0,l[t+4]=-1,d[e.id]=r,c[r]=e.id,r+=1}),e.forEachNode(function(t){var n=5*d[t.id],r=0,a=0,o=i;e.forEachLinkedNode(t.id,function(e,n){n.fromId===t.id&&(a+=1),n.toId===t.id&&(r+=1,u[i++]=5*d[e.id])}),l[n+2]=a,l[n+3]=r,o!==i&&(l[n+4]=o)}),{nodes:l,edges:u,numberToId:c}),p=h.nodes;return function(e,t,n,r,i){var a,o,s=!1,l=0,u=0;do{u=0;for(var c=0;c<n;++c){a=0;var d=e[(o=5*c)+3];if(0===d)e[o]=0;else{for(var f=e[o+4],h=f;h<f+d;++h){var p=t[h];a+=e[p+1]/e[p+2]}e[o]=r*a,u+=e[o]}}for(c=0,u=(1-u)/n,l=0;c<n;++c)l+=Math.abs((a=e[o=5*c]+u)-e[o+1]),e[o+1]=a;s=l<i}while(!s)}(p,h.edges,f,t,n),function(e,t){for(var n=Object.create(null),r=e.length/5,i=0;i<r;++i){var a=5*i;n[t[i]]=e[a+1]}return n}(p,h.numberToId)}},1039:function(e){function t(e,i){if(!(this instanceof t))return new t(e,i);if(Array.isArray(e)||(i=e,e=[]),i=i||{},this.data=e||[],this.length=this.data.length,this.compare=i.compare||r,this.setNodeId=i.setNodeId||n,this.length>0)for(var a=this.length>>1;a>=0;a--)this._down(a);if(i.setNodeId)for(var a=0;a<this.length;++a)this.setNodeId(this.data[a],a)}function n(){}function r(e,t){return e-t}e.exports=t,t.prototype={push:function(e){this.data.push(e),this.setNodeId(e,this.length),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this.setNodeId(this.data[0],0),this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},updateItem:function(e){this._down(e),this._up(e)},_up:function(e){for(var t=this.data,n=this.compare,r=this.setNodeId,i=t[e];e>0;){var a=e-1>>1,o=t[a];if(n(i,o)>=0)break;t[e]=o,r(o,e),e=a}t[e]=i,r(i,e)},_down:function(e){for(var t=this.data,n=this.compare,r=this.length>>1,i=t[e],a=this.setNodeId;e<r;){var o=(e<<1)+1,s=o+1,l=t[o];if(s<this.length&&0>n(t[s],l)&&(o=s,l=t[s]),n(l,i)>=0)break;t[e]=l,a(l,e),e=o}t[e]=i,a(i,e)}}},4394:function(e,t,n){e.exports=function(e,t){var n=(t=t||{}).oriented,a=t.heuristic;a||(a=o.heuristic);var l=t.distance;l||(l=o.distance);var u=i();return{find:function(t,i){var c,d,f=e.getNode(t);if(!f)throw Error("fromId is not defined in this graph: "+t);var h=e.getNode(i);if(!h)throw Error("toId is not defined in this graph: "+i);if(f===h)return[f];u.reset();var p=n?function(e,t){if(1===w){if(t.fromId===S.node.id)return E(e,t,S)}else if(2===w&&t.toId===S.node.id)return E(e,t,S)}:function(e,t){return E(e,t,S)},m=new Map,v=new r({compare:o.compareFScore,setNodeId:o.setHeapIndex}),g=new r({compare:o.compareFScore,setNodeId:o.setHeapIndex}),y=u.createNewState(f);m.set(t,y),y.fScore=a(f,h),y.distanceToSource=0,v.push(y),y.open=1;var _=u.createNewState(h);_.fScore=a(h,f),_.distanceToSource=0,g.push(_),_.open=2;for(var b=Number.POSITIVE_INFINITY,x=v,w=1;v.length>0&&g.length>0;){v.length<g.length?(w=1,x=v):(w=2,x=g);var S=x.pop();if(S.closed=!0,!(S.distanceToSource>b)&&(e.forEachLinkedNode(S.node.id,p),c&&d))return function(e,t){for(var n=[],r=e;r;)n.push(r.node),r=r.parent;for(var i=t;i;)n.unshift(i.node),i=i.parent;return n}(c,d)}return s;function E(e,t,n){var r,i=m.get(e.id);if(i||(i=u.createNewState(e),m.set(e.id,i)),!i.closed){if((r=i.open)&&r!==w){var o=i.distanceToSource+n.distanceToSource;o<b&&(c=i,d=n,b=o);return}var s=n.distanceToSource+l(i.node,n.node,t);if(!(s>=i.distanceToSource)){var p=1===w?h:f,v=s+a(i.node,p);v>=b||(i.fScore=v,0===i.open&&(x.push(i),x.updateItem(i.heapIndex),i.open=w),i.parent=n,i.distanceToSource=s)}}}}}};var r=n(1039),i=n(2492),a=n(4276),o=n(2100),s=o.NO_PATH;e.exports.l2=a.l2,e.exports.l1=a.l1},1005:function(e,t,n){e.exports=function(e,t){var n=(t=t||{}).oriented,a=t.heuristic;a||(a=o.heuristic);var l=t.distance;l||(l=o.distance);var u=i();return{find:function(t,i){var c,d=e.getNode(t);if(!d)throw Error("fromId is not defined in this graph: "+t);var f=e.getNode(i);if(!f)throw Error("toId is not defined in this graph: "+i);u.reset();var h=new Map,p=new r({compare:o.compareFScore,setNodeId:o.setHeapIndex}),m=u.createNewState(d);for(h.set(t,m),m.fScore=a(d,f),m.distanceToSource=0,p.push(m),m.open=1;p.length>0;){if((c=p.pop()).node===f)return function(e){for(var t=[e.node],n=e.parent;n;)t.push(n.node),n=n.parent;return t}(c);c.closed=!0,e.forEachLinkedNode(c.node.id,v,n)}return s;function v(e,t){var n=h.get(e.id);if(n||(n=u.createNewState(e),h.set(e.id,n)),!n.closed){0===n.open&&(p.push(n),n.open=1);var r=c.distanceToSource+l(e,c.node,t);r>=n.distanceToSource||(n.parent=c,n.distanceToSource=r,n.fScore=r+a(n.node,f),p.updateItem(n.heapIndex))}}}}};var r=n(1039),i=n(2492),a=n(4276),o=n(2100),s=o.NO_PATH;e.exports.l2=a.l2,e.exports.l1=a.l1},2100:function(e){var t=[];"function"==typeof Object.freeze&&Object.freeze(t),e.exports={heuristic:function(){return 0},distance:function(){return 1},compareFScore:function(e,t){return e.fScore-t.fScore},NO_PATH:t,setHeapIndex:function(e,t){e.heapIndex=t},setH1:function(e,t){e.h1=t},setH2:function(e,t){e.h2=t},compareF1Score:function(e,t){return e.f1-t.f1},compareF2Score:function(e,t){return e.f2-t.f2}}},4276:function(e){e.exports={l2:function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},l1:function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)}}},2492:function(e){function t(e){this.node=e,this.parent=null,this.closed=!1,this.open=0,this.distanceToSource=Number.POSITIVE_INFINITY,this.fScore=Number.POSITIVE_INFINITY,this.heapIndex=-1}e.exports=function(){var e=0,n=[];return{createNewState:function(r){var i=n[e];return i?(i.node=r,i.parent=null,i.closed=!1,i.open=0,i.distanceToSource=Number.POSITIVE_INFINITY,i.fScore=Number.POSITIVE_INFINITY,i.heapIndex=-1):(i=new t(r),n[e]=i),e++,i},reset:function(){e=0}}}},9238:function(e,t,n){e.exports=function(e,t){var n=(t=t||{}).oriented,i=t.quitFast,l=t.heuristic;l||(l=a.heuristic);var u=t.distance;u||(u=a.distance);var c=o();return{find:function(t,o){var d,f,h=e.getNode(t);if(!h)throw Error("fromId is not defined in this graph: "+t);var p=e.getNode(o);if(!p)throw Error("toId is not defined in this graph: "+o);c.reset();var m=n?function(e,t){if(t.fromId===f.node.id)return T(e,t)}:T,v=n?function(e,t){if(t.toId===f.node.id)return k(e,t)}:k,g=new Map,y=new r({compare:a.compareF1Score,setNodeId:a.setH1}),_=new r({compare:a.compareF2Score,setNodeId:a.setH2}),b=Number.POSITIVE_INFINITY,x=c.createNewState(h);g.set(t,x),x.g1=0;var w=l(h,p);x.f1=w,y.push(x);var S=c.createNewState(p);g.set(o,S),S.g2=0;var E=w;for(S.f2=E,_.push(S);_.length&&y.length&&(y.length<_.length?!(f=y.pop()).closed&&(f.closed=!0,f.f1<b&&f.g1+E-l(h,f.node)<b&&e.forEachLinkedNode(f.node.id,m),y.length>0&&(w=y.peek().f1)):!(f=_.pop()).closed&&(f.closed=!0,f.f2<b&&f.g2+w-l(f.node,p)<b&&e.forEachLinkedNode(f.node.id,v),_.length>0&&(E=_.peek().f2)),!i||!d););return function(e){if(!e)return s;for(var t=[e.node],n=e.p1;n;)t.push(n.node),n=n.p1;for(var r=e.p2;r;)t.unshift(r.node),r=r.p2;return t}(d);function T(e,t){var n=g.get(e.id);if(n||(n=c.createNewState(e),g.set(e.id,n)),!n.closed){var r=f.g1+u(f.node,e,t);r<n.g1&&(n.g1=r,n.f1=r+l(n.node,p),n.p1=f,n.h1<0?y.push(n):y.updateItem(n.h1));var i=n.g1+n.g2;i<b&&(b=i,d=n)}}function k(e,t){var n=g.get(e.id);if(n||(n=c.createNewState(e),g.set(e.id,n)),!n.closed){var r=f.g2+u(f.node,e,t);r<n.g2&&(n.g2=r,n.f2=r+l(h,n.node),n.p2=f,n.h2<0?_.push(n):_.updateItem(n.h2));var i=n.g1+n.g2;i<b&&(b=i,d=n)}}}}};var r=n(1039),i=n(4276),a=n(2100),o=n(7653),s=a.NO_PATH;e.exports.l2=i.l2,e.exports.l1=i.l1},7653:function(e){function t(e){this.node=e,this.p1=null,this.p2=null,this.closed=!1,this.g1=Number.POSITIVE_INFINITY,this.g2=Number.POSITIVE_INFINITY,this.f1=Number.POSITIVE_INFINITY,this.f2=Number.POSITIVE_INFINITY,this.h1=-1,this.h2=-1}e.exports=function(){var e=0,n=[];return{createNewState:function(r){var i=n[e];return i?(i.node=r,i.p1=null,i.p2=null,i.closed=!1,i.g1=Number.POSITIVE_INFINITY,i.g2=Number.POSITIVE_INFINITY,i.f1=Number.POSITIVE_INFINITY,i.f2=Number.POSITIVE_INFINITY,i.h1=-1,i.h2=-1):(i=new t(r),n[e]=i),e++,i},reset:function(){e=0}}}},4901:function(e,t,n){e.exports={aStar:n(1005),aGreedy:n(4394),nba:n(9238)}},6511:function(e,t){"use strict";/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},7287:function(e,t,n){/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */e.exports=function(e){"use strict";var t,r,i,a,o,s={},l=n(7294),u=n(373),c=Object.assign;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,h=Symbol.for("react.element"),p=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),_=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var k=Symbol.iterator;function C(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=k&&e[k]||e["@@iterator"])?e:null}function O(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case p:return"Portal";case g:return"Profiler";case v:return"StrictMode";case x:return"Suspense";case w:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case y:return(e._context.displayName||"Context")+".Provider";case b:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return O(e(t))}catch(e){}}return null}function M(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function P(e){if(M(e)!==e)throw Error(d(188))}function U(e){var t=e.alternate;if(!t){if(null===(t=M(e)))throw Error(d(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return P(i),e;if(a===r)return P(i),t;a=a.sibling}throw Error(d(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(d(189))}}if(n.alternate!==r)throw Error(d(190))}if(3!==n.tag)throw Error(d(188));return n.stateNode.current===n?e:t}function I(e){return null!==(e=U(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var A,z=Array.isArray,D=e.getPublicInstance,N=e.getRootHostContext,L=e.getChildHostContext,F=e.prepareForCommit,R=e.resetAfterCommit,j=e.createInstance,B=e.appendInitialChild,V=e.finalizeInitialChildren,G=e.prepareUpdate,H=e.shouldSetTextContent,W=e.createTextInstance,$=e.scheduleTimeout,q=e.cancelTimeout,Y=e.noTimeout,X=e.isPrimaryRenderer,Q=e.supportsMutation,K=e.supportsPersistence,Z=e.supportsHydration,J=e.getInstanceFromNode,ee=e.preparePortalMount,et=e.getCurrentEventPriority,en=e.detachDeletedInstance,er=e.supportsMicrotasks,ei=e.scheduleMicrotask,ea=e.supportsTestSelectors,eo=e.findFiberRoot,es=e.getBoundingRect,el=e.getTextContent,eu=e.isHiddenSubtree,ec=e.matchAccessibilityRole,ed=e.setFocusIfFocusable,ef=e.setupIntersectionObserver,eh=e.appendChild,ep=e.appendChildToContainer,em=e.commitTextUpdate,ev=e.commitMount,eg=e.commitUpdate,ey=e.insertBefore,e_=e.insertInContainerBefore,eb=e.removeChild,ex=e.removeChildFromContainer,ew=e.resetTextContent,eS=e.hideInstance,eE=e.hideTextInstance,eT=e.unhideInstance,ek=e.unhideTextInstance,eC=e.clearContainer,eO=e.cloneInstance,eM=e.createContainerChildSet,eP=e.appendChildToContainerChildSet,eU=e.finalizeContainerChildren,eI=e.replaceContainerChildren,eA=e.cloneHiddenInstance,ez=e.cloneHiddenTextInstance,eD=e.canHydrateInstance,eN=e.canHydrateTextInstance,eL=e.canHydrateSuspenseInstance,eF=e.isSuspenseInstancePending,eR=e.isSuspenseInstanceFallback,ej=e.registerSuspenseInstanceRetry,eB=e.getNextHydratableSibling,eV=e.getFirstHydratableChild,eG=e.getFirstHydratableChildWithinContainer,eH=e.getFirstHydratableChildWithinSuspenseInstance,eW=e.hydrateInstance,e$=e.hydrateTextInstance,eq=e.hydrateSuspenseInstance,eY=e.getNextHydratableInstanceAfterSuspenseInstance,eX=e.commitHydratedContainer,eQ=e.commitHydratedSuspenseInstance,eK=e.clearSuspenseBoundary,eZ=e.clearSuspenseBoundaryFromContainer,eJ=e.shouldDeleteUnhydratedTailInstances,e0=e.didNotMatchHydratedContainerTextInstance,e1=e.didNotMatchHydratedTextInstance;function e2(e){if(void 0===A)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var e3=!1;function e5(e,t){if(!e||e3)return"";e3=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{e3=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?e2(e):""}var e4=Object.prototype.hasOwnProperty,e6=[],e7=-1;function e8(e){return{current:e}}function e9(e){0>e7||(e.current=e6[e7],e6[e7]=null,e7--)}function te(e,t){e6[++e7]=e.current,e.current=t}var tt={},tn=e8(tt),tr=e8(!1),ti=tt;function ta(e,t){var n=e.type.contextTypes;if(!n)return tt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function to(e){return null!=(e=e.childContextTypes)}function ts(){e9(tr),e9(tn)}function tl(e,t,n){if(tn.current!==tt)throw Error(d(168));te(tn,t),te(tr,n)}function tu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(d(108,function(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O(t);case 8:return t===v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}(e)||"Unknown",i));return c({},n,r)}function tc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tt,ti=tn.current,te(tn,e),te(tr,tr.current),!0}function td(e,t,n){var r=e.stateNode;if(!r)throw Error(d(169));n?(e=tu(e,t,ti),r.__reactInternalMemoizedMergedChildContext=e,e9(tr),e9(tn),te(tn,e)):e9(tr),te(tr,n)}var tf=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(th(e)/tp|0)|0},th=Math.log,tp=Math.LN2,tm=64,tv=4194304;function tg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ty(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=tg(s):0!=(a&=o)&&(r=tg(a))}else 0!=(o=n&~i)?r=tg(o):0!==a&&(r=tg(a));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!=(4194240&a)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-tf(t)),r|=e[n],t&=~i;return r}function t_(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function tb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tx(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-tf(t)]=n}function tw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tf(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var tS=0;function tE(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var tT=u.unstable_scheduleCallback,tk=u.unstable_cancelCallback,tC=u.unstable_shouldYield,tO=u.unstable_requestPaint,tM=u.unstable_now,tP=u.unstable_ImmediatePriority,tU=u.unstable_UserBlockingPriority,tI=u.unstable_NormalPriority,tA=u.unstable_IdlePriority,tz=null,tD=null,tN="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},tL=null,tF=!1,tR=!1;function tj(){if(!tR&&null!==tL){tR=!0;var e=0,t=tS;try{var n=tL;for(tS=1;e<n.length;e++){var r=n[e];do r=r(!0);while(null!==r)}tL=null,tF=!1}catch(t){throw null!==tL&&(tL=tL.slice(e+1)),tT(tP,tj),t}finally{tS=t,tR=!1}}return null}var tB=f.ReactCurrentBatchConfig;function tV(e,t){if(tN(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!e4.call(t,i)||!tN(e[i],t[i]))return!1}return!0}function tG(e,t){if(e&&e.defaultProps)for(var n in t=c({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var tH=e8(null),tW=null,t$=null,tq=null;function tY(){tq=t$=tW=null}function tX(e,t,n){X?(te(tH,t._currentValue),t._currentValue=n):(te(tH,t._currentValue2),t._currentValue2=n)}function tQ(e){var t=tH.current;e9(tH),X?e._currentValue=t:e._currentValue2=t}function tK(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function tZ(e,t){tW=e,tq=t$=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(rJ=!0),e.firstContext=null)}function tJ(e){var t=X?e._currentValue:e._currentValue2;if(tq!==e){if(e={context:e,memoizedValue:t,next:null},null===t$){if(null===tW)throw Error(d(308));t$=e,tW.dependencies={lanes:0,firstContext:e}}else t$=t$.next=e}return t}var t0=null,t1=!1;function t2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function t5(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function t4(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==iX&&0!=(1&e.mode)&&0==(2&iY)?(null===(e=n.interleaved)?(t.next=t,null===t0?t0=[n]:t0.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function t6(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tw(e,n)}}function t7(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function t8(e,t,n,r){var i=e.updateQueue;t1=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var d=e.alternate;null!==d&&(s=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===s?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l)}if(null!==a){var f=i.baseState;for(o=0,d=u=l=null,s=a;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,v=s;switch(h=t,p=n,v.tag){case 1:if("function"==typeof(m=v.payload)){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(h="function"==typeof(m=v.payload)?m.call(p,f,h):m))break e;f=c({},f,h);break e;case 2:t1=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(u=d=p,l=f):d=d.next=p,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===d&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do o|=i.lane,i=i.next;while(i!==t)}else null===a&&(i.shared.lanes=0);i2|=o,e.lanes=o,e.memoizedState=f}}function t9(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(d(191,i));i.call(r)}}}var ne=(new l.Component).refs;function nt(e,t,n,r){t=e.memoizedState,n=null==(n=n(r,t))?t:c({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var nn={isMounted:function(e){return!!(e=e._reactInternals)&&M(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ac(),i=ad(e),a=t5(r,i);a.payload=t,null!=n&&(a.callback=n),t4(e,a),null!==(t=af(e,i,r))&&t6(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ac(),i=ad(e),a=t5(r,i);a.tag=1,a.payload=t,null!=n&&(a.callback=n),t4(e,a),null!==(t=af(e,i,r))&&t6(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ac(),r=ad(e),i=t5(n,r);i.tag=2,null!=t&&(i.callback=t),t4(e,i),null!==(t=af(e,r,n))&&t6(t,e,r)}};function nr(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||!tV(n,r)||!tV(i,a)}function ni(e,t,n){var r=!1,i=tt,a=t.contextType;return"object"==typeof a&&null!==a?a=tJ(a):(i=to(t)?ti:tn.current,a=(r=null!=(r=t.contextTypes))?ta(e,i):tt),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=nn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function na(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&nn.enqueueReplaceState(t,t.state,null)}function no(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ne,t2(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=tJ(a):(a=to(t)?ti:tn.current,i.context=ta(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(nt(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&nn.enqueueReplaceState(i,i.state,null),t8(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}var ns=[],nl=0,nu=null,nc=0,nd=[],nf=0,nh=null,np=1,nm="";function nv(e,t){ns[nl++]=nc,ns[nl++]=nu,nu=e,nc=t}function ng(e,t,n){nd[nf++]=np,nd[nf++]=nm,nd[nf++]=nh,nh=e;var r=np;e=nm;var i=32-tf(r)-1;r&=~(1<<i),n+=1;var a=32-tf(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,np=1<<32-tf(t)+i|n<<i|r,nm=a+e}else np=1<<a|n<<i|r,nm=e}function ny(e){null!==e.return&&(nv(e,1),ng(e,1,0))}function n_(e){for(;e===nu;)nu=ns[--nl],ns[nl]=null,nc=ns[--nl],ns[nl]=null;for(;e===nh;)nh=nd[--nf],nd[nf]=null,nm=nd[--nf],nd[nf]=null,np=nd[--nf],nd[nf]=null}var nb=null,nx=null,nw=!1,nS=!1,nE=null;function nT(e,t){var n=aF(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function nk(e,t){switch(e.tag){case 5:return null!==(t=eD(t,e.type,e.pendingProps))&&(e.stateNode=t,nb=e,nx=eV(t),!0);case 6:return null!==(t=eN(t,e.pendingProps))&&(e.stateNode=t,nb=e,nx=null,!0);case 13:if(null!==(t=eL(t))){var n=null!==nh?{id:np,overflow:nm}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=aF(18,null,null,0)).stateNode=t,n.return=e,e.child=n,nb=e,nx=null,!0}return!1;default:return!1}}function nC(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function nO(e){if(nw){var t=nx;if(t){var n=t;if(!nk(e,t)){if(nC(e))throw Error(d(418));t=eB(n);var r=nb;t&&nk(e,t)?nT(r,n):(e.flags=-4097&e.flags|2,nw=!1,nb=e)}}else{if(nC(e))throw Error(d(418));e.flags=-4097&e.flags|2,nw=!1,nb=e}}}function nM(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;nb=e}function nP(e){if(!Z||e!==nb)return!1;if(!nw)return nM(e),nw=!0,!1;if(3!==e.tag&&(5!==e.tag||eJ(e.type)&&!H(e.type,e.memoizedProps))){var t=nx;if(t){if(nC(e)){for(e=nx;e;)e=eB(e);throw Error(d(418))}for(;t;)nT(e,t),t=eB(t)}}if(nM(e),13===e.tag){if(!Z)throw Error(d(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(d(317));nx=eY(e)}else nx=nb?eB(e.stateNode):null;return!0}function nU(){Z&&(nx=nb=null,nS=nw=!1)}function nI(e){null===nE?nE=[e]:nE.push(e)}function nA(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(d(309));var r=n.stateNode}if(!r)throw Error(d(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=i.refs;t===ne&&(t=i.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(d(284));if(!n._owner)throw Error(d(290,e))}return e}function nz(e,t){throw Error(d(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nD(e){return(0,e._init)(e._payload)}function nN(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=aj(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return(t.index=r,e)?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=aH(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===m?c(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===E&&nD(a)===t.type)?((r=i(t,n.props)).ref=nA(e,t,n),r.return=e,r):((r=aB(n.type,n.key,n.props,null,e.mode,r)).ref=nA(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=aW(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,a){return null===t||7!==t.tag?((t=aV(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=aH(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case h:return(n=aB(t.type,t.key,t.props,null,e.mode,n)).ref=nA(e,null,t),n.return=e,n;case p:return(t=aW(t,e.mode,n)).return=e,t;case E:var r=t._init;return f(e,r(t._payload),n)}if(z(t)||C(t))return(t=aV(t,e.mode,n,null)).return=e,t;nz(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===i?l(e,t,n,r):null;case p:return n.key===i?u(e,t,n,r):null;case E:return v(e,t,(i=n._init)(n._payload),r)}if(z(n)||C(n))return null!==i?null:c(e,t,n,r,null);nz(e,n)}return null}function g(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case h:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case p:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return g(e,t,n,(0,r._init)(r._payload),i)}if(z(r)||C(r))return c(t,e=e.get(n)||null,r,i,null);nz(t,r)}return null}return function s(l,u,c,y){if("object"==typeof c&&null!==c&&c.type===m&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case h:e:{for(var _=c.key,b=u;null!==b;){if(b.key===_){if((_=c.type)===m){if(7===b.tag){n(l,b.sibling),(u=i(b,c.props.children)).return=l,l=u;break e}}else if(b.elementType===_||"object"==typeof _&&null!==_&&_.$$typeof===E&&nD(_)===b.type){n(l,b.sibling),(u=i(b,c.props)).ref=nA(l,b,c),u.return=l,l=u;break e}n(l,b);break}t(l,b),b=b.sibling}c.type===m?((u=aV(c.props.children,l.mode,y,c.key)).return=l,l=u):((y=aB(c.type,c.key,c.props,null,l.mode,y)).ref=nA(l,u,c),y.return=l,l=y)}return o(l);case p:e:{for(b=c.key;null!==u;){if(u.key===b){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(u=i(u,c.children||[])).return=l,l=u;break e}n(l,u);break}t(l,u),u=u.sibling}(u=aW(c,l.mode,y)).return=l,l=u}return o(l);case E:return s(l,u,(b=c._init)(c._payload),y)}if(z(c))return function(i,o,s,l){for(var u=null,c=null,d=o,h=o=0,p=null;null!==d&&h<s.length;h++){d.index>h?(p=d,d=null):p=d.sibling;var m=v(i,d,s[h],l);if(null===m){null===d&&(d=p);break}e&&d&&null===m.alternate&&t(i,d),o=a(m,o,h),null===c?u=m:c.sibling=m,c=m,d=p}if(h===s.length)return n(i,d),nw&&nv(i,h),u;if(null===d){for(;h<s.length;h++)null!==(d=f(i,s[h],l))&&(o=a(d,o,h),null===c?u=d:c.sibling=d,c=d);return nw&&nv(i,h),u}for(d=r(i,d);h<s.length;h++)null!==(p=g(d,i,h,s[h],l))&&(e&&null!==p.alternate&&d.delete(null===p.key?h:p.key),o=a(p,o,h),null===c?u=p:c.sibling=p,c=p);return e&&d.forEach(function(e){return t(i,e)}),nw&&nv(i,h),u}(l,u,c,y);if(C(c))return function(i,o,s,l){var u=C(s);if("function"!=typeof u)throw Error(d(150));if(null==(s=u.call(s)))throw Error(d(151));for(var c=u=null,h=o,p=o=0,m=null,y=s.next();null!==h&&!y.done;p++,y=s.next()){h.index>p?(m=h,h=null):m=h.sibling;var _=v(i,h,y.value,l);if(null===_){null===h&&(h=m);break}e&&h&&null===_.alternate&&t(i,h),o=a(_,o,p),null===c?u=_:c.sibling=_,c=_,h=m}if(y.done)return n(i,h),nw&&nv(i,p),u;if(null===h){for(;!y.done;p++,y=s.next())null!==(y=f(i,y.value,l))&&(o=a(y,o,p),null===c?u=y:c.sibling=y,c=y);return nw&&nv(i,p),u}for(h=r(i,h);!y.done;p++,y=s.next())null!==(y=g(h,i,p,y.value,l))&&(e&&null!==y.alternate&&h.delete(null===y.key?p:y.key),o=a(y,o,p),null===c?u=y:c.sibling=y,c=y);return e&&h.forEach(function(e){return t(i,e)}),nw&&nv(i,p),u}(l,u,c,y);nz(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(u=i(u,c)).return=l,l=u):(n(l,u),(u=aH(c,l.mode,y)).return=l,l=u),o(l)):n(l,u)}}var nL=nN(!0),nF=nN(!1),nR={},nj=e8(nR),nB=e8(nR),nV=e8(nR);function nG(e){if(e===nR)throw Error(d(174));return e}function nH(e,t){te(nV,t),te(nB,e),te(nj,nR),e=N(t),e9(nj),te(nj,e)}function nW(){e9(nj),e9(nB),e9(nV)}function n$(e){var t=nG(nV.current),n=nG(nj.current);t=L(n,e.type,t),n!==t&&(te(nB,e),te(nj,t))}function nq(e){nB.current===e&&(e9(nj),e9(nB))}var nY=e8(0);function nX(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||eF(n)||eR(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nQ=[];function nK(){for(var e=0;e<nQ.length;e++){var t=nQ[e];X?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}nQ.length=0}var nZ=f.ReactCurrentDispatcher,nJ=f.ReactCurrentBatchConfig,n0=0,n1=null,n2=null,n3=null,n5=!1,n4=!1,n6=0,n7=0;function n8(){throw Error(d(321))}function n9(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tN(e[n],t[n]))return!1;return!0}function re(e,t,n,r,i,a){if(n0=a,n1=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nZ.current=null===e||null===e.memoizedState?rN:rL,e=n(r,i),n4){a=0;do{if(n4=!1,n6=0,25<=a)throw Error(d(301));a+=1,n3=n2=null,t.updateQueue=null,nZ.current=rF,e=n(r,i)}while(n4)}if(nZ.current=rD,t=null!==n2&&null!==n2.next,n0=0,n3=n2=n1=null,n5=!1,t)throw Error(d(300));return e}function rt(){var e=0!==n6;return n6=0,e}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===n3?n1.memoizedState=n3=e:n3=n3.next=e,n3}function rr(){if(null===n2){var e=n1.alternate;e=null!==e?e.memoizedState:null}else e=n2.next;var t=null===n3?n1.memoizedState:n3.next;if(null!==t)n3=t,n2=e;else{if(null===e)throw Error(d(310));e={memoizedState:(n2=e).memoizedState,baseState:n2.baseState,baseQueue:n2.baseQueue,queue:n2.queue,next:null},null===n3?n1.memoizedState=n3=e:n3=n3.next=e}return n3}function ri(e,t){return"function"==typeof t?t(e):t}function ra(e){var t=rr(),n=t.queue;if(null===n)throw Error(d(311));n.lastRenderedReducer=e;var r=n2,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((n0&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(s=l=f,o=r):l=l.next=f,n1.lanes|=c,i2|=c}u=u.next}while(null!==u&&u!==a);null===l?o=r:l.next=s,tN(r,t.memoizedState)||(rJ=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do a=i.lane,n1.lanes|=a,i2|=a,i=i.next;while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ro(e){var t=rr(),n=t.queue;if(null===n)throw Error(d(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);tN(a,t.memoizedState)||(rJ=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function rs(){}function rl(e,t){var n=n1,r=rr(),i=t(),a=!tN(r.memoizedState,i);if(a&&(r.memoizedState=i,rJ=!0),r=r.queue,r_(rd.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==n3&&1&n3.memoizedState.tag){if(n.flags|=2048,rp(9,rc.bind(null,n,r,i,t),void 0,null),null===iX)throw Error(d(349));0!=(30&n0)||ru(n,t,i)}return i}function ru(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=n1.updateQueue)?(t={lastEffect:null,stores:null},n1.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function rc(e,t,n,r){t.value=n,t.getSnapshot=r,rf(t)&&af(e,1,-1)}function rd(e,t,n){return n(function(){rf(t)&&af(e,1,-1)})}function rf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tN(e,n)}catch(e){return!0}}function rh(e){var t=rn();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:e},t.queue=e,e=e.dispatch=rP.bind(null,n1,e),[t.memoizedState,e]}function rp(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=n1.updateQueue)?(t={lastEffect:null,stores:null},n1.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function rm(){return rr().memoizedState}function rv(e,t,n,r){var i=rn();n1.flags|=e,i.memoizedState=rp(1|t,n,void 0,void 0===r?null:r)}function rg(e,t,n,r){var i=rr();r=void 0===r?null:r;var a=void 0;if(null!==n2){var o=n2.memoizedState;if(a=o.destroy,null!==r&&n9(r,o.deps)){i.memoizedState=rp(t,n,a,r);return}}n1.flags|=e,i.memoizedState=rp(1|t,n,a,r)}function ry(e,t){return rv(8390656,8,e,t)}function r_(e,t){return rg(2048,8,e,t)}function rb(e,t){return rg(4,2,e,t)}function rx(e,t){return rg(4,4,e,t)}function rw(e,t){return"function"==typeof t?(t(e=e()),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function rS(e,t,n){return n=null!=n?n.concat([e]):null,rg(4,4,rw.bind(null,t,e),n)}function rE(){}function rT(e,t){var n=rr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&n9(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rk(e,t){var n=rr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&n9(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rC(e,t){var n=tS;tS=0!==n&&4>n?n:4,e(!0);var r=nJ.transition;nJ.transition={};try{e(!1),t()}finally{tS=n,nJ.transition=r}}function rO(){return rr().memoizedState}function rM(e,t,n){var r=ad(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rU(e)?rI(t,n):(rA(e,t,n),null!==(e=af(e,r,n=ac()))&&rz(e,t,r))}function rP(e,t,n){var r=ad(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rU(e))rI(t,i);else{rA(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,tN(s,o))return}catch(e){}finally{}null!==(e=af(e,r,n=ac()))&&rz(e,t,r)}}function rU(e){var t=e.alternate;return e===n1||null!==t&&t===n1}function rI(e,t){n4=n5=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rA(e,t,n){null!==iX&&0!=(1&e.mode)&&0==(2&iY)?(null===(e=t.interleaved)?(n.next=n,null===t0?t0=[t]:t0.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function rz(e,t,n){if(0!=(4194240&n)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tw(e,n)}}var rD={readContext:tJ,useCallback:n8,useContext:n8,useEffect:n8,useImperativeHandle:n8,useInsertionEffect:n8,useLayoutEffect:n8,useMemo:n8,useReducer:n8,useRef:n8,useState:n8,useDebugValue:n8,useDeferredValue:n8,useTransition:n8,useMutableSource:n8,useSyncExternalStore:n8,useId:n8,unstable_isNewReconciler:!1},rN={readContext:tJ,useCallback:function(e,t){return rn().memoizedState=[e,void 0===t?null:t],e},useContext:tJ,useEffect:ry,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,rv(4194308,4,rw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rv(4194308,4,e,t)},useInsertionEffect:function(e,t){return rv(4,2,e,t)},useMemo:function(e,t){var n=rn();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=rn();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rM.bind(null,n1,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},rn().memoizedState=e},useState:rh,useDebugValue:rE,useDeferredValue:function(e){var t=rh(e),n=t[0],r=t[1];return ry(function(){var t=nJ.transition;nJ.transition={};try{r(e)}finally{nJ.transition=t}},[e]),n},useTransition:function(){var e=rh(!1),t=e[0];return e=rC.bind(null,e[1]),rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=n1,i=rn();if(nw){if(void 0===n)throw Error(d(407));n=n()}else{if(n=t(),null===iX)throw Error(d(349));0!=(30&n0)||ru(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,ry(rd.bind(null,r,a,e),[e]),r.flags|=2048,rp(9,rc.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=rn(),t=iX.identifierPrefix;if(nw){var n=nm,r=np;t=":"+t+"R"+(n=(r&~(1<<32-tf(r)-1)).toString(32)+n),0<(n=n6++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=n7++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rL={readContext:tJ,useCallback:rT,useContext:tJ,useEffect:r_,useImperativeHandle:rS,useInsertionEffect:rb,useLayoutEffect:rx,useMemo:rk,useReducer:ra,useRef:rm,useState:function(){return ra(ri)},useDebugValue:rE,useDeferredValue:function(e){var t=ra(ri),n=t[0],r=t[1];return r_(function(){var t=nJ.transition;nJ.transition={};try{r(e)}finally{nJ.transition=t}},[e]),n},useTransition:function(){return[ra(ri)[0],rr().memoizedState]},useMutableSource:rs,useSyncExternalStore:rl,useId:rO,unstable_isNewReconciler:!1},rF={readContext:tJ,useCallback:rT,useContext:tJ,useEffect:r_,useImperativeHandle:rS,useInsertionEffect:rb,useLayoutEffect:rx,useMemo:rk,useReducer:ro,useRef:rm,useState:function(){return ro(ri)},useDebugValue:rE,useDeferredValue:function(e){var t=ro(ri),n=t[0],r=t[1];return r_(function(){var t=nJ.transition;nJ.transition={};try{r(e)}finally{nJ.transition=t}},[e]),n},useTransition:function(){return[ro(ri)[0],rr().memoizedState]},useMutableSource:rs,useSyncExternalStore:rl,useId:rO,unstable_isNewReconciler:!1};function rR(e,t){try{var n="",r=t;do n+=function(e){switch(e.tag){case 5:return e2(e.type);case 16:return e2("Lazy");case 13:return e2("Suspense");case 19:return e2("SuspenseList");case 0:case 2:case 15:return e=e5(e.type,!1);case 11:return e=e5(e.type.render,!1);case 1:return e=e5(e.type,!0);default:return""}}(r),r=r.return;while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function rj(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var rB="function"==typeof WeakMap?WeakMap:Map;function rV(e,t,n){(n=t5(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ae||(ae=!0,at=r),rj(e,t)},n}function rG(e,t,n){(n=t5(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){rj(e,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){rj(e,t),"function"!=typeof r&&(null===an?an=new Set([this]):an.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function rH(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new rB;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=aA.bind(null,e,t,n),t.then(e,e))}function rW(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function r$(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=t5(-1,1)).tag=2,t4(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function rq(e){e.flags|=4}function rY(e,t){if(null!==e&&e.child===t.child)return!0;if(0!=(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!=(12854&e.flags)||0!=(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(Q)t=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)B(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},r=function(){},i=function(e,t,n,r,i){(e=e.memoizedProps)!==r&&(n=G(t.stateNode,n,e,r,i,nG(nj.current)),(t.updateQueue=n)&&rq(t))},a=function(e,t,n,r){n!==r&&rq(t)};else if(K){t=function(e,n,r,i){for(var a=n.child;null!==a;){if(5===a.tag){var o=a.stateNode;r&&i&&(o=eA(o,a.type,a.memoizedProps,a)),B(e,o)}else if(6===a.tag)o=a.stateNode,r&&i&&(o=ez(o,a.memoizedProps,a)),B(e,o);else if(4!==a.tag){if(22===a.tag&&null!==a.memoizedState)null!==(o=a.child)&&(o.return=a),t(e,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};var rX=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=eA(a,i.type,i.memoizedProps,i)),eP(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=ez(a,i.memoizedProps,i)),eP(e,a);else if(4!==i.tag){if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),rX(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};r=function(e,t){var n=t.stateNode;if(!rY(e,t)){var r=eM(e=n.containerInfo);rX(r,t,!1,!1),n.pendingChildren=r,rq(t),eU(e,r)}},i=function(e,n,r,i,a){var o=e.stateNode,s=e.memoizedProps;if((e=rY(e,n))&&s===i)n.stateNode=o;else{var l=n.stateNode,u=nG(nj.current),c=null;s!==i&&(c=G(l,r,s,i,a,u)),e&&null===c?n.stateNode=o:(V(o=eO(o,c,r,s,i,n,e,l),r,i,a,u)&&rq(n),n.stateNode=o,e?rq(n):t(o,n,!1,!1))}},a=function(e,t,n,r){n!==r?(e=nG(nV.current),n=nG(nj.current),t.stateNode=W(r,e,n,t),rq(t)):t.stateNode=e.stateNode}}else r=function(){},i=function(){},a=function(){};function rQ(e,t){if(!nw)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rK(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}var rZ=f.ReactCurrentOwner,rJ=!1;function r0(e,t,n,r){t.child=null===e?nF(t,null,n,r):nL(t,e.child,n,r)}function r1(e,t,n,r,i){n=n.render;var a=t.ref;return(tZ(t,i),r=re(e,t,n,r,a,i),n=rt(),null===e||rJ)?(nw&&n&&ny(t),t.flags|=1,r0(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ic(e,t,i))}function r2(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||aR(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=aB(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,r3(e,t,a,r,i))}if(a=e.child,0==(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:tV)(o,r)&&e.ref===t.ref)return ic(e,t,i)}return t.flags|=1,(e=aj(a,r)).ref=t.ref,e.return=t,t.child=e}function r3(e,t,n,r,i){if(null!==e&&tV(e.memoizedProps,r)&&e.ref===t.ref){if(rJ=!1,0==(e.lanes&i))return t.lanes=e.lanes,ic(e,t,i);0!=(131072&e.flags)&&(rJ=!0)}return r6(e,t,n,r,i)}function r5(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},te(iJ,iZ),iZ|=n;else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,te(iJ,iZ),iZ|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,te(iJ,iZ),iZ|=r}}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,te(iJ,iZ),iZ|=r;return r0(e,t,i,n),t.child}function r4(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function r6(e,t,n,r,i){var a=to(n)?ti:tn.current;return(a=ta(t,a),tZ(t,i),n=re(e,t,n,r,a,i),r=rt(),null===e||rJ)?(nw&&r&&ny(t),t.flags|=1,r0(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ic(e,t,i))}function r7(e,t,n,r,i){if(to(n)){var a=!0;tc(t)}else a=!1;if(tZ(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ni(t,n,r),no(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;u="object"==typeof u&&null!==u?tJ(u):ta(t,u=to(n)?ti:tn.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==u)&&na(t,o,r,u),t1=!1;var f=t.memoizedState;o.state=f,t8(t,r,o,i),l=t.memoizedState,s!==r||f!==l||tr.current||t1?("function"==typeof c&&(nt(t,n,c,r),l=t.memoizedState),(s=t1||nr(t,n,s,r,f,l,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,t3(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:tG(t.type,s),o.props=u,d=t.pendingProps,f=o.context,l="object"==typeof(l=n.contextType)&&null!==l?tJ(l):ta(t,l=to(n)?ti:tn.current);var h=n.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==d||f!==l)&&na(t,o,r,l),t1=!1,f=t.memoizedState,o.state=f,t8(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||tr.current||t1?("function"==typeof h&&(nt(t,n,h,r),p=t.memoizedState),(u=t1||nr(t,n,u,r,f,p,l)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return r8(e,t,n,r,a,i)}function r8(e,t,n,r,i,a){r4(e,t);var o=0!=(128&t.flags);if(!r&&!o)return i&&td(t,n,!1),ic(e,t,a);r=t.stateNode,rZ.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=nL(t,e.child,null,a),t.child=nL(t,null,s,a)):r0(e,t,s,a),t.memoizedState=r.state,i&&td(t,n,!0),t.child}function r9(e){var t=e.stateNode;t.pendingContext?tl(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tl(e,t.context,!1),nH(e,t.containerInfo)}function ie(e,t,n,r,i){return nU(),nI(i),t.flags|=256,r0(e,t,n,r),t.child}var it={dehydrated:null,treeContext:null,retryLane:0};function ir(e){return{baseLanes:e,cachePool:null}}function ii(e,t,n){var r,i,a,o,s,l,u,c,f,h,p,m,v,g,y=t.pendingProps,_=nY.current,b=!1,x=0!=(128&t.flags);if((g=x)||(g=(null===e||null!==e.memoizedState)&&0!=(2&_)),g?(b=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(_|=1),te(nY,1&_),null===e)return(nO(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&t.mode)?t.lanes=1:eR(e)?t.lanes=8:t.lanes=1073741824,null):(_=y.children,e=y.fallback,b?(y=t.mode,b=t.child,_={mode:"hidden",children:_},0==(1&y)&&null!==b?(b.childLanes=0,b.pendingProps=_):b=aG(_,y,0,null),e=aV(e,y,n,null),b.return=t,e.return=t,b.sibling=e,t.child=b,t.child.memoizedState=ir(n),t.memoizedState=it,e):ia(t,_));if(null!==(_=e.memoizedState)&&null!==(g=_.dehydrated)){if(x)return 256&t.flags?(t.flags&=-257,io(e,t,n,Error(d(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(b=y.fallback,_=t.mode,y=aG({mode:"visible",children:y.children},_,0,null),b=aV(b,_,n,null),b.flags|=2,y.return=t,b.return=t,y.sibling=b,t.child=y,0!=(1&t.mode)&&nL(t,e.child,null,n),t.child.memoizedState=ir(n),t.memoizedState=it,b);if(0==(1&t.mode))t=io(e,t,n,null);else if(eR(g))t=io(e,t,n,Error(d(419)));else if(y=0!=(n&e.childLanes),rJ||y){if(null!==(y=iX)){switch(n&-n){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}0!==(y=0!=(b&(y.suspendedLanes|n))?0:b)&&y!==_.retryLane&&(_.retryLane=y,af(e,y,-1))}aT(),t=io(e,t,n,Error(d(421)))}else eF(g)?(t.flags|=128,t.child=e.child,ej(g,t=aD.bind(null,e)),t=null):(n=_.treeContext,Z&&(nx=eH(g),nb=t,nw=!0,nE=null,nS=!1,null!==n&&(nd[nf++]=np,nd[nf++]=nm,nd[nf++]=nh,np=n.id,nm=n.overflow,nh=t)),t=ia(t,t.pendingProps.children),t.flags|=4096);return t}return b?(r=e,i=t,a=y.children,o=y.fallback,s=n,l=i.mode,u=(r=r.child).sibling,c={mode:"hidden",children:a},0==(1&l)&&i.child!==r?((a=i.child).childLanes=0,a.pendingProps=c,i.deletions=null):(a=aj(r,c)).subtreeFlags=14680064&r.subtreeFlags,null!==u?o=aj(u,o):(o=aV(o,l,s,null),o.flags|=2),o.return=i,a.return=i,a.sibling=o,i.child=a,y=o,b=t.child,_=e.child.memoizedState,b.memoizedState=null===_?ir(n):{baseLanes:_.baseLanes|n,cachePool:null},b.childLanes=e.childLanes&~n,t.memoizedState=it,y):(f=e,h=t,p=y.children,m=n,v=f.child,f=v.sibling,p=aj(v,{mode:"visible",children:p}),0==(1&h.mode)&&(p.lanes=m),p.return=h,p.sibling=null,null!==f&&(null===(m=h.deletions)?(h.deletions=[f],h.flags|=16):m.push(f)),n=h.child=p,t.memoizedState=null,n)}function ia(e,t){return(t=aG({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function io(e,t,n,r){return null!==r&&nI(r),nL(t,e.child,null,n),e=ia(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function is(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),tK(e.return,t,n)}function il(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(r0(e,t,r.children,n),0!=(2&(r=nY.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&is(e,n,t);else if(19===e.tag)is(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(te(nY,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(i=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===nX(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),il(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===nX(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}il(t,!0,n,null,a);break;case"together":il(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ic(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),i2|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(d(153));if(null!==t.child){for(n=aj(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=aj(e,e.pendingProps)).return=t;n.sibling=null}return t.child}var id=!1,ih=!1,ip="function"==typeof WeakSet?WeakSet:Set,im=null;function iv(e,t){var n=e.ref;if(null!==n){if("function"==typeof n)try{n(null)}catch(n){aI(e,t,n)}else n.current=null}}function ig(e,t,n){try{n()}catch(n){aI(e,t,n)}}var iy=!1;function i_(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ig(t,n,a)}i=i.next}while(i!==r)}}function ib(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ix(e){var t=e.ref;if(null!==t){var n=e.stateNode;e=5===e.tag?D(n):n,"function"==typeof t?t(e):t.current=e}}function iw(e,t,n){if(tD&&"function"==typeof tD.onCommitFiberUnmount)try{tD.onCommitFiberUnmount(tz,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!=(2&i)?ig(t,n,a):0!=(4&i)&&ig(t,n,a)),r=r.next}while(r!==e)}break;case 1:if(iv(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){aI(t,n,e)}break;case 5:iv(t,n);break;case 4:Q?iC(e,t,n):K&&K&&(n=eM(t=t.stateNode.containerInfo),eI(t,n))}}function iS(e,t,n){for(var r=t;;)if(iw(e,r,n),null===r.child||Q&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function iE(e){return 5===e.tag||3===e.tag||4===e.tag}function iT(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||iE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ik(e){if(Q){e:{for(var t=e.return;null!==t;){if(iE(t))break e;t=t.return}throw Error(d(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(ew(t),n.flags&=-33),n=iT(e),function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?ey(r,t,n):eh(r,t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t);break;case 3:case 4:t=n.stateNode.containerInfo,n=iT(e),function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?e_(r,t,n):ep(r,t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t);break;default:throw Error(d(161))}}}function iC(e,t,n){for(var r,i,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(d(160));switch(r=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag)iS(e,a,n),i?ex(r,a.stateNode):eb(r,a.stateNode);else if(18===a.tag)i?eZ(r,a.stateNode):eK(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(iw(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function iO(e,t){if(Q){switch(t.tag){case 0:case 11:case 14:case 15:i_(3,t,t.return),ib(3,t),i_(5,t,t.return);return;case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&eg(n,a,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(d(162));n=t.memoizedProps,em(t.stateNode,null!==e?e.memoizedProps:n,n);return;case 3:Z&&null!==e&&e.memoizedState.isDehydrated&&eX(t.stateNode.containerInfo);return;case 13:case 19:iM(t);return}throw Error(d(163))}switch(t.tag){case 0:case 11:case 14:case 15:i_(3,t,t.return),ib(3,t),i_(5,t,t.return);return;case 12:case 22:case 23:return;case 13:case 19:iM(t);return;case 3:Z&&null!==e&&e.memoizedState.isDehydrated&&eX(t.stateNode.containerInfo)}e:if(K){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:eI((t=t.stateNode).containerInfo,t.pendingChildren);break e}throw Error(d(163))}}function iM(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ip),t.forEach(function(t){var r=aN.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function iP(e){for(;null!==im;){var t=im;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:ih||ib(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!ih){if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:tG(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}}var a=t.updateQueue;null!==a&&t9(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=D(t.child.stateNode);break;case 1:n=t.child.stateNode}t9(t,o,n)}break;case 5:var s=t.stateNode;null===n&&4&t.flags&&ev(s,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(Z&&null===t.memoizedState){var l=t.alternate;if(null!==l){var u=l.memoizedState;if(null!==u){var c=u.dehydrated;null!==c&&eQ(c)}}}break;default:throw Error(d(163))}ih||512&t.flags&&ix(t)}catch(e){aI(t,t.return,e)}}if(t===e){im=null;break}if(null!==(n=t.sibling)){n.return=t.return,im=n;break}im=t.return}}function iU(e){for(;null!==im;){var t=im;if(t===e){im=null;break}var n=t.sibling;if(null!==n){n.return=t.return,im=n;break}im=t.return}}function iI(e){for(;null!==im;){var t=im;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ib(4,t)}catch(e){aI(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){aI(t,i,e)}}var a=t.return;try{ix(t)}catch(e){aI(t,a,e)}break;case 5:var o=t.return;try{ix(t)}catch(e){aI(t,o,e)}}}catch(e){aI(t,t.return,e)}if(t===e){im=null;break}var s=t.sibling;if(null!==s){s.return=t.return,im=s;break}im=t.return}}var iA=0,iz=1,iD=2,iN=3,iL=4;if("function"==typeof Symbol&&Symbol.for){var iF=Symbol.for;iA=iF("selector.component"),iz=iF("selector.has_pseudo_class"),iD=iF("selector.role"),iN=iF("selector.test_id"),iL=iF("selector.text")}function iR(e){var t=J(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(d(364));return t}if(null===(e=eo(e)))throw Error(d(362));return e.stateNode.current}function ij(e,t){switch(t.$$typeof){case iA:if(e.type===t.value)return!0;break;case iz:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],a=t[i];if(5!==r.tag||!eu(r)){for(;null!=a&&ij(r,a);)a=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case iD:if(5===e.tag&&ec(e.stateNode,t.value))return!0;break;case iL:if((5===e.tag||6===e.tag)&&null!==(e=el(e))&&0<=e.indexOf(t.value))return!0;break;case iN:if(5===e.tag&&"string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase())return!0;break;default:throw Error(d(365))}return!1}function iB(e){switch(e.$$typeof){case iA:return"<"+(O(e.value)||"Unknown")+">";case iz:return":has("+(iB(e)||"")+")";case iD:return'[role="'+e.value+'"]';case iL:return'"'+e.value+'"';case iN:return'[data-testname="'+e.value+'"]';default:throw Error(d(365))}}function iV(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!eu(i)){for(;null!=o&&ij(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function iG(e,t){if(!ea)throw Error(d(363));e=iV(e=iR(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)eu(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var iH=Math.ceil,iW=f.ReactCurrentDispatcher,i$=f.ReactCurrentOwner,iq=f.ReactCurrentBatchConfig,iY=0,iX=null,iQ=null,iK=0,iZ=0,iJ=e8(0),i0=0,i1=null,i2=0,i3=0,i5=0,i4=null,i6=null,i7=0,i8=1/0;function i9(){i8=tM()+500}var ae=!1,at=null,an=null,ar=!1,ai=null,aa=0,ao=0,as=null,al=-1,au=0;function ac(){return 0!=(6&iY)?tM():-1!==al?al:al=tM()}function ad(e){return 0==(1&e.mode)?1:0!=(2&iY)&&0!==iK?iK&-iK:null!==tB.transition?(0===au&&(e=tm,0==(4194240&(tm<<=1))&&(tm=64),au=e),au):0!==(e=tS)?e:et()}function af(e,t,n){if(50<ao)throw ao=0,as=null,Error(d(185));var r=ah(e,t);return null===r?null:(tx(r,t,n),(0==(2&iY)||r!==iX)&&(r===iX&&(0==(2&iY)&&(i3|=t),4===i0&&ay(r,iK)),ap(r,n),1===t&&0===iY&&0==(1&e.mode)&&(i9(),tF&&tj())),r)}function ah(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ap(e,t){var n,r,i,a=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-tf(a),s=1<<o,l=i[o];-1===l?(0==(s&n)||0!=(s&r))&&(i[o]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var o=ty(e,e===iX?iK:0);if(0===o)null!==a&&tk(a),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(null!=a&&tk(a),1===t){0===e.tag&&(tF=!0),n=a_.bind(null,e),null===tL?tL=[n]:tL.push(n),er?ei(function(){0===iY&&tj()}):tT(tP,tj),a=null}else{switch(tE(o)){case 1:a=tP;break;case 4:a=tU;break;case 16:default:a=tI;break;case 536870912:a=tA}r=a,i=am.bind(null,e),a=tT(r,i)}e.callbackPriority=t,e.callbackNode=a}}function am(e,t){if(al=-1,au=0,0!=(6&iY))throw Error(d(327));var n=e.callbackNode;if(aP()&&e.callbackNode!==n)return null;var r=ty(e,e===iX?iK:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=ak(e,r);else{t=r;var i=iY;iY|=2;var a=aE();for((iX!==e||iK!==t)&&(i9(),aw(e,t));;)try{!function(){for(;null!==iQ&&!tC();)aC(iQ)}();break}catch(t){aS(e,t)}tY(),iW.current=a,iY=i,null!==iQ?t=0:(iX=null,iK=0,t=i0)}if(0!==t){if(2===t&&0!==(i=t_(e))&&(r=i,t=av(e,i)),1===t)throw n=i1,aw(e,0),ay(e,r),ap(e,tM()),n;if(6===t)ay(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!tN(a(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ak(e,r))&&0!==(a=t_(e))&&(r=a,t=av(e,a)),1===t))throw n=i1,aw(e,0),ay(e,r),ap(e,tM()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(d(345));case 2:case 5:aM(e,i6);break;case 3:if(ay(e,r),(130023424&r)===r&&10<(t=i7+500-tM())){if(0!==ty(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ac(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$(aM.bind(null,e,i6),t);break}aM(e,i6);break;case 4:if(ay(e,r),(4194240&r)===r)break;for(i=-1,t=e.eventTimes;0<r;){var o=31-tf(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=tM()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iH(r/1960))-r)){e.timeoutHandle=$(aM.bind(null,e,i6),r);break}aM(e,i6);break;default:throw Error(d(329))}}}return ap(e,tM()),e.callbackNode===n?am.bind(null,e):null}function av(e,t){var n=i4;return e.current.memoizedState.isDehydrated&&(aw(e,t).flags|=256),2!==(e=ak(e,t))&&(t=i6,i6=n,null!==t&&ag(t)),e}function ag(e){null===i6?i6=e:i6.push.apply(i6,e)}function ay(e,t){for(t&=~i5,t&=~i3,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tf(t),r=1<<n;e[n]=-1,t&=~r}}function a_(e){if(0!=(6&iY))throw Error(d(327));aP();var t=ty(e,0);if(0==(1&t))return ap(e,tM()),null;var n=ak(e,t);if(0!==e.tag&&2===n){var r=t_(e);0!==r&&(t=r,n=av(e,r))}if(1===n)throw n=i1,aw(e,0),ay(e,t),ap(e,tM()),n;if(6===n)throw Error(d(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,aM(e,i6),ap(e,tM()),null}function ab(e){null!==ai&&0===ai.tag&&0==(6&iY)&&aP();var t=iY;iY|=1;var n=iq.transition,r=tS;try{if(iq.transition=null,tS=1,e)return e()}finally{tS=r,iq.transition=n,0==(6&(iY=t))&&tj()}}function ax(){iZ=iJ.current,e9(iJ)}function aw(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==Y&&(e.timeoutHandle=Y,q(n)),null!==iQ)for(n=iQ.return;null!==n;){var r=n;switch(n_(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&ts();break;case 3:nW(),e9(tr),e9(tn),nK();break;case 5:nq(r);break;case 4:nW();break;case 13:case 19:e9(nY);break;case 10:tQ(r.type._context);break;case 22:case 23:ax()}n=n.return}if(iX=e,iQ=e=aj(e.current,null),iK=iZ=t,i0=0,i1=null,i5=i3=i2=0,i6=i4=null,null!==t0){for(t=0;t<t0.length;t++)if(null!==(r=(n=t0[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}t0=null}return e}function aS(e,t){for(;;){var n=iQ;try{if(tY(),nZ.current=rD,n5){for(var r=n1.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}n5=!1}if(n0=0,n3=n2=n1=null,n4=!1,n6=0,i$.current=null,null===n||null===n.return){i0=1,i1=t,iQ=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=iK,s.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=s,f=c.tag;if(0==(1&c.mode)&&(0===f||11===f||15===f)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=rW(o);if(null!==p){p.flags&=-257,r$(p,o,s,a,t),1&p.mode&&rH(a,u,t),t=p,l=u;var m=t.updateQueue;if(null===m){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}if(0==(1&t)){rH(a,u,t),aT();break e}l=Error(d(426))}else if(nw&&1&s.mode){var g=rW(o);if(null!==g){0==(65536&g.flags)&&(g.flags|=256),r$(g,o,s,a,t),nI(l);break e}}a=l,4!==i0&&(i0=2),null===i4?i4=[a]:i4.push(a),l=rR(l,s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=rV(s,l,t);t7(s,y);break e;case 1:a=l;var _=s.type,b=s.stateNode;if(0==(128&s.flags)&&("function"==typeof _.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===an||!an.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=rG(s,a,t);t7(s,x);break e}}s=s.return}while(null!==s)}aO(n)}catch(e){t=e,iQ===n&&null!==n&&(iQ=n=n.return);continue}break}}function aE(){var e=iW.current;return iW.current=rD,null===e?rD:e}function aT(){(0===i0||3===i0||2===i0)&&(i0=4),null===iX||0==(268435455&i2)&&0==(268435455&i3)||ay(iX,iK)}function ak(e,t){var n=iY;iY|=2;var r=aE();for(iX===e&&iK===t||aw(e,t);;)try{!function(){for(;null!==iQ;)aC(iQ)}();break}catch(t){aS(e,t)}if(tY(),iY=n,iW.current=r,null!==iQ)throw Error(d(261));return iX=null,iK=0,i0}function aC(e){var t=o(e.alternate,e,iZ);e.memoizedProps=e.pendingProps,null===t?aO(e):iQ=t,i$.current=null}function aO(e){var n=e;do{var o=n.alternate;if(e=n.return,0==(32768&n.flags)){if(null!==(o=function(e,n,o){var s=n.pendingProps;switch(n_(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rK(n),null;case 1:case 17:return to(n.type)&&ts(),rK(n),null;case 3:return s=n.stateNode,nW(),e9(tr),e9(tn),nK(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(null===e||null===e.child)&&(nP(n)?rq(n):null===e||e.memoizedState.isDehydrated&&0==(256&n.flags)||(n.flags|=1024,null!==nE&&(ag(nE),nE=null))),r(e,n),rK(n),null;case 5:nq(n),o=nG(nV.current);var l=n.type;if(null!==e&&null!=n.stateNode)i(e,n,l,s,o),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!s){if(null===n.stateNode)throw Error(d(166));return rK(n),null}if(e=nG(nj.current),nP(n)){if(!Z)throw Error(d(175));e=eW(n.stateNode,n.type,n.memoizedProps,o,e,n,!nS),n.updateQueue=e,null!==e&&rq(n)}else{var u=j(l,s,o,e,n);t(u,n,!1,!1),n.stateNode=u,V(u,l,s,o,e)&&rq(n)}null!==n.ref&&(n.flags|=512,n.flags|=2097152)}return rK(n),null;case 6:if(e&&null!=n.stateNode)a(e,n,e.memoizedProps,s);else{if("string"!=typeof s&&null===n.stateNode)throw Error(d(166));if(e=nG(nV.current),o=nG(nj.current),nP(n)){if(!Z)throw Error(d(176));if(e=n.stateNode,s=n.memoizedProps,(o=e$(e,s,n,!nS))&&null!==(l=nb))switch(u=0!=(1&l.mode),l.tag){case 3:e0(l.stateNode.containerInfo,e,s,u);break;case 5:e1(l.type,l.memoizedProps,l.stateNode,e,s,u)}o&&rq(n)}else n.stateNode=W(s,e,o,n)}return rK(n),null;case 13:if(e9(nY),s=n.memoizedState,nw&&null!==nx&&0!=(1&n.mode)&&0==(128&n.flags)){for(e=nx;e;)e=eB(e);return nU(),n.flags|=98560,n}if(null!==s&&null!==s.dehydrated){if(s=nP(n),null===e){if(!s)throw Error(d(318));if(!Z)throw Error(d(344));if(!(e=null!==(e=n.memoizedState)?e.dehydrated:null))throw Error(d(317));eq(e,n)}else nU(),0==(128&n.flags)&&(n.memoizedState=null),n.flags|=4;return rK(n),null}if(null!==nE&&(ag(nE),nE=null),0!=(128&n.flags))return n.lanes=o,n;return s=null!==s,o=!1,null===e?nP(n):o=null!==e.memoizedState,s&&!o&&(n.child.flags|=8192,0!=(1&n.mode)&&(null===e||0!=(1&nY.current)?0===i0&&(i0=3):aT())),null!==n.updateQueue&&(n.flags|=4),rK(n),null;case 4:return nW(),r(e,n),null===e&&ee(n.stateNode.containerInfo),rK(n),null;case 10:return tQ(n.type._context),rK(n),null;case 19:if(e9(nY),null===(l=n.memoizedState))return rK(n),null;if(s=0!=(128&n.flags),null===(u=l.rendering)){if(s)rQ(l,!1);else{if(0!==i0||null!==e&&0!=(128&e.flags))for(e=n.child;null!==e;){if(null!==(u=nX(e))){for(n.flags|=128,rQ(l,!1),null!==(e=u.updateQueue)&&(n.updateQueue=e,n.flags|=4),n.subtreeFlags=0,e=o,s=n.child;null!==s;)o=s,l=e,o.flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,l=u.dependencies,o.dependencies=null===l?null:{lanes:l.lanes,firstContext:l.firstContext}),s=s.sibling;return te(nY,1&nY.current|2),n.child}e=e.sibling}null!==l.tail&&tM()>i8&&(n.flags|=128,s=!0,rQ(l,!1),n.lanes=4194304)}}else{if(!s){if(null!==(e=nX(u))){if(n.flags|=128,s=!0,null!==(e=e.updateQueue)&&(n.updateQueue=e,n.flags|=4),rQ(l,!0),null===l.tail&&"hidden"===l.tailMode&&!u.alternate&&!nw)return rK(n),null}else 2*tM()-l.renderingStartTime>i8&&1073741824!==o&&(n.flags|=128,s=!0,rQ(l,!1),n.lanes=4194304)}l.isBackwards?(u.sibling=n.child,n.child=u):(null!==(e=l.last)?e.sibling=u:n.child=u,l.last=u)}if(null!==l.tail)return n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=tM(),n.sibling=null,e=nY.current,te(nY,s?1&e|2:1&e),n;return rK(n),null;case 22:case 23:return ax(),s=null!==n.memoizedState,null!==e&&null!==e.memoizedState!==s&&(n.flags|=8192),s&&0!=(1&n.mode)?0!=(1073741824&iZ)&&(rK(n),Q&&6&n.subtreeFlags&&(n.flags|=8192)):rK(n),null;case 24:case 25:return null}throw Error(d(156,n.tag))}(o,n,iZ))){iQ=o;return}}else{if(null!==(o=function(e,t){switch(n_(t),t.tag){case 1:return to(t.type)&&ts(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return nW(),e9(tr),e9(tn),nK(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return nq(t),null;case 13:if(e9(nY),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(d(340));nU()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return e9(nY),null;case 4:return nW(),null;case 10:return tQ(t.type._context),null;case 22:case 23:return ax(),null;default:return null}}(o,n))){o.flags&=32767,iQ=o;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{i0=6,iQ=null;return}}if(null!==(n=n.sibling)){iQ=n;return}iQ=n=e}while(null!==n);0===i0&&(i0=5)}function aM(e,t){var n=tS,r=iq.transition;try{iq.transition=null,tS=1,function(e,t,n){do aP();while(null!==ai);if(0!=(6&iY))throw Error(d(327));var r=e.finishedWork,i=e.finishedLanes;if(null!==r){if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(d(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-tf(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===iX&&(iQ=iX=null,iK=0),0==(2064&r.subtreeFlags)&&0==(2064&r.flags)||ar||(ar=!0,o=tI,s=function(){return aP(),null},tT(o,s)),a=0!=(15990&r.flags),0!=(15990&r.subtreeFlags)||a){a=iq.transition,iq.transition=null;var o,s,l,u,c=tS;tS=1;var f=iY;iY|=4,i$.current=null,function(e,t){for(F(e.containerInfo),im=t;null!==im;)if(t=(e=im).child,0!=(1028&e.subtreeFlags)&&null!==t)t.return=e,im=t;else for(;null!==im;){e=im;try{var n=e.alternate;if(0!=(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,a=e.stateNode,o=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:tG(e.type,r),i);a.__reactInternalSnapshotBeforeUpdate=o}break;case 3:Q&&eC(e.stateNode.containerInfo);break;default:throw Error(d(163))}}catch(t){aI(e,e.return,t)}if(null!==(t=e.sibling)){t.return=e.return,im=t;break}im=e.return}n=iy,iy=!1}(e,r),function(e,t){for(im=t;null!==im;){var n=(t=im).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e;Q?iC(a,i,t):iS(a,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(e){aI(i,t,e)}}if(n=t.child,0!=(12854&t.subtreeFlags)&&null!==n)n.return=t,im=n;else for(;null!==im;){t=im;try{var s=t.flags;if(32&s&&Q&&ew(t.stateNode),512&s){var l=t.alternate;if(null!==l){var u=l.ref;null!==u&&("function"==typeof u?u(null):u.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;(null===c||null===c.memoizedState)&&(i7=tM())}break;case 22:var d=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;if(n=t,Q){e:if(r=n,i=d,a=null,Q)for(var p=r;;){if(5===p.tag){if(null===a){a=p;var m=p.stateNode;i?eS(m):eT(p.stateNode,p.memoizedProps)}}else if(6===p.tag){if(null===a){var v=p.stateNode;i?eE(v):ek(v,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;a===p&&(a=null),p=p.return}a===p&&(a=null),p.sibling.return=p.return,p=p.sibling}}if(d&&!h&&0!=(1&n.mode)){im=n;for(var g=n.child;null!==g;){for(n=im=g;null!==im;){var y=(r=im).child;switch(r.tag){case 0:case 11:case 14:case 15:i_(4,r,r.return);break;case 1:iv(r,r.return);var _=r.stateNode;if("function"==typeof _.componentWillUnmount){var b=r.return;try{_.props=r.memoizedProps,_.state=r.memoizedState,_.componentWillUnmount()}catch(e){aI(r,b,e)}}break;case 5:iv(r,r.return);break;case 22:if(null!==r.memoizedState){iU(n);continue}}null!==y?(y.return=r,im=y):iU(n)}g=g.sibling}}}switch(4102&s){case 2:ik(t),t.flags&=-3;break;case 6:ik(t),t.flags&=-3,iO(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,iO(t.alternate,t);break;case 4:iO(t.alternate,t)}}catch(e){aI(t,t.return,e)}if(null!==(n=t.sibling)){n.return=t.return,im=n;break}im=t.return}}}(e,r,i),R(e.containerInfo),e.current=r,l=r,u=e,im=l,function e(t,n,r){for(var i=0!=(1&t.mode);null!==im;){var a=im,o=a.child;if(22===a.tag&&i){var s=null!==a.memoizedState||id;if(!s){var l=a.alternate,u=null!==l&&null!==l.memoizedState||ih;l=id;var c=ih;if(id=s,(ih=u)&&!c)for(im=a;null!==im;)u=(s=im).child,22===s.tag&&null!==s.memoizedState?iI(a):null!==u?(u.return=s,im=u):iI(a);for(;null!==o;)im=o,e(o,n,r),o=o.sibling;im=a,id=l,ih=c}iP(t,n,r)}else 0!=(8772&a.subtreeFlags)&&null!==o?(o.return=a,im=o):iP(t,n,r)}}(l,u,i),tO(),iY=f,tS=c,iq.transition=a}else e.current=r;if(ar&&(ar=!1,ai=e,aa=i),0===(a=e.pendingLanes)&&(an=null),function(e){if(tD&&"function"==typeof tD.onCommitFiberRoot)try{tD.onCommitFiberRoot(tz,e,void 0,128==(128&e.current.flags))}catch(e){}}(r.stateNode,n),ap(e,tM()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(ae)throw ae=!1,e=at,at=null,e;0!=(1&aa)&&0!==e.tag&&aP(),0!=(1&(a=e.pendingLanes))?e===as?ao++:(ao=0,as=e):ao=0,tj()}}(e,t,n)}finally{iq.transition=r,tS=n}return null}function aP(){if(null!==ai){var e=tE(aa),t=iq.transition,n=tS;try{if(iq.transition=null,tS=16>e?16:e,null===ai)var r=!1;else{if(e=ai,ai=null,aa=0,0!=(6&iY))throw Error(d(331));var i=iY;for(iY|=4,im=e.current;null!==im;){var a=im,o=a.child;if(0!=(16&im.flags)){var s=a.deletions;if(null!==s){for(var l=0;l<s.length;l++){var u=s[l];for(im=u;null!==im;){var c=im;switch(c.tag){case 0:case 11:case 15:i_(8,c,a)}var f=c.child;if(null!==f)f.return=c,im=f;else for(;null!==im;){var h=(c=im).sibling,p=c.return;if(!function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&en(n),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(c),c===u){im=null;break}if(null!==h){h.return=p,im=h;break}im=p}}}var m=a.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}im=a}}if(0!=(2064&a.subtreeFlags)&&null!==o)o.return=a,im=o;else for(;null!==im;){if(a=im,0!=(2048&a.flags))switch(a.tag){case 0:case 11:case 15:i_(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,im=y;break}im=a.return}}var _=e.current;for(im=_;null!==im;){var b=(o=im).child;if(0!=(2064&o.subtreeFlags)&&null!==b)b.return=o,im=b;else for(o=_;null!==im;){if(s=im,0!=(2048&s.flags))try{switch(s.tag){case 0:case 11:case 15:ib(9,s)}}catch(e){aI(s,s.return,e)}if(s===o){im=null;break}var x=s.sibling;if(null!==x){x.return=s.return,im=x;break}im=s.return}}if(iY=i,tj(),tD&&"function"==typeof tD.onPostCommitFiberRoot)try{tD.onPostCommitFiberRoot(tz,e)}catch(e){}r=!0}return r}finally{tS=n,iq.transition=t}}return!1}function aU(e,t,n){t=rR(n,t),t=rV(e,t,1),t4(e,t),t=ac(),null!==(e=ah(e,1))&&(tx(e,1,t),ap(e,t))}function aI(e,t,n){if(3===e.tag)aU(e,e,n);else for(;null!==t;){if(3===t.tag){aU(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===an||!an.has(r))){e=rR(n,e),e=rG(t,e,1),t4(t,e),e=ac(),null!==(t=ah(t,1))&&(tx(t,1,e),ap(t,e));break}}t=t.return}}function aA(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ac(),e.pingedLanes|=e.suspendedLanes&n,iX===e&&(iK&n)===n&&(4===i0||3===i0&&(130023424&iK)===iK&&500>tM()-i7?aw(e,0):i5|=n),ap(e,t)}function az(e,t){0===t&&(0==(1&e.mode)?t=1:(t=tv,0==(130023424&(tv<<=1))&&(tv=4194304)));var n=ac();null!==(e=ah(e,t))&&(tx(e,t,n),ap(e,n))}function aD(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),az(e,n)}function aN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(d(314))}null!==r&&r.delete(t),az(e,n)}function aL(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aF(e,t,n,r){return new aL(e,t,n,r)}function aR(e){return!(!(e=e.prototype)||!e.isReactComponent)}function aj(e,t){var n=e.alternate;return null===n?((n=aF(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function aB(e,t,n,r,i,a){var o=2;if(r=e,"function"==typeof e)aR(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case m:return aV(n.children,i,a,t);case v:o=8,i|=8;break;case g:return(e=aF(12,n,t,2|i)).elementType=g,e.lanes=a,e;case x:return(e=aF(13,n,t,i)).elementType=x,e.lanes=a,e;case w:return(e=aF(19,n,t,i)).elementType=w,e.lanes=a,e;case T:return aG(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case y:o=10;break e;case _:o=9;break e;case b:o=11;break e;case S:o=14;break e;case E:o=16,r=null;break e}throw Error(d(130,null==e?e:typeof e,""))}return(t=aF(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function aV(e,t,n,r){return(e=aF(7,e,r,t)).lanes=n,e}function aG(e,t,n,r){return(e=aF(22,e,r,t)).elementType=T,e.lanes=n,e.stateNode={},e}function aH(e,t,n){return(e=aF(6,e,null,t)).lanes=n,e}function aW(e,t,n){return(t=aF(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function a$(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Y,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tb(0),this.expirationTimes=tb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tb(0),this.identifierPrefix=r,this.onRecoverableError=i,Z&&(this.mutableSourceEagerHydrationData=null)}function aq(e,t,n,r,i,a,o,s,l){return e=new a$(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=aF(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},t2(a),e}function aY(e){if(!e)return tt;e=e._reactInternals;e:{if(M(e)!==e||1!==e.tag)throw Error(d(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(to(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(d(171))}if(1===e.tag){var n=e.type;if(to(n))return tu(e,n,t)}return t}function aX(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(d(188));throw Error(d(268,e=Object.keys(e).join(",")))}return null===(e=I(t))?null:e.stateNode}function aQ(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function aK(e,t){aQ(e,t),(e=e.alternate)&&aQ(e,t)}function aZ(e){return null===(e=I(e))?null:e.stateNode}function aJ(){return null}return o=function(e,t,n){if(null!==e){if(e.memoizedProps!==t.pendingProps||tr.current)rJ=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return rJ=!1,function(e,t,n){switch(t.tag){case 3:r9(t),nU();break;case 5:n$(t);break;case 1:to(t.type)&&tc(t);break;case 4:nH(t,t.stateNode.containerInfo);break;case 10:tX(t,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r){if(null!==r.dehydrated)return te(nY,1&nY.current),t.flags|=128,null;if(0!=(n&t.child.childLanes))return ii(e,t,n);return te(nY,1&nY.current),null!==(e=ic(e,t,n))?e.sibling:null}te(nY,1&nY.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return iu(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),te(nY,nY.current),!r)return null;break;case 22:case 23:return t.lanes=0,r5(e,t,n)}return ic(e,t,n)}(e,t,n);rJ=0!=(131072&e.flags)}}else rJ=!1,nw&&0!=(1048576&t.flags)&&ng(t,nc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=ta(t,tn.current);tZ(t,n),i=re(null,t,r,e,i,n);var a=rt();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,to(r)?(a=!0,tc(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,t2(t),i.updater=nn,t.stateNode=i,i._reactInternals=t,no(t,r,e,n),t=r8(null,t,r,!0,a,n)):(t.tag=0,nw&&a&&ny(t),r0(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return aR(e)?1:0;if(null!=e){if((e=e.$$typeof)===b)return 11;if(e===S)return 14}return 2}(r),e=tG(r,e),i){case 0:t=r6(null,t,r,e,n);break e;case 1:t=r7(null,t,r,e,n);break e;case 11:t=r1(null,t,r,e,n);break e;case 14:t=r2(null,t,r,tG(r.type,e),n);break e}throw Error(d(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tG(r,i),r6(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tG(r,i),r7(e,t,r,i,n);case 3:e:{if(r9(t),null===e)throw Error(d(387));r=t.pendingProps,i=(a=t.memoizedState).element,t3(e,t),t8(t,r,null,n);var o=t.memoizedState;if(r=o.element,Z&&a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=ie(e,t,r,n,i=Error(d(423)));break e}if(r!==i){t=ie(e,t,r,n,i=Error(d(424)));break e}for(Z&&(nx=eG(t.stateNode.containerInfo),nb=t,nw=!0,nE=null,nS=!1),n=nF(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(nU(),r===i){t=ic(e,t,n);break e}r0(e,t,r,n)}t=t.child}return t;case 5:return n$(t),null===e&&nO(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,H(r,i)?o=null:null!==a&&H(r,a)&&(t.flags|=32),r4(e,t),r0(e,t,o,n),t.child;case 6:return null===e&&nO(t),null;case 13:return ii(e,t,n);case 4:return nH(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=nL(t,null,r,n):r0(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tG(r,i),r1(e,t,r,i,n);case 7:return r0(e,t,t.pendingProps,n),t.child;case 8:case 12:return r0(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,tX(t,r,o),null!==a){if(tN(a.value,o)){if(a.children===i.children&&!tr.current){t=ic(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){o=a.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=t5(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),tK(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(d(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),tK(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}r0(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,tZ(t,n),i=tJ(i),r=r(i),t.flags|=1,r0(e,t,r,n),t.child;case 14:return i=tG(r=t.type,t.pendingProps),i=tG(r.type,i),r2(e,t,r,i,n);case 15:return r3(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tG(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,to(r)?(e=!0,tc(t)):e=!1,tZ(t,n),ni(t,r,i),no(t,r,i,n),r8(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 22:return r5(e,t,n)}throw Error(d(156,t.tag))},s.attemptContinuousHydration=function(e){13===e.tag&&(af(e,134217728,ac()),aK(e,134217728))},s.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=ac(),n=ad(e);af(e,n,t),aK(e,n)}},s.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tg(t.pendingLanes);0!==n&&(tw(t,1|n),ap(t,tM()),0==(6&iY)&&(i9(),tj()))}break;case 13:var r=ac();ab(function(){return af(e,1,r)}),aK(e,1)}},s.batchedUpdates=function(e,t){var n=iY;iY|=1;try{return e(t)}finally{0===(iY=n)&&(i9(),tF&&tj())}},s.createComponentSelector=function(e){return{$$typeof:iA,value:e}},s.createContainer=function(e,t,n,r,i,a,o){return aq(e,t,!1,null,n,r,i,a,o)},s.createHasPseudoClassSelector=function(e){return{$$typeof:iz,value:e}},s.createHydrationContainer=function(e,t,n,r,i,a,o,s,l){return(e=aq(n,r,!0,e,i,a,o,s,l)).context=aY(null),n=e.current,(a=t5(r=ac(),i=ad(n))).callback=null!=t?t:null,t4(n,a),e.current.lanes=i,tx(e,i,r),ap(e,r),e},s.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:p,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},s.createRoleSelector=function(e){return{$$typeof:iD,value:e}},s.createTestNameSelector=function(e){return{$$typeof:iN,value:e}},s.createTextSelector=function(e){return{$$typeof:iL,value:e}},s.deferredUpdates=function(e){var t=tS,n=iq.transition;try{return iq.transition=null,tS=16,e()}finally{tS=t,iq.transition=n}},s.discreteUpdates=function(e,t,n,r,i){var a=tS,o=iq.transition;try{return iq.transition=null,tS=1,e(t,n,r,i)}finally{tS=a,iq.transition=o,0===iY&&i9()}},s.findAllNodes=iG,s.findBoundingRects=function(e,t){if(!ea)throw Error(d(363));t=iG(e,t),e=[];for(var n=0;n<t.length;n++)e.push(es(t[n]));for(t=e.length-1;0<t;t--){n=e[t];for(var r=n.x,i=r+n.width,a=n.y,o=a+n.height,s=t-1;0<=s;s--)if(t!==s){var l=e[s],u=l.x,c=u+l.width,f=l.y,h=f+l.height;if(r>=u&&a>=f&&i<=c&&o<=h){e.splice(t,1);break}if(r!==u||n.width!==l.width||h<a||f>o){if(!(a!==f||n.height!==l.height||c<r||u>i)){u>r&&(l.width+=u-r,l.x=r),c<i&&(l.width=i-u),e.splice(t,1);break}}else{f>a&&(l.height+=f-a,l.y=a),h<o&&(l.height=o-f),e.splice(t,1);break}}}return e},s.findHostInstance=aX,s.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=U(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){if(4!==t.tag){var n=e(t);if(null!==n)return n}t=t.sibling}return null}(e):null)?null:e.stateNode},s.findHostInstanceWithWarning=function(e){return aX(e)},s.flushControlled=function(e){var t=iY;iY|=1;var n=iq.transition,r=tS;try{iq.transition=null,tS=1,e()}finally{tS=r,iq.transition=n,0===(iY=t)&&(i9(),tj())}},s.flushPassiveEffects=aP,s.flushSync=ab,s.focusWithin=function(e,t){if(!ea)throw Error(d(363));for(t=Array.from(t=iV(e=iR(e),t)),e=0;e<t.length;){var n=t[e++];if(!eu(n)){if(5===n.tag&&ed(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},s.getCurrentUpdatePriority=function(){return tS},s.getFindAllNodesFailureDescription=function(e,t){if(!ea)throw Error(d(363));var n=0,r=[];e=[iR(e),0];for(var i=0;i<e.length;){var a=e[i++],o=e[i++],s=t[o];if((5!==a.tag||!eu(a))&&(ij(a,s)&&(r.push(iB(s)),++o>n&&(n=o)),o<t.length))for(a=a.child;null!==a;)e.push(a,o),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(iB(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},s.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?D(e.child.stateNode):e.child.stateNode:null},s.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:f.ReactCurrentDispatcher,findHostInstanceByFiber:aZ,findFiberByHostInstance:e.findFiberByHostInstance||aJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{tz=t.inject(e),tD=t}catch(e){}e=!!t.checkDCE}}return e},s.isAlreadyRendering=function(){return!1},s.observeVisibleRects=function(e,t,n,r){if(!ea)throw Error(d(363));var i=ef(e=iG(e,t),n,r).disconnect;return{disconnect:function(){i()}}},s.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},s.runWithPriority=function(e,t){var n=tS;try{return tS=e,t()}finally{tS=n}},s.shouldError=function(){return null},s.shouldSuspend=function(){return!1},s.updateContainer=function(e,t,n,r){var i=t.current,a=ac(),o=ad(i);return n=aY(n),null===t.context?t.context=n:t.pendingContext=n,(t=t5(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),t4(i,t),null!==(e=af(i,o,a))&&t6(e,i,o),o},s}},2576:function(e,t,n){"use strict";e.exports=n(6511)},6525:function(e,t,n){"use strict";e.exports=n(7287)},2546:function(e,t){"use strict";/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function n(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<a(i,t))e[r]=t,e[n]=i,n=r;else break}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else if(u<i&&0>a(c,n))e[r]=c,e[u]=n,r=u;else break}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o,s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],d=[],f=1,h=null,p=3,m=!1,v=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,_="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=r(d);null!==t;){if(null===t.callback)i(d);else if(t.startTime<=e)i(d),t.sortIndex=t.expirationTime,n(c,t);else break;t=r(d)}}function w(e){if(g=!1,x(e),!v){if(null!==r(c))v=!0,A(S);else{var t=r(d);null!==t&&z(w,t.startTime-e)}}}function S(e,n){v=!1,g&&(g=!1,_(k),k=-1),m=!0;var a=p;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!M());){var o=h.callback;if("function"==typeof o){h.callback=null,p=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?h.callback=s:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var u=r(d);null!==u&&z(w,u.startTime-n),l=!1}return l}finally{h=null,p=a,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E=!1,T=null,k=-1,C=5,O=-1;function M(){return!(t.unstable_now()-O<C)}function P(){if(null!==T){var e=t.unstable_now();O=e;var n=!0;try{n=T(!0,e)}finally{n?o():(E=!1,T=null)}}else E=!1}if("function"==typeof b)o=function(){b(P)};else if("undefined"!=typeof MessageChannel){var U=new MessageChannel,I=U.port2;U.port1.onmessage=P,o=function(){I.postMessage(null)}}else o=function(){y(P,0)};function A(e){T=e,E||(E=!0,o())}function z(e,n){k=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,A(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?o+a:o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s,sortIndex:-1},a>o?(e.sortIndex=a,n(d,e),null===r(c)&&e===r(d)&&(g?(_(k),k=-1):g=!0,z(w,a-o))):(e.sortIndex=s,n(c,e),v||m||(v=!0,A(S))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},373:function(e,t,n){"use strict";e.exports=n(2546)},3250:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(7294),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s(function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})},[e,n,t]),o(function(){return u(i)&&c({inst:i}),e(function(){u(i)&&c({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},139:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(7294),i=n(1688),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=u(function(){function e(e){if(!l){if(l=!0,o=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,r,i]);var h=o(e,d[0],d[1]);return l(function(){f.hasValue=!0,f.value=h},[h]),c(h),h}},1688:function(e,t,n){"use strict";e.exports=n(3250)},2798:function(e,t,n){"use strict";e.exports=n(139)},7177:function(e,t,n){"use strict";let r,i,a,o,s,l,u,c,d,f,h,p,m,v,g,y,_,b,x,w,S,E,T,k,C,O,M,P;n.r(t),n.d(t,{Arrow:function(){return uD},CameraControls:function(){return uC},CameraControlsContext:function(){return ux},Edge:function(){return uF},Edges:function(){return uB},GraphCanvas:function(){return uZ},GraphScene:function(){return uV},Icon:function(){return uU},LABEL_FONT_SIZE:function(){return uL},Label:function(){return uy},Lasso:function(){return uY},Line:function(){return uN},Node:function(){return uz},RadialMenu:function(){return u1},RadialSlice:function(){return uJ},Ring:function(){return ub},Sphere:function(){return u_},SphereWithIcon:function(){return uI},animationConfig:function(){return oZ},attributeSizing:function(){return oq},calcLabelVisibility:function(){return oQ},centralitySizing:function(){return o$},circular2d:function(){return oF},createElement:function(){return uq},darkTheme:function(){return uG},forceDirected:function(){return oL},forceRadial:function(){return oN},getAdjacents:function(){return uW},getArrowSize:function(){return o0},getArrowVectors:function(){return oJ},getCurve:function(){return o3},getCurvePoints:function(){return o2},getExpandPath:function(){return um},getLabelOffsetByType:function(){return oK},getLayoutCenter:function(){return o6},getMidPoint:function(){return o1},getNodeDepth:function(){return oz},getVector:function(){return o5},getVisibleEntities:function(){return up},layoutProvider:function(){return oV},lightTheme:function(){return uH},nodeSizeProvider:function(){return oX},pageRankSizing:function(){return oW},prepareRay:function(){return u$},recommendLayout:function(){return oH},tick:function(){return oG},useCameraControls:function(){return uw},useCenterGraph:function(){return uM},useCollapse:function(){return uv},useGraph:function(){return ug},useSelection:function(){return uX}});var U,I,A,z,D,N,L,F,R,j,B,V,G,H,W,$,q,Y,X,Q,K,Z,J,ee,et,en,er=n(5893),ei=n(7294),ea=n(9477),eo=n(2576);let es="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),el=es?ei.useEffect:ei.useLayoutEffect;var eu=n(6525),ec=n.n(eu),ed=n(5431);function ef(e,t,n=(e,t)=>e===t){if(e===t)return!0;if(!e||!t)return!1;let r=e.length;if(t.length!==r)return!1;for(let i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}let eh=[];function ep(e,t,n=!1,r={}){for(let e of eh)if(ef(t,e.keys,e.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(e,"error"))throw e.error;if(Object.prototype.hasOwnProperty.call(e,"response"))return e.response;if(!n)throw e.promise}let i={keys:t,equal:r.equal,promise:e(...t).then(e=>i.response=e).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{let e=eh.indexOf(i);-1!==e&&eh.splice(e,1)},r.lifespan)}).catch(e=>i.error=e)};if(eh.push(i),!n)throw i.promise}let em=(e,t,n)=>ep(e,t,!1,n),ev=(e,t,n)=>void ep(e,t,!0,n),eg=e=>{if(void 0===e||0===e.length)eh.splice(0,eh.length);else{let t=eh.find(t=>ef(e,t.keys,t.equal));if(t){let e=eh.indexOf(t);-1!==e&&eh.splice(e,1)}}},ey=e=>e&&e.isOrthographicCamera,e_="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),eb=e_?ei.useEffect:ei.useLayoutEffect;function ex(e){let t=ei.useRef(e);return eb(()=>void(t.current=e),[e]),t}function ew({set:e}){return eb(()=>(e(new Promise(()=>null)),()=>e(!1)),[e]),null}class eS extends ei.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}eS.getDerivedStateFromError=()=>({error:!0});let eE="__default",eT=e=>e&&!!e.memoized&&!!e.changes;function ek(e){return Array.isArray(e)?Math.min(Math.max(e[0],window.devicePixelRatio),e[1]):e}let eC=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()},eO={obj:e=>e===Object(e)&&!eO.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){let a;if(typeof e!=typeof t||!!e!=!!t)return!1;if(eO.str(e)||eO.num(e))return e===t;let o=eO.obj(e);if(o&&"reference"===r)return e===t;let s=eO.arr(e);if(s&&"reference"===n)return e===t;if((s||o)&&e===t)return!0;for(a in e)if(!(a in t))return!1;for(a in i?t:e)if(e[a]!==t[a])return!1;if(eO.und(a)){if(s&&0===e.length&&0===t.length||o&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function eM(e,t){return(null!=t&&t.primitive||!e.__r3f)&&(e.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t}),e}function eP(e,t){let n=e;if(!t.includes("-"))return{target:n,key:t};{let r=t.split("-"),i=r.pop();return{target:n=r.reduce((e,t)=>e[t],e),key:i}}}let eU=/-\d+$/;function eI(e,t,n){if(eO.str(n)){if(eU.test(n)){let t=n.replace(eU,""),{target:r,key:i}=eP(e,t);Array.isArray(r[i])||(r[i]=[])}let{target:r,key:i}=eP(e,n);t.__r3f.previousAttach=r[i],r[i]=t}else t.__r3f.previousAttach=n(e,t)}function eA(e,t,n){var r,i;if(eO.str(n)){let{target:r,key:i}=eP(e,n),a=t.__r3f.previousAttach;void 0===a?delete r[i]:r[i]=a}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function ez(e,{children:t,key:n,ref:r,...i},{children:a,key:o,ref:s,...l}={},u=!1){var c;let d=null!=(c=null==e?void 0:e.__r3f)?c:{},f=Object.entries(i),h=[];if(u){let e=Object.keys(l);for(let t=0;t<e.length;t++)i.hasOwnProperty(e[t])||f.unshift([e[t],eE+"remove"])}f.forEach(([t,n])=>{var r;if(null!=(r=e.__r3f)&&r.primitive&&"object"===t||eO.equ(n,l[t]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(t))return h.push([t,n,!0,[]]);let i=[];t.includes("-")&&(i=t.split("-")),h.push([t,n,!1,i])});let p={...i};return d.memoizedProps&&d.memoizedProps.args&&(p.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(p.attach=d.memoizedProps.attach),{memoized:p,changes:h}}function eD(e,t){var n,r;let i=null!=(n=e.__r3f)?n:{},a=i.root,o=null!=(r=null==a?void 0:null==a.getState?void 0:a.getState())?r:{},{memoized:s,changes:l}=eT(t)?t:ez(e,t),u=i.eventCount;if(e.__r3f&&(e.__r3f.memoizedProps=s),l.forEach(([t,n,r,a])=>{let l=e,u=l[t];if(a.length&&!((u=a.reduce((e,t)=>e[t],e))&&u.set)){let[n,...r]=a.reverse();l=r.reverse().reduce((e,t)=>e[t],e),t=n}if(n===eE+"remove"){var c,d;if(u&&u.constructor)n=new u.constructor(...null!=(c=s.args)?c:[]);else if(l.constructor){let e=new l.constructor(...null!=(d=l.__r3f.memoizedProps.args)?d:[]);n=e[u],e.dispose&&e.dispose()}else n=0}if(r)n?i.handlers[t]=n:delete i.handlers[t],i.eventCount=Object.keys(i.handlers).length;else if(u&&u.set&&(u.copy||u instanceof ea.Layers)){if(Array.isArray(n))u.fromArray?u.fromArray(n):u.set(...n);else if(u.copy&&n&&n.constructor&&u.constructor.name===n.constructor.name)u.copy(n);else if(void 0!==n){let e=u instanceof ea.Color;!e&&u.setScalar?u.setScalar(n):u instanceof ea.Layers&&n instanceof ea.Layers?u.mask=n.mask:u.set(n)}}else l[t]=n,!o.linear&&l[t]instanceof ea.Texture&&(l[t].encoding=ea.sRGBEncoding);eN(e)}),i.parent&&o.internal&&e.raycast&&u!==i.eventCount){let t=o.internal.interaction.indexOf(e);t>-1&&o.internal.interaction.splice(t,1),i.eventCount&&o.internal.interaction.push(e)}return l.length&&e.parent&&eL(e),e}function eN(e){var t,n;let r=null==(t=e.__r3f)?void 0:null==(n=t.root)?void 0:null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function eL(e){null==e.onUpdate||e.onUpdate(e)}function eF(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function eR(e,t,n,r){let i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}let ej={},eB=e=>void(ej={...ej,...e}),eV=e=>!!(null!=e&&e.render),eG=ei.createContext(null),eH=(e,t)=>{let n=function(e){let t="function"==typeof e?function(e){let t;let n=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(i!==t){let e=t;t=r?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,a=(e,r=i,a=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let o=r(t);function s(){let n=r(t);if(!a(o,n)){let t=o;e(o=n,t)}}return n.add(s),()=>n.delete(s)},o={setState:r,getState:i,subscribe:(e,t,r)=>t||r?a(e,t,r):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,o),o}(e):e,n=(e=t.getState,n=Object.is)=>{let r;let[,i]=(0,ei.useReducer)(e=>e+1,0),a=t.getState(),o=(0,ei.useRef)(a),s=(0,ei.useRef)(e),l=(0,ei.useRef)(n),u=(0,ei.useRef)(!1),c=(0,ei.useRef)();void 0===c.current&&(c.current=e(a));let d=!1;(o.current!==a||s.current!==e||l.current!==n||u.current)&&(r=e(a),d=!n(c.current,r)),el(()=>{d&&(c.current=r),o.current=a,s.current=e,l.current=n,u.current=!1});let f=(0,ei.useRef)(a);el(()=>{let e=()=>{try{let e=t.getState(),n=s.current(e);l.current(c.current,n)||(o.current=e,c.current=n,i())}catch(e){u.current=!0,i()}},n=t.subscribe(e);return t.getState()!==f.current&&e(),n},[]);let h=d?r:c.current;return(0,ei.useDebugValue)(h),h};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let e=[n,t];return{next(){let t=e.length<=0;return{value:e.shift(),done:t}}}},n}((n,r)=>{let i;let a=new ea.Vector3,o=new ea.Vector3,s=new ea.Vector3;function l(e=r().camera,t=o,n=r().size){let{width:i,height:l,top:u,left:c}=n,d=i/l;t instanceof ea.Vector3?s.copy(t):s.set(...t);let f=e.getWorldPosition(a).distanceTo(s);if(ey(e))return{width:i/e.zoom,height:l/e.zoom,top:u,left:c,factor:1,distance:f,aspect:d};{let t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*f,r=n*(i/l);return{width:r,height:n,top:u,left:c,factor:i/r,distance:f,aspect:d}}}let u=e=>n(t=>({performance:{...t.performance,current:e}})),c=new ea.Vector2,d={set:n,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(t=1)=>e(r(),t),advance:(e,n)=>t(e,n,r()),legacy:!1,linear:!1,flat:!1,scene:eM(new ea.Scene),controls:null,clock:new ea.Clock,pointer:c,mouse:c,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{let e=r();i&&clearTimeout(i),e.performance.current!==e.performance.min&&u(e.performance.min),i=setTimeout(()=>u(r().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:e=>n(t=>({...t,events:{...t.events,...e}})),setSize:(e,t,i,a,s)=>{let u=r().camera,c={width:e,height:t,top:a||0,left:s||0,updateStyle:i};n(e=>({size:c,viewport:{...e.viewport,...l(u,o,c)}}))},setDpr:e=>n(t=>{let n=ek(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}}),setFrameloop:(e="always")=>{let t=r().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n(()=>({frameloop:e}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:ei.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,n)=>{let i=r().internal;return i.priority=i.priority+(t>0?1:0),i.subscribers.push({ref:e,priority:t,store:n}),i.subscribers=i.subscribers.sort((e,t)=>e.priority-t.priority),()=>{let n=r().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter(t=>t.ref!==e))}}}};return d}),r=n.getState(),i=r.size,a=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{let{camera:e,size:t,viewport:r,gl:s,set:l}=n.getState();(t!==i||r.dpr!==a)&&(i=t,a=r.dpr,e.manual||(ey(e)?(e.left=-(t.width/2),e.right=t.width/2,e.top=t.height/2,e.bottom=-(t.height/2)):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld()),s.setPixelRatio(r.dpr),s.setSize(t.width,t.height,t.updateStyle)),e!==o&&(o=e,l(t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}})))}),n.subscribe(t=>e(t)),n},eW=new Set,e$=new Set,eq=new Set;function eY(e,t){e.forEach(({callback:e})=>e(t))}function eX(e,t,n){let o=t.clock.getDelta();for("never"===t.frameloop&&"number"==typeof e&&(o=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),i=t.internal.subscribers,r=0;r<i.length;r++)(a=i[r]).ref.current(a.store.getState(),o,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function eQ(){let e=ei.useContext(eG);if(!e)throw"R3F hooks can only be used within the Canvas component!";return e}function eK(e=e=>e,t){return eQ()(e,t)}function eZ(e,t=0){let n=eQ(),r=n.getState().internal.subscribe,i=ex(e);return eb(()=>r(i,t,n),[t,r,n]),null}function eJ(e,t){return function(n,...r){let i=new n;return e&&e(i),Promise.all(r.map(e=>new Promise((n,r)=>i.load(e,e=>{e.scene&&Object.assign(e,function(e){let t={nodes:{},materials:{}};return e&&e.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)}),t}(e.scene)),n(e)},t,t=>r(`Could not load ${e}: ${t.message}`)))))}}function e0(e,t,n,r){let i=Array.isArray(t)?t:[t],a=em(eJ(n,r),[e,...i],{equal:eO.equ});return Array.isArray(t)?a:a[0]}e0.preload=function(e,t,n){let r=Array.isArray(t)?t:[t];return ev(eJ(n),[e,...r])},e0.clear=function(e,t){let n=Array.isArray(t)?t:[t];return eg([e,...n])};let e1=new Map,{invalidate:e2,advance:e3}=function(e){let t,n,r,i=!1;function a(o){if(n=requestAnimationFrame(a),i=!0,t=0,eW.size&&eY(eW,o),e.forEach(e=>{var n;(r=e.store.getState()).internal.active&&("always"===r.frameloop||r.internal.frames>0)&&!(null!=(n=r.gl.xr)&&n.isPresenting)&&(t+=eX(o,r))}),e$.size&&eY(e$,o),0===t)return eq.size&&eY(eq,o),i=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n,r=1){var o;if(!n)return e.forEach(e=>t(e.store.getState()),r);null!=(o=n.gl.xr)&&o.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+r),i||(i=!0,requestAnimationFrame(a)))},advance:function(t,n=!0,r,i){n&&eY(eW,t),r?eX(t,r,i):e.forEach(e=>eX(t,e.store.getState())),n&&eY(e$,t)}}}(e1),{reconciler:e5,applyProps:e4}=function(e,t){function n(e,{args:t=[],attach:n,...r},i){let a,o=`${e[0].toUpperCase()}${e.slice(1)}`;if(void 0===n&&(o.endsWith("Geometry")?n="geometry":o.endsWith("Material")&&(n="material")),"primitive"===e){if(void 0===r.object)throw"Primitives without 'object' are invalid!";let t=r.object;a=eM(t,{type:e,root:i,attach:n,primitive:!0})}else{let r=ej[o];if(!r)throw`${o} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`;if(!Array.isArray(t))throw"The args prop must be an array!";a=eM(new r(...t),{type:e,root:i,attach:n,memoizedProps:{args:t}})}return"inject"!==o&&eD(a,r),a}function r(e,t){let n=!1;if(t){var r,i;null!=(r=t.__r3f)&&r.attach?eI(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),n=!0),n||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||eM(t,{}),t.__r3f.parent=e,eL(t),eN(t)}}function i(e,t,n){let r=!1;if(t){var i,a;if(null!=(i=t.__r3f)&&i.attach)eI(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});let i=e.children.filter(e=>e!==t),a=i.indexOf(n);e.children=[...i.slice(0,a),t,...i.slice(a)],r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||eM(t,{}),t.__r3f.parent=e,eL(t),eN(t)}}function a(e,t,n=!1){e&&[...e].forEach(e=>o(t,e,n))}function o(e,t,n){if(t){var r,i,o,s,l;t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter(e=>e!==t)),null!=(i=t.__r3f)&&i.attach?eA(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.remove(t),null!=(s=t.__r3f)&&s.root&&function(e,t){let{internal:n}=e.getState();n.interaction=n.interaction.filter(e=>e!==t),n.initialHits=n.initialHits.filter(e=>e!==t),n.hovered.forEach((e,r)=>{(e.eventObject===t||e.object===t)&&n.hovered.delete(r)}),n.capturedMap.forEach((e,r)=>{eR(n.capturedMap,t,e,r)})}(t.__r3f.root,t));let u=null==(o=t.__r3f)?void 0:o.primitive,c=void 0===n?null!==t.dispose&&!u:n;u||(a(null==(l=t.__r3f)?void 0:l.objects,t,c),a(t.children,t,c)),t.__r3f&&(delete t.__r3f.root,delete t.__r3f.objects,delete t.__r3f.handlers,delete t.__r3f.memoizedProps,u||delete t.__r3f),c&&t.dispose&&"Scene"!==t.type&&(0,ed.unstable_scheduleCallback)(ed.unstable_IdlePriority,()=>{try{t.dispose()}catch(e){}}),eN(e)}}let s=ec()({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{let n=e.getState().scene;n.__r3f.root=e,r(n,t)},removeChildFromContainer:(e,t)=>o(e.getState().scene,t),insertInContainerBefore:(e,t,n)=>i(e.getState().scene,t,n),getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;let n=null!=(t=null==e?void 0:e.__r3f)?t:{};return!!n.handlers},prepareUpdate(e,t,n,r){if(e.__r3f.primitive&&r.object&&r.object!==e)return[!0];{let{args:t=[],children:i,...a}=r,{args:o=[],children:s,...l}=n;if(!Array.isArray(t))throw"The args prop must be an array!";if(t.some((e,t)=>e!==o[t]))return[!0];let u=ez(e,a,l,!0);return u.changes.length?[!1,u]:null}},commitUpdate(e,[t,i],a,s,l,u){t?function(e,t,i,a){var s;let l=null==(s=e.__r3f)?void 0:s.parent;if(!l)return;let u=n(t,i,e.__r3f.root);if("primitive"!==t&&e.children&&(e.children.forEach(e=>r(u,e)),e.children=[]),e.__r3f.objects.forEach(e=>r(u,e)),e.__r3f.objects=[],o(l,e),r(l,u),u.raycast&&u.__r3f.eventCount){let e=u.__r3f.root.getState();e.internal.interaction.push(u)}[a,a.alternate].forEach(e=>{null!==e&&(e.stateNode=u,e.ref&&("function"==typeof e.ref?e.ref(u):e.ref.current=u))})}(e,a,l,u):eD(e,i)},commitMount(e,t,n,r){var i;let a=null!=(i=e.__r3f)?i:{};e.raycast&&a.handlers&&a.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>eM(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;let{attach:n,parent:r}=null!=(t=null==e?void 0:e.__r3f)?t:{};n&&r&&eA(r,e,n),e.isObject3D&&(e.visible=!1),eN(e)},unhideInstance(e,t){var n;let{attach:r,parent:i}=null!=(n=null==e?void 0:e.__r3f)?n:{};r&&i&&eI(i,e,r),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),eN(e)},createTextInstance:()=>{throw Error("Text is not allowed in the R3F tree.")},hideTextInstance:()=>{throw Error("Text is not allowed in the R3F tree.")},unhideTextInstance:()=>{},getCurrentEventPriority:()=>t?t():eo.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!=typeof performance&&eO.fun(performance.now)?performance.now:eO.fun(Date.now)?Date.now:()=>0,scheduleTimeout:eO.fun(setTimeout)?setTimeout:void 0,cancelTimeout:eO.fun(clearTimeout)?clearTimeout:void 0});return{reconciler:s,applyProps:eD}}(0,function(){var e,t;switch(null==(e=window)?void 0:null==(t=e.event)?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return eo.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return eo.ContinuousEventPriority;default:return eo.DefaultEventPriority}}),e6={objects:"shallow",strict:!1},e7=(e,t)=>{let n="function"==typeof e?e(t):e;return eV(n)?n:new ea.WebGLRenderer({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function e8({store:e,children:t,onCreated:n,rootElement:r}){return eb(()=>{let t=e.getState();t.set(e=>({internal:{...e.internal,active:!0}})),n&&n(t),e.getState().events.connected||null==t.events.connect||t.events.connect(r)},[]),ei.createElement(eG.Provider,{value:e},t)}function e9(e,t){let n=e1.get(e),r=null==n?void 0:n.fiber;if(r){let i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),e5.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var n,r,a,o;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=i.gl)&&o.xr&&i.xr.disconnect(),function(e){for(let t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}(i),e1.delete(e),t&&t(e)}catch(e){}},500)})}}function te(){return(te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}e5.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ei.version}),ei.unstable_act;var tt=n(296),tn=n.n(tt);let tr=["x","y","top","bottom","left","right","width","height"],ti=(e,t)=>tr.every(n=>e[n]===t[n]),ta={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function to(e){let{handlePointer:t}=function(e){let t=new ea.Vector3;function n(e){return e.filter(e=>["Move","Over","Enter","Out","Leave"].some(t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}function r(t){let{internal:n}=e.getState();Array.from(n.hovered.values()).forEach(e=>{if(!t.length||!t.find(t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId)){let r=e.eventObject,i=r.__r3f,a=null==i?void 0:i.handlers;if(n.hovered.delete(eF(e)),null!=i&&i.eventCount){let n={...e,intersections:t};null==a.onPointerOut||a.onPointerOut(n),null==a.onPointerLeave||a.onPointerLeave(n)}}})}function i(e,t){t.forEach(t=>{var n;return null==(n=t.__r3f)?void 0:null==n.handlers.onPointerMissed?void 0:n.handlers.onPointerMissed(e)})}return{handlePointer:a=>{switch(a){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return t=>{let{internal:n}=e.getState();"pointerId"in t&&!n.capturedMap.has(t.pointerId)&&(n.capturedMap.delete(t.pointerId),r([]))}}return o=>{let{onPointerMissed:s,internal:l}=e.getState();l.lastEvent.current=o;let u="onPointerMove"===a,c="onClick"===a||"onContextMenu"===a||"onDoubleClick"===a,d=function(t,n){let r=e.getState(),i=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction;o.forEach(e=>{let t=eC(e);t&&(t.raycaster.camera=void 0)}),r.previousRoot||null==r.events.compute||r.events.compute(t,r);let s=o.flatMap(e=>{let n=eC(e);if(!n||!n.events.enabled||null===n.raycaster.camera)return[];if(void 0===n.raycaster.camera){var r;null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)}return n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]}).sort((e,t)=>{let n=eC(e.object),r=eC(t.object);return n&&r?r.events.priority-n.events.priority||e.distance-t.distance:0}).filter(e=>{let t=eF(e);return!i.has(t)&&(i.add(t),!0)});for(let e of(r.events.filter&&(s=r.events.filter(s,r)),s)){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&a.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())a.push(e.intersection);return a}(o,u?n:void 0),f=c?function(t){let{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(o):0;"onPointerDown"===a&&(l.initialClick=[o.offsetX,o.offsetY],l.initialHits=d.map(e=>e.eventObject)),c&&!d.length&&f<=2&&(i(o,l.interaction),s&&s(o)),u&&r(d),function(n,i,a,o){let{raycaster:s,pointer:l,camera:u,internal:c}=e.getState();if(n.length){let e=t.set(l.x,l.y,0).unproject(u),d={stopped:!1};for(let t of n){let f=e=>{var n,r;return null!=(n=null==(r=c.capturedMap.get(e))?void 0:r.has(t.eventObject))&&n},h=e=>{let n={intersection:t,target:i.target};c.capturedMap.has(e)?c.capturedMap.get(e).set(t.eventObject,n):c.capturedMap.set(e,new Map([[t.eventObject,n]])),i.target.setPointerCapture(e)},p=e=>{let n=c.capturedMap.get(e);n&&eR(c.capturedMap,t.eventObject,n,e)},m={};for(let e in i){let t=i[e];"function"!=typeof t&&(m[e]=t)}let v={...t,...m,pointer:l,intersections:n,stopped:d.stopped,delta:a,unprojectedPoint:e,ray:s.ray,camera:u,stopPropagation:()=>{let e="pointerId"in i&&c.capturedMap.get(i.pointerId);if((!e||e.has(t.eventObject))&&(v.stopped=d.stopped=!0,c.hovered.size&&Array.from(c.hovered.values()).find(e=>e.eventObject===t.eventObject))){let e=n.slice(0,n.indexOf(t));r([...e,t])}},target:{hasPointerCapture:f,setPointerCapture:h,releasePointerCapture:p},currentTarget:{hasPointerCapture:f,setPointerCapture:h,releasePointerCapture:p},nativeEvent:i};if(o(v),!0===d.stopped)break}}}(d,o,f,e=>{let t=e.eventObject,n=t.__r3f,r=null==n?void 0:n.handlers;if(null!=n&&n.eventCount){if(u){if(r.onPointerOver||r.onPointerEnter||r.onPointerOut||r.onPointerLeave){let t=eF(e),n=l.hovered.get(t);n?n.stopped&&e.stopPropagation():(l.hovered.set(t,e),null==r.onPointerOver||r.onPointerOver(e),null==r.onPointerEnter||r.onPointerEnter(e))}null==r.onPointerMove||r.onPointerMove(e)}else{let n=r[a];n?(!c||l.initialHits.includes(t))&&(i(o,l.interaction.filter(e=>!l.initialHits.includes(e))),n(e)):c&&l.initialHits.includes(t)&&i(o,l.interaction.filter(e=>!l.initialHits.includes(e)))}}})}}}}(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-(2*(e.offsetY/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(ta).reduce((e,n)=>({...e,[n]:t(n)}),{}),connect:t=>{var n;let{set:r,events:i}=e.getState();null==i.disconnect||i.disconnect(),r(e=>({events:{...e.events,connected:t}})),Object.entries(null!=(n=i.handlers)?n:[]).forEach(([e,n])=>{let[r,i]=ta[e];t.addEventListener(r,n,{passive:i})})},disconnect:()=>{let{set:t,events:n}=e.getState();if(n.connected){var r;Object.entries(null!=(r=n.handlers)?r:[]).forEach(([e,t])=>{if(n&&n.connected instanceof HTMLElement){let[r]=ta[e];n.connected.removeEventListener(r,t)}}),t(e=>({events:{...e.events,connected:void 0}}))}}}}let ts=ei.forwardRef(function({children:e,fallback:t,resize:n,style:r,gl:i,events:a=to,shadows:o,linear:s,flat:l,legacy:u,orthographic:c,frameloop:d,dpr:f,performance:h,raycaster:p,camera:m,onPointerMissed:v,onCreated:g,...y},_){ei.useMemo(()=>eB(ea),[]);let[b,x]=function(e){var t;let{debounce:n,scroll:r,polyfill:i,offsetSize:a}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,o=i||("undefined"==typeof window?class{}:window.ResizeObserver);if(!o)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[s,l]=(0,ei.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=(0,ei.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),c=n?"number"==typeof n?n:n.scroll:null,d=n?"number"==typeof n?n:n.resize:null,f=(0,ei.useRef)(!1);(0,ei.useEffect)(()=>(f.current=!0,()=>void(f.current=!1)));let[h,p,m]=(0,ei.useMemo)(()=>{let e=()=>{if(!u.current.element)return;let{left:e,top:t,width:n,height:r,bottom:i,right:o,x:s,y:c}=u.current.element.getBoundingClientRect(),d={left:e,top:t,width:n,height:r,bottom:i,right:o,x:s,y:c};u.current.element instanceof HTMLElement&&a&&(d.height=u.current.element.offsetHeight,d.width=u.current.element.offsetWidth),Object.freeze(d),f.current&&!ti(u.current.lastBounds,d)&&l(u.current.lastBounds=d)};return[e,d?tn()(e,d):e,c?tn()(e,c):e]},[l,a,c,d]);function v(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",m,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null)}function g(){u.current.element&&(u.current.resizeObserver=new o(m),u.current.resizeObserver.observe(u.current.element),r&&u.current.scrollContainers&&u.current.scrollContainers.forEach(e=>e.addEventListener("scroll",m,{capture:!0,passive:!0})))}return t=!!r,(0,ei.useEffect)(()=>{if(t)return window.addEventListener("scroll",m,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",m,!0)},[m,t]),(0,ei.useEffect)(()=>(window.addEventListener("resize",p),()=>void window.removeEventListener("resize",p)),[p]),(0,ei.useEffect)(()=>{v(),g()},[r,m,p]),(0,ei.useEffect)(()=>v,[]),[e=>{e&&e!==u.current.element&&(v(),u.current.element=e,u.current.scrollContainers=function e(t){let n=[];if(!t||t===document.body)return n;let{overflow:r,overflowX:i,overflowY:a}=window.getComputedStyle(t);return[r,i,a].some(e=>"auto"===e||"scroll"===e)&&n.push(t),[...n,...e(t.parentElement)]}(e),g())},s,h]}({scroll:!0,debounce:{scroll:50,resize:0},...n}),w=ei.useRef(null),S=ei.useRef(null),[E,T]=ei.useState(null);ei.useImperativeHandle(_,()=>w.current);let k=ex(v),[C,O]=ei.useState(!1),[M,P]=ei.useState(!1);if(C)throw C;if(M)throw M;let U=ei.useRef(null);return x.width>0&&x.height>0&&E&&(U.current||(U.current=function(e){let t,n=e1.get(e),r=null==n?void 0:n.fiber,i=null==n?void 0:n.store;n&&console.warn("R3F.createRoot should only be called once!");let a="function"==typeof reportError?reportError:console.error,o=i||eH(e2,e3),s=r||e5.createContainer(o,eo.ConcurrentRoot,null,!1,null,"",a,null);n||e1.set(e,{fiber:s,store:o});let l=!1;return{configure(n={}){let{gl:r,size:i,events:a,onCreated:s,shadows:u=!1,linear:c=!1,flat:d=!1,legacy:f=!1,orthographic:h=!1,frameloop:p="always",dpr:m=[1,2],performance:v,raycaster:g,camera:y,onPointerMissed:_}=n,b=o.getState(),x=b.gl;b.gl||b.set({gl:x=e7(r,e)});let w=b.raycaster;w||b.set({raycaster:w=new ea.Raycaster});let{params:S,...E}=g||{};if(eO.equ(E,w,e6)||e4(w,{...E}),eO.equ(S,w.params,e6)||e4(w,{params:{...w.params,...S}}),!b.camera){let e=y instanceof ea.Camera,t=e?y:h?new ea.OrthographicCamera(0,0,0,0,.1,1e3):new ea.PerspectiveCamera(75,0,.1,1e3);e||(t.position.z=5,y&&e4(t,y),null!=y&&y.rotation||t.lookAt(0,0,0)),b.set({camera:t})}if(!b.xr){let e=(e,t)=>{let n=o.getState();"never"!==n.frameloop&&e3(e,!0,n,t)},t=()=>{let t=o.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||e2(t)},n={connect(){let e=o.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){let e=o.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};x.xr&&n.connect(),b.set({xr:n})}if(x.shadowMap){let e=eO.boo(u);if(e&&x.shadowMap.enabled!==u||!eO.equ(u,x.shadowMap,e6)){let t=x.shadowMap.enabled;x.shadowMap.enabled=!!u,e?x.shadowMap.type=ea.PCFSoftShadowMap:Object.assign(x.shadowMap,u),t!==x.shadowMap.enabled&&(x.shadowMap.needsUpdate=!0)}}!function(e,t,n){let r=n.pop(),i=n.reduce((e,t)=>e[t],e);i[r]=t}(ea,f,["ColorManagement","legacyMode"]);let T=c?ea.LinearEncoding:ea.sRGBEncoding,k=d?ea.NoToneMapping:ea.ACESFilmicToneMapping;return x.outputEncoding!==T&&(x.outputEncoding=T),x.toneMapping!==k&&(x.toneMapping=k),b.legacy!==f&&b.set(()=>({legacy:f})),b.linear!==c&&b.set(()=>({linear:c})),b.flat!==d&&b.set(()=>({flat:d})),!r||eO.fun(r)||eV(r)||eO.equ(r,x,e6)||e4(x,r),a&&!b.events.handlers&&b.set({events:a(o)}),m&&b.viewport.dpr!==ek(m)&&b.setDpr(m),i=i||(e.parentElement?{width:e.parentElement.clientWidth,height:e.parentElement.clientHeight,top:e.parentElement.clientTop,left:e.parentElement.clientLeft}:{width:0,height:0,top:0,left:0}),eO.equ(i,b.size,e6)||b.setSize(i.width,i.height,i.updateStyle,i.top,i.left),b.frameloop!==p&&b.setFrameloop(p),b.onPointerMissed||b.set({onPointerMissed:_}),v&&!eO.equ(v,b.performance,e6)&&b.set(e=>({performance:{...e.performance,...v}})),t=s,l=!0,this},render(n){return l||this.configure(),e5.updateContainer(ei.createElement(e8,{store:o,children:n,onCreated:t,rootElement:e}),s,null,()=>void 0),o},unmount(){e9(e)}}}(E)),U.current.configure({gl:i,events:a,shadows:o,linear:s,flat:l,legacy:u,orthographic:c,frameloop:d,dpr:f,performance:h,raycaster:p,camera:m,size:x,onPointerMissed:(...e)=>null==k.current?void 0:k.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(S.current),null==g||g(e)}}),U.current.render(ei.createElement(eS,{set:P},ei.createElement(ei.Suspense,{fallback:ei.createElement(ew,{set:O})},e)))),eb(()=>{T(w.current)},[]),ei.useEffect(()=>{if(E)return()=>e9(E)},[E]),ei.createElement("div",te({ref:S,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",...r}},y),ei.createElement("div",{ref:b,style:{width:"100%",height:"100%"}},ei.createElement("canvas",{ref:w,style:{display:"block"}},t)))});function tl(e){return function(){return e}}var tu={value:()=>{}};function tc(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw Error("illegal type: "+e);r[e]=[]}return new td(r)}function td(e){this._=e}function tf(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=tu,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}td.prototype=tc.prototype={constructor:td,on:function(e,t){var n,r=this._,i=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:t}}),a=-1,o=i.length;if(arguments.length<2){for(;++a<o;)if((n=(e=i[a]).type)&&(n=function(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}(r[n],e.name)))return n;return}if(null!=t&&"function"!=typeof t)throw Error("invalid callback: "+t);for(;++a<o;)if(n=(e=i[a]).type)r[n]=tf(r[n],e.name,t);else if(null==t)for(n in r)r[n]=tf(r[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new td(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(r=this._[e],a=0,n=r.length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var th,tp,tm=0,tv=0,tg=0,ty=0,t_=0,tb=0,tx="object"==typeof performance&&performance.now?performance:Date,tw="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function tS(){return t_||(tw(tE),t_=tx.now()+tb)}function tE(){t_=0}function tT(){this._call=this._time=this._next=null}function tk(e,t,n){var r=new tT;return r.restart(e,t,n),r}function tC(){t_=(ty=tx.now())+tb,tm=tv=0;try{!function(){tS(),++tm;for(var e,t=th;t;)(e=t_-t._time)>=0&&t._call.call(void 0,e),t=t._next;--tm}()}finally{tm=0,function(){for(var e,t,n=th,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:th=t);tp=e,tM(r)}(),t_=0}}function tO(){var e=tx.now(),t=e-ty;t>1e3&&(tb-=t,ty=e)}function tM(e){!tm&&(tv&&(tv=clearTimeout(tv)),e-t_>24?(e<1/0&&(tv=setTimeout(tC,e-tx.now()-tb)),tg&&(tg=clearInterval(tg))):(tg||(ty=tx.now(),tg=setInterval(tO,1e3)),tm=1,tw(tC)))}function tP(e){return e.x}function tU(e){return e.y}function tI(e){return e.z}tT.prototype=tk.prototype={constructor:tT,restart:function(e,t,n){if("function"!=typeof e)throw TypeError("callback is not a function");n=(null==n?tS():+n)+(null==t?0:+t),this._next||tp===this||(tp?tp._next=this:th=this,tp=this),this._call=e,this._time=n,tM()},stop:function(){this._call&&(this._call=null,this._time=1/0,tM())}};var tA=Math.PI*(3-Math.sqrt(5)),tz=20*Math.PI/(9+Math.sqrt(221));function tD(e){return(e()-.5)*1e-6}function tN(e){return e.index}function tL(e,t){var n=e.get(t);if(!n)throw Error("node not found: "+t);return n}function tF(e,t,n){if(isNaN(t))return e;var r,i,a,o,s,l,u=e._root,c={data:n},d=e._x0,f=e._x1;if(!u)return e._root=c,e;for(;u.length;)if((o=t>=(i=(d+f)/2))?d=i:f=i,r=u,!(u=u[s=+o]))return r[s]=c,e;if(t===(a=+e._x.call(null,u.data)))return c.next=u,r?r[s]=c:e._root=c,e;do r=r?r[s]=[,,]:e._root=[,,],(o=t>=(i=(d+f)/2))?d=i:f=i;while((s=+o)==(l=+(a>=i)));return r[l]=u,r[s]=c,e}function tR(e,t,n){this.node=e,this.x0=t,this.x1=n}function tj(e){return e[0]}function tB(e,t){var n=new tV(null==t?tj:t,NaN,NaN);return null==e?n:n.addAll(e)}function tV(e,t,n){this._x=e,this._x0=t,this._x1=n,this._root=void 0}function tG(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var tH=tB.prototype=tV.prototype;function tW(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a,o,s,l,u,c,d,f,h=e._root,p={data:r},m=e._x0,v=e._y0,g=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((u=t>=(a=(m+g)/2))?m=a:g=a,(c=n>=(o=(v+y)/2))?v=o:y=o,i=h,!(h=h[d=c<<1|u]))return i[d]=p,e;if(s=+e._x.call(null,h.data),l=+e._y.call(null,h.data),t===s&&n===l)return p.next=h,i?i[d]=p:e._root=p,e;do i=i?i[d]=[,,,,]:e._root=[,,,,],(u=t>=(a=(m+g)/2))?m=a:g=a,(c=n>=(o=(v+y)/2))?v=o:y=o;while((d=c<<1|u)==(f=(l>=o)<<1|s>=a));return i[f]=h,i[d]=p,e}function t$(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function tq(e){return e[0]}function tY(e){return e[1]}function tX(e,t,n){var r=new tQ(null==t?tq:t,null==n?tY:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function tQ(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function tK(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}tH.copy=function(){var e,t,n=new tV(this._x,this._x0,this._x1),r=this._root;if(!r)return n;if(!r.length)return n._root=tG(r),n;for(e=[{source:r,target:n._root=[,,]}];r=e.pop();)for(var i=0;i<2;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=[,,]}):r.target[i]=tG(t));return n},tH.add=function(e){let t=+this._x.call(null,e);return tF(this.cover(t),t,e)},tH.addAll=function(e){Array.isArray(e)||(e=Array.from(e));let t=e.length,n=new Float64Array(t),r=1/0,i=-1/0;for(let a=0,o;a<t;++a)!isNaN(o=+this._x.call(null,e[a]))&&(n[a]=o,o<r&&(r=o),o>i&&(i=o));if(r>i)return this;this.cover(r).cover(i);for(let r=0;r<t;++r)tF(this,n[r],e[r]);return this},tH.cover=function(e){if(isNaN(e=+e))return this;var t=this._x0,n=this._x1;if(isNaN(t))n=(t=Math.floor(e))+1;else{for(var r,i,a=n-t||1,o=this._root;t>e||e>=n;)switch(i=+(e<t),(r=[,,])[i]=o,o=r,a*=2,i){case 0:n=t+a;break;case 1:t=n-a}this._root&&this._root.length&&(this._root=o)}return this._x0=t,this._x1=n,this},tH.data=function(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e},tH.extent=function(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]},tH.find=function(e,t){var n,r,i,a,o,s=this._x0,l=this._x1,u=[],c=this._root;for(c&&u.push(new tR(c,s,l)),null==t?t=1/0:(s=e-t,l=e+t);a=u.pop();)if((c=a.node)&&!((r=a.x0)>l)&&!((i=a.x1)<s)){if(c.length){var d=(r+i)/2;u.push(new tR(c[1],d,i),new tR(c[0],r,d)),(o=+(e>=d))&&(a=u[u.length-1],u[u.length-1]=u[u.length-1-o],u[u.length-1-o]=a)}else{var f=Math.abs(e-+this._x.call(null,c.data));f<t&&(t=f,s=e-f,l=e+f,n=c.data)}}return n},tH.remove=function(e){if(isNaN(a=+this._x.call(null,e)))return this;var t,n,r,i,a,o,s,l,u,c=this._root,d=this._x0,f=this._x1;if(!c)return this;if(c.length)for(;;){if((s=a>=(o=(d+f)/2))?d=o:f=o,t=c,!(c=c[l=+s]))return this;if(!c.length)break;t[l+1&1]&&(n=t,u=l)}for(;c.data!==e;)if(r=c,!(c=c.next))return this;return((i=c.next)&&delete c.next,r)?(i?r.next=i:delete r.next,this):t?(i?t[l]=i:delete t[l],(c=t[0]||t[1])&&c===(t[1]||t[0])&&!c.length&&(n?n[u]=c:this._root=c),this):(this._root=i,this)},tH.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},tH.root=function(){return this._root},tH.size=function(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e},tH.visit=function(e){var t,n,r,i,a=[],o=this._root;for(o&&a.push(new tR(o,this._x0,this._x1));t=a.pop();)if(!e(o=t.node,r=t.x0,i=t.x1)&&o.length){var s=(r+i)/2;(n=o[1])&&a.push(new tR(n,s,i)),(n=o[0])&&a.push(new tR(n,r,s))}return this},tH.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new tR(this._root,this._x0,this._x1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,s=t.x1,l=(o+s)/2;(a=i[0])&&n.push(new tR(a,o,l)),(a=i[1])&&n.push(new tR(a,l,s))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.x1);return this},tH.x=function(e){return arguments.length?(this._x=e,this):this._x};var tZ=tX.prototype=tQ.prototype;function tJ(e,t,n,r,i){if(isNaN(t)||isNaN(n)||isNaN(r))return e;var a,o,s,l,u,c,d,f,h,p,m,v,g=e._root,y={data:i},_=e._x0,b=e._y0,x=e._z0,w=e._x1,S=e._y1,E=e._z1;if(!g)return e._root=y,e;for(;g.length;)if((f=t>=(o=(_+w)/2))?_=o:w=o,(h=n>=(s=(b+S)/2))?b=s:S=s,(p=r>=(l=(x+E)/2))?x=l:E=l,a=g,!(g=g[m=p<<2|h<<1|f]))return a[m]=y,e;if(u=+e._x.call(null,g.data),c=+e._y.call(null,g.data),d=+e._z.call(null,g.data),t===u&&n===c&&r===d)return y.next=g,a?a[m]=y:e._root=y,e;do a=a?a[m]=Array(8):e._root=Array(8),(f=t>=(o=(_+w)/2))?_=o:w=o,(h=n>=(s=(b+S)/2))?b=s:S=s,(p=r>=(l=(x+E)/2))?x=l:E=l;while((m=p<<2|h<<1|f)==(v=(d>=l)<<2|(c>=s)<<1|u>=o));return a[v]=g,a[m]=y,e}function t0(e,t,n,r,i,a,o){this.node=e,this.x0=t,this.y0=n,this.z0=r,this.x1=i,this.y1=a,this.z1=o}function t1(e){return e[0]}function t2(e){return e[1]}function t3(e){return e[2]}function t5(e,t,n,r){var i=new t4(null==t?t1:t,null==n?t2:n,null==r?t3:r,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function t4(e,t,n,r,i,a,o,s,l){this._x=e,this._y=t,this._z=n,this._x0=r,this._y0=i,this._z0=a,this._x1=o,this._y1=s,this._z1=l,this._root=void 0}function t6(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}tZ.copy=function(){var e,t,n=new tQ(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=tK(r),n;for(e=[{source:r,target:n._root=[,,,,]}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=[,,,,]}):r.target[i]=tK(t));return n},tZ.add=function(e){let t=+this._x.call(null,e),n=+this._y.call(null,e);return tW(this.cover(t,n),t,n,e)},tZ.addAll=function(e){var t,n,r,i,a=e.length,o=Array(a),s=Array(a),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<a;++n)!(isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t)))&&(o[n]=r,s[n]=i,r<l&&(l=r),r>c&&(c=r),i<u&&(u=i),i>d&&(d=i));if(l>c||u>d)return this;for(this.cover(l,u).cover(c,d),n=0;n<a;++n)tW(this,o[n],s[n],e[n]);return this},tZ.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o,s,l=i-n||1,u=this._root;n>e||e>=i||r>t||t>=a;)switch(s=(t<r)<<1|e<n,(o=[,,,,])[s]=u,u=o,l*=2,s){case 0:i=n+l,a=r+l;break;case 1:n=i-l,a=r+l;break;case 2:i=n+l,r=a-l;break;case 3:n=i-l,r=a-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},tZ.data=function(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e},tZ.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},tZ.find=function(e,t,n){var r,i,a,o,s,l,u,c=this._x0,d=this._y0,f=this._x1,h=this._y1,p=[],m=this._root;for(m&&p.push(new t$(m,c,d,f,h)),null==n?n=1/0:(c=e-n,d=t-n,f=e+n,h=t+n,n*=n);l=p.pop();)if((m=l.node)&&!((i=l.x0)>f)&&!((a=l.y0)>h)&&!((o=l.x1)<c)&&!((s=l.y1)<d)){if(m.length){var v=(i+o)/2,g=(a+s)/2;p.push(new t$(m[3],v,g,o,s),new t$(m[2],i,g,v,s),new t$(m[1],v,a,o,g),new t$(m[0],i,a,v,g)),(u=(t>=g)<<1|e>=v)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var y=e-+this._x.call(null,m.data),_=t-+this._y.call(null,m.data),b=y*y+_*_;if(b<n){var x=Math.sqrt(n=b);c=e-x,d=t-x,f=e+x,h=t+x,r=m.data}}}return r},tZ.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,a,o,s,l,u,c,d,f,h=this._root,p=this._x0,m=this._y0,v=this._x1,g=this._y1;if(!h)return this;if(h.length)for(;;){if((u=a>=(s=(p+v)/2))?p=s:v=s,(c=o>=(l=(m+g)/2))?m=l:g=l,t=h,!(h=h[d=c<<1|u]))return this;if(!h.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,f=d)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return((i=h.next)&&delete h.next,r)?(i?r.next=i:delete r.next,this):t?(i?t[d]=i:delete t[d],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[f]=h:this._root=h),this):(this._root=i,this)},tZ.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},tZ.root=function(){return this._root},tZ.size=function(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e},tZ.visit=function(e){var t,n,r,i,a,o,s=[],l=this._root;for(l&&s.push(new t$(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,a=t.x1,o=t.y1)&&l.length){var u=(r+a)/2,c=(i+o)/2;(n=l[3])&&s.push(new t$(n,u,c,a,o)),(n=l[2])&&s.push(new t$(n,r,c,u,o)),(n=l[1])&&s.push(new t$(n,u,i,a,c)),(n=l[0])&&s.push(new t$(n,r,i,u,c))}return this},tZ.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new t$(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,s=t.y0,l=t.x1,u=t.y1,c=(o+l)/2,d=(s+u)/2;(a=i[0])&&n.push(new t$(a,o,s,c,d)),(a=i[1])&&n.push(new t$(a,c,s,l,d)),(a=i[2])&&n.push(new t$(a,o,d,c,u)),(a=i[3])&&n.push(new t$(a,c,d,l,u))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},tZ.x=function(e){return arguments.length?(this._x=e,this):this._x},tZ.y=function(e){return arguments.length?(this._y=e,this):this._y};var t7=t5.prototype=t4.prototype;function t8(e){return e.x+e.vx}function t9(e){return e.y+e.vy}function ne(e){return e.z+e.vz}t7.copy=function(){var e,t,n=new t4(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root;if(!r)return n;if(!r.length)return n._root=t6(r),n;for(e=[{source:r,target:n._root=Array(8)}];r=e.pop();)for(var i=0;i<8;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=Array(8)}):r.target[i]=t6(t));return n},t7.add=function(e){let t=+this._x.call(null,e),n=+this._y.call(null,e),r=+this._z.call(null,e);return tJ(this.cover(t,n,r),t,n,r,e)},t7.addAll=function(e){Array.isArray(e)||(e=Array.from(e));let t=e.length,n=new Float64Array(t),r=new Float64Array(t),i=new Float64Array(t),a=1/0,o=1/0,s=1/0,l=-1/0,u=-1/0,c=-1/0;for(let d=0,f,h,p,m;d<t;++d)!(isNaN(h=+this._x.call(null,f=e[d]))||isNaN(p=+this._y.call(null,f))||isNaN(m=+this._z.call(null,f)))&&(n[d]=h,r[d]=p,i[d]=m,h<a&&(a=h),h>l&&(l=h),p<o&&(o=p),p>u&&(u=p),m<s&&(s=m),m>c&&(c=m));if(a>l||o>u||s>c)return this;this.cover(a,o,s).cover(l,u,c);for(let a=0;a<t;++a)tJ(this,n[a],r[a],i[a],e[a]);return this},t7.cover=function(e,t,n){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,a=this._z0,o=this._x1,s=this._y1,l=this._z1;if(isNaN(r))o=(r=Math.floor(e))+1,s=(i=Math.floor(t))+1,l=(a=Math.floor(n))+1;else{for(var u,c,d=o-r||1,f=this._root;r>e||e>=o||i>t||t>=s||a>n||n>=l;)switch(c=(n<a)<<2|(t<i)<<1|e<r,(u=Array(8))[c]=f,f=u,d*=2,c){case 0:o=r+d,s=i+d,l=a+d;break;case 1:r=o-d,s=i+d,l=a+d;break;case 2:o=r+d,i=s-d,l=a+d;break;case 3:r=o-d,i=s-d,l=a+d;break;case 4:o=r+d,s=i+d,a=l-d;break;case 5:r=o-d,s=i+d,a=l-d;break;case 6:o=r+d,i=s-d,a=l-d;break;case 7:r=o-d,i=s-d,a=l-d}this._root&&this._root.length&&(this._root=f)}return this._x0=r,this._y0=i,this._z0=a,this._x1=o,this._y1=s,this._z1=l,this},t7.data=function(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e},t7.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},t7.find=function(e,t,n,r){var i,a,o,s,l,u,c,d,f,h=this._x0,p=this._y0,m=this._z0,v=this._x1,g=this._y1,y=this._z1,_=[],b=this._root;for(b&&_.push(new t0(b,h,p,m,v,g,y)),null==r?r=1/0:(h=e-r,p=t-r,m=n-r,v=e+r,g=t+r,y=n+r,r*=r);d=_.pop();)if((b=d.node)&&!((a=d.x0)>v)&&!((o=d.y0)>g)&&!((s=d.z0)>y)&&!((l=d.x1)<h)&&!((u=d.y1)<p)&&!((c=d.z1)<m)){if(b.length){var x=(a+l)/2,w=(o+u)/2,S=(s+c)/2;_.push(new t0(b[7],x,w,S,l,u,c),new t0(b[6],a,w,S,x,u,c),new t0(b[5],x,o,S,l,w,c),new t0(b[4],a,o,S,x,w,c),new t0(b[3],x,w,s,l,u,S),new t0(b[2],a,w,s,x,u,S),new t0(b[1],x,o,s,l,w,S),new t0(b[0],a,o,s,x,w,S)),(f=(n>=S)<<2|(t>=w)<<1|e>=x)&&(d=_[_.length-1],_[_.length-1]=_[_.length-1-f],_[_.length-1-f]=d)}else{var E=e-+this._x.call(null,b.data),T=t-+this._y.call(null,b.data),k=n-+this._z.call(null,b.data),C=E*E+T*T+k*k;if(C<r){var O=Math.sqrt(r=C);h=e-O,p=t-O,m=n-O,v=e+O,g=t+O,y=n+O,i=b.data}}}return i},t7.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e))||isNaN(s=+this._z.call(null,e)))return this;var t,n,r,i,a,o,s,l,u,c,d,f,h,p,m,v=this._root,g=this._x0,y=this._y0,_=this._z0,b=this._x1,x=this._y1,w=this._z1;if(!v)return this;if(v.length)for(;;){if((d=a>=(l=(g+b)/2))?g=l:b=l,(f=o>=(u=(y+x)/2))?y=u:x=u,(h=s>=(c=(_+w)/2))?_=c:w=c,t=v,!(v=v[p=h<<2|f<<1|d]))return this;if(!v.length)break;(t[p+1&7]||t[p+2&7]||t[p+3&7]||t[p+4&7]||t[p+5&7]||t[p+6&7]||t[p+7&7])&&(n=t,m=p)}for(;v.data!==e;)if(r=v,!(v=v.next))return this;return((i=v.next)&&delete v.next,r)?(i?r.next=i:delete r.next,this):t?(i?t[p]=i:delete t[p],(v=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&v===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!v.length&&(n?n[m]=v:this._root=v),this):(this._root=i,this)},t7.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},t7.root=function(){return this._root},t7.size=function(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e},t7.visit=function(e){var t,n,r,i,a,o,s,l,u=[],c=this._root;for(c&&u.push(new t0(c,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=u.pop();)if(!e(c=t.node,r=t.x0,i=t.y0,a=t.z0,o=t.x1,s=t.y1,l=t.z1)&&c.length){var d=(r+o)/2,f=(i+s)/2,h=(a+l)/2;(n=c[7])&&u.push(new t0(n,d,f,h,o,s,l)),(n=c[6])&&u.push(new t0(n,r,f,h,d,s,l)),(n=c[5])&&u.push(new t0(n,d,i,h,o,f,l)),(n=c[4])&&u.push(new t0(n,r,i,h,d,f,l)),(n=c[3])&&u.push(new t0(n,d,f,a,o,s,h)),(n=c[2])&&u.push(new t0(n,r,f,a,d,s,h)),(n=c[1])&&u.push(new t0(n,d,i,a,o,f,h)),(n=c[0])&&u.push(new t0(n,r,i,a,d,f,h))}return this},t7.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new t0(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,s=t.y0,l=t.z0,u=t.x1,c=t.y1,d=t.z1,f=(o+u)/2,h=(s+c)/2,p=(l+d)/2;(a=i[0])&&n.push(new t0(a,o,s,l,f,h,p)),(a=i[1])&&n.push(new t0(a,f,s,l,u,h,p)),(a=i[2])&&n.push(new t0(a,o,h,l,f,c,p)),(a=i[3])&&n.push(new t0(a,f,h,l,u,c,p)),(a=i[4])&&n.push(new t0(a,o,s,p,f,h,d)),(a=i[5])&&n.push(new t0(a,f,s,p,u,h,d)),(a=i[6])&&n.push(new t0(a,o,h,p,f,c,d)),(a=i[7])&&n.push(new t0(a,f,h,p,u,c,d))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this},t7.x=function(e){return arguments.length?(this._x=e,this):this._x},t7.y=function(e){return arguments.length?(this._y=e,this):this._y},t7.z=function(e){return arguments.length?(this._z=e,this):this._z};var nt=n(7447);function nn(e){return null==e?null:function(e){if("function"!=typeof e)throw Error();return e}(e)}function nr(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function ni(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=no)):void 0===t&&(t=na);for(var n,r,i,a,o,s=new nu(e),l=[s];n=l.pop();)if((i=t(n.data))&&(o=(i=Array.from(i)).length))for(n.children=i,a=o-1;a>=0;--a)l.push(r=i[a]=new nu(i[a])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(nl)}function na(e){return e.children}function no(e){return Array.isArray(e)?e[1]:null}function ns(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function nl(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function nu(e){this.data=e,this.depth=this.height=0,this.parent=null}nu.prototype=ni.prototype={constructor:nu,count:function(){return this.eachAfter(nr)},each:function(e,t){let n=-1;for(let r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,i,a=this,o=[a],s=[],l=-1;a=o.pop();)if(s.push(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r]);for(;a=s.pop();)e.call(t,a,++l,this);return this},eachBefore:function(e,t){for(var n,r,i=this,a=[i],o=-1;i=a.pop();)if(e.call(t,i,++o,this),n=i.children)for(r=n.length-1;r>=0;--r)a.push(n[r]);return this},find:function(e,t){let n=-1;for(let r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)r.push(t=t.parent);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},copy:function(){return ni(this).eachBefore(ns)},[Symbol.iterator]:function*(){var e,t,n,r,i=this,a=[i];do for(e=a.reverse(),a=[];i=e.pop();)if(yield i,t=i.children)for(n=0,r=t.length;n<r;++n)a.push(t[n]);while(a.length)}};var nc={depth:-1},nd={},nf={};function nh(e){return e.id}function np(e){return e.parentId}function nm(e){let t=e.length;if(t<2)return"";for(;--t>1&&!nv(e,t););return e.slice(0,t)}function nv(e,t){if("/"===e[t]){let n=0;for(;t>0&&"\\"===e[--t];)++n;if((1&n)==0)return!0}return!1}function ng(e,t){return e.parent===t.parent?1:2}function ny(e){var t=e.children;return t?t[0]:e.t}function n_(e){var t=e.children;return t?t[t.length-1]:e.t}function nb(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}nb.prototype=Object.create(nu.prototype);var nx=n(7078),nw=n(8216);let nS=Math.sqrt(50),nE=Math.sqrt(10),nT=Math.sqrt(2);function nk(e,t,n){let r,i,a;let o=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(o)),l=o/Math.pow(10,s),u=l>=nS?10:l>=nE?5:l>=nT?2:1;return(s<0?(r=Math.round(e*(a=Math.pow(10,-s)/u)),i=Math.round(t*a),r/a<e&&++r,i/a>t&&--i,a=-a):(r=Math.round(e/(a=Math.pow(10,s)*u)),i=Math.round(t/a),r*a<e&&++r,i*a>t&&--i),i<r&&.5<=n&&n<2)?nk(e,t,2*n):[r,i,a]}function nC(e,t,n){return nk(e=+e,t=+t,n=+n)[2]}function nO(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nM(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nP(e){let t,n,r;function i(e,r,i=0,a=e.length){if(i<a){if(0!==t(r,r))return a;do{let t=i+a>>>1;0>n(e[t],r)?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=nO,n=(t,n)=>nO(e(t),n),r=(t,n)=>e(t)-n):(t=e===nO||e===nM?e:nU,n=e,r=e),{left:i,center:function(e,t,n=0,a=e.length){let o=i(e,t,n,a-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r,i=0,a=e.length){if(i<a){if(0!==t(r,r))return a;do{let t=i+a>>>1;0>=n(e[t],r)?i=t+1:a=t}while(i<a)}return i}}}function nU(){return 0}let nI=nP(nO),nA=nI.right;function nz(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function nD(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function nN(){}nI.left,nP(function(e){return null===e?NaN:+e}).center;var nL="\\s*([+-]?\\d+)\\s*",nF="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nR="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nj=/^#([0-9a-f]{3,8})$/,nB=RegExp(`^rgb\\(${nL},${nL},${nL}\\)$`),nV=RegExp(`^rgb\\(${nR},${nR},${nR}\\)$`),nG=RegExp(`^rgba\\(${nL},${nL},${nL},${nF}\\)$`),nH=RegExp(`^rgba\\(${nR},${nR},${nR},${nF}\\)$`),nW=RegExp(`^hsl\\(${nF},${nR},${nR}\\)$`),n$=RegExp(`^hsla\\(${nF},${nR},${nR},${nF}\\)$`),nq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function nY(){return this.rgb().formatHex()}function nX(){return this.rgb().formatRgb()}function nQ(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nj.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?nK(t):3===n?new n0(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?nZ(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?nZ(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=nB.exec(e))?new n0(t[1],t[2],t[3],1):(t=nV.exec(e))?new n0(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=nG.exec(e))?nZ(t[1],t[2],t[3],t[4]):(t=nH.exec(e))?nZ(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=nW.exec(e))?n6(t[1],t[2]/100,t[3]/100,1):(t=n$.exec(e))?n6(t[1],t[2]/100,t[3]/100,t[4]):nq.hasOwnProperty(e)?nK(nq[e]):"transparent"===e?new n0(NaN,NaN,NaN,0):null}function nK(e){return new n0(e>>16&255,e>>8&255,255&e,1)}function nZ(e,t,n,r){return r<=0&&(e=t=n=NaN),new n0(e,t,n,r)}function nJ(e,t,n,r){var i;return 1==arguments.length?((i=e)instanceof nN||(i=nQ(i)),i)?(i=i.rgb(),new n0(i.r,i.g,i.b,i.opacity)):new n0:new n0(e,t,n,null==r?1:r)}function n0(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function n1(){return`#${n4(this.r)}${n4(this.g)}${n4(this.b)}`}function n2(){let e=n3(this.opacity);return`${1===e?"rgb(":"rgba("}${n5(this.r)}, ${n5(this.g)}, ${n5(this.b)}${1===e?")":`, ${e})`}`}function n3(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function n5(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function n4(e){return((e=n5(e))<16?"0":"")+e.toString(16)}function n6(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new n8(e,t,n,r)}function n7(e){if(e instanceof n8)return new n8(e.h,e.s,e.l,e.opacity);if(e instanceof nN||(e=nQ(e)),!e)return new n8;if(e instanceof n8)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(n-r)/s+(n<r)*6:n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new n8(o,s,l,e.opacity)}function n8(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function n9(e){return(e=(e||0)%360)<0?e+360:e}function re(e){return Math.max(0,Math.min(1,e||0))}function rt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function rn(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}nz(nN,nQ,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nY,formatHex:nY,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return n7(this).formatHsl()},formatRgb:nX,toString:nX}),nz(n0,nJ,nD(nN,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new n0(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new n0(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new n0(n5(this.r),n5(this.g),n5(this.b),n3(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:n1,formatHex:n1,formatHex8:function(){return`#${n4(this.r)}${n4(this.g)}${n4(this.b)}${n4((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:n2,toString:n2})),nz(n8,function(e,t,n,r){return 1==arguments.length?n7(e):new n8(e,t,n,null==r?1:r)},nD(nN,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new n8(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new n8(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new n0(rt(e>=240?e-240:e+120,i,r),rt(e,i,r),rt(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new n8(n9(this.h),re(this.s),re(this.l),n3(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=n3(this.opacity);return`${1===e?"hsl(":"hsla("}${n9(this.h)}, ${100*re(this.s)}%, ${100*re(this.l)}%${1===e?")":`, ${e})`}`}}));var rr=e=>()=>e;function ri(e,t){var n=t-e;return n?function(t){return e+t*n}:rr(isNaN(e)?t:e)}var ra=function e(t){var n,r=1==(n=+(n=t))?ri:function(e,t){var r,i,a;return t-e?(r=e,i=t,r=Math.pow(r,a=n),i=Math.pow(i,a)-r,a=1/a,function(e){return Math.pow(r+e*i,a)}):rr(isNaN(e)?t:e)};function i(e,t){var n=r((e=nJ(e)).r,(t=nJ(t)).r),i=r(e.g,t.g),a=r(e.b,t.b),o=ri(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return i.gamma=e,i}(1);function ro(e){return function(t){var n,r,i=t.length,a=Array(i),o=Array(i),s=Array(i);for(n=0;n<i;++n)r=nJ(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}function rs(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=Array(i),o=Array(r);for(n=0;n<i;++n)a[n]=rm(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function rl(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ru(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function rc(e,t){var n,r={},i={};for(n in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)n in e?r[n]=rm(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}ro(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return rn((n-r/t)*t,o,i,a,s)}}),ro(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return rn((n-r/t)*t,i,a,o,s)}});var rd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rf=RegExp(rd.source,"g");function rh(e,t){var n,r,i,a,o,s=rd.lastIndex=rf.lastIndex=0,l=-1,u=[],c=[];for(e+="",t+="";(i=rd.exec(e))&&(a=rf.exec(t));)(o=a.index)>s&&(o=t.slice(s,o),u[l]?u[l]+=o:u[++l]=o),(i=i[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,c.push({i:l,x:ru(i,a)})),s=rf.lastIndex;return s<t.length&&(o=t.slice(s),u[l]?u[l]+=o:u[++l]=o),u.length<2?c[0]?(n=c[0].x,function(e){return n(e)+""}):(r=t,function(){return r}):(t=c.length,function(e){for(var n,r=0;r<t;++r)u[(n=c[r]).i]=n.x(e);return u.join("")})}function rp(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function rm(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?rr(t):("number"===i?ru:"string"===i?(r=nQ(t))?(t=r,ra):rh:t instanceof nQ?ra:t instanceof Date?rl:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView)?Array.isArray(t)?rs:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?rc:ru:rp)(e,t)}function rv(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function rg(e){return+e}var ry=[0,1];function r_(e){return e}function rb(e,t){var n;return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n})}function rx(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=rb(i,r),a=n(o,a)):(r=rb(r,i),a=n(a,o)),function(e){return a(r(e))}}function rw(e,t,n){var r=Math.min(e.length,t.length)-1,i=Array(r),a=Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=rb(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=nA(e,t,1,r)-1;return a[n](i[n](t))}}function rS(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var rE=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rT(e){var t;if(!(t=rE.exec(e)))throw Error("invalid format: "+e);return new rk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function rk(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function rC(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function rO(e){return(e=rC(Math.abs(e)))?e[1]:NaN}function rM(e,t){var n=rC(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+Array(i-r.length+2).join("0")}rT.prototype=rk.prototype,rk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var rP={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>rM(100*e,t),r:rM,s:function(e,t){var n=rC(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Q=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+Array(1-a).join("0")+rC(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rU(e){return e}var rI=Array.prototype.map,rA=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];Z=(K=function(e){var t,n,r,i=void 0===e.grouping||void 0===e.thousands?rU:(t=rI.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?rU:(r=rI.call(e.numerals,String),function(e){return e.replace(/[0-9]/g,function(e){return r[+e]})}),u=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=rT(e)).fill,n=e.align,r=e.sign,f=e.symbol,h=e.zero,p=e.width,m=e.comma,v=e.precision,g=e.trim,y=e.type;"n"===y?(m=!0,y="g"):rP[y]||(void 0===v&&(v=12),g=!0,y="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var _="$"===f?a:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===f?o:/[%p]/.test(y)?u:"",x=rP[y],w=/[defgprs%]/.test(y);function S(e){var a,o,u,f=_,S=b;if("c"===y)S=x(e)+S,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:x(Math.abs(e),v),g&&(e=function(e){t:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break t;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0==+e&&"+"!==r&&(E=!1),f=(E?"("===r?r:c:"-"===r||"("===r?"":r)+f,S=("s"===y?rA[8+Q/3]:"")+S+(E&&"("===r?")":""),w){for(a=-1,o=e.length;++a<o;)if(48>(u=e.charCodeAt(a))||u>57){S=(46===u?s+e.slice(a+1):e.slice(a))+S,e=e.slice(0,a);break}}}m&&!h&&(e=i(e,1/0));var T=f.length+e.length+S.length,k=T<p?Array(p-T+1).join(t):"";switch(m&&h&&(e=i(k+e,k.length?p-S.length:1/0),k=""),n){case"<":e=f+e+S+k;break;case"=":e=f+k+e+S;break;case"^":e=k.slice(0,T=k.length>>1)+f+e+S+k.slice(T);break;default:e=k+f+e+S}return l(e)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),S.toString=function(){return e+""},S}return{format:f,formatPrefix:function(e,t){var n=f(((e=rT(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(rO(t)/3))),i=Math.pow(10,-r),a=rA[8+r/3];return function(e){return n(i*e)+a}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,J=K.formatPrefix;let rz=e=>{let t;let n=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(i!==t){let e=t;t=r?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,a={setState:r,getState:i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,a),a},rD=e=>e?rz(e):rz;var rN=n(2798);let{useSyncExternalStoreWithSelector:rL}=rN;function rF(e,t=e.getState,n){let r=rL(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return(0,ei.useDebugValue)(r),r}let rR=e=>{let t="function"==typeof e?rD(e):e,n=(e,n)=>rF(t,e,n);return Object.assign(n,t),n};var rj=e=>e?rR(e):rR,rB=n(4736);let rV=ei.forwardRef(function({follow:e=!0,lockX:t=!1,lockY:n=!1,lockZ:r=!1,...i},a){var o;let s=ei.useRef();return eZ(({camera:i})=>{if(!e||!s.current)return;let a=s.current.rotation.clone();s.current.quaternion.copy(i.quaternion),t&&(s.current.rotation.x=a.x),n&&(s.current.rotation.y=a.y),r&&(s.current.rotation.z=a.z)}),ei.createElement("group",te({ref:(o=[s,a],function(e){o.forEach(function(t){"function"==typeof t?t(e):null!=t&&(t.current=e)})})},i))});function rG(){var e,t=0,n=[],r=0,i=0,a=f(function(e){i||s(1,e)}),o=f(function(e){i||s(-1,e)});function s(n,r){i++;var a=0;try{r===m&&h();var o=n>0&&d(r);o?o.call(r,f(function(e){a++,s(1,e)}),f(function(e){a++,s(-1,e)})):(t=n,e=r,l())}catch(e){t||a||s(-1,e)}}function l(){r||(setTimeout(u,0),r=1)}function u(){var e=n;r=0,n=[],e.forEach(c)}function c(e){e()}function d(e){var t=e&&(p(e)||"object"==typeof e)&&e.then;return p(t)&&t}function f(e){var t=0;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];t++||e.apply(this,n)}}function h(){throw TypeError("Chaining cycle detected")}var p=function(e){return"function"==typeof e},m={then:function(r,i){var a=rG();return n.push(function(){var n=t>0?r:i;if(p(n))try{var o=n(e);o===a&&h();var s=d(o);s?s.call(o,a.resolve,a.reject):a.resolve(o)}catch(e){a.reject(e)}else a[t>0?"resolve":"reject"](e)}),t&&l(),a},resolve:a,reject:o};return m}function rH(){var e,t,n=new Promise(function(n,r){e=n,t=r});return{then:n.then.bind(n),resolve:e,reject:t}}n(3454),rG.all=rH.all=function(e){var t=0,n=[],r=rW();return 0===e.length?r.resolve([]):e.forEach(function(i,a){var o=rW();o.resolve(i),o.then(function(i){t++,n[a]=i,t===e.length&&r.resolve(n)},r.reject)}),r};var rW="function"==typeof Promise?rH:rG;function r$(){var e=Object.create(null);function t(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var r=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(r)}catch(e){console.error(e)}return URL.revokeObjectURL(r),delete self.troikaDefine,n}self.addEventListener("message",function(n){var r=n.data,i=r.messageId,a=r.action,o=r.data;try{"registerModule"===a&&function n(r,i){var a=r.id,o=r.name,s=r.dependencies;void 0===s&&(s=[]);var l=r.init;void 0===l&&(l=function(){});var u=r.getTransferables;if(void 0===u&&(u=null),!e[a])try{s=s.map(function(t){return t&&t.isWorkerModule&&(n(t,function(e){if(e instanceof Error)throw e}),t=e[t.id].value),t}),l=t("<"+o+">.init",l),u&&(u=t("<"+o+">.getTransferables",u));var c=null;"function"==typeof l?c=l.apply(void 0,s):console.error("worker module init function failed to rehydrate"),e[a]={id:a,value:c,getTransferables:u},i(c)}catch(e){e&&e.noLog||console.error(e),i(e)}}(o,function(e){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:{isCallable:"function"==typeof e}})}),"callModule"===a&&function(t,n){var r,i=t.id,a=t.args;e[i]&&"function"==typeof e[i].value||n(Error("Worker module "+i+": not found or its 'init' did not return a function"));try{var o=(r=e[i]).value.apply(r,a);o&&"function"==typeof o.then?o.then(s,function(e){return n(e instanceof Error?e:Error(""+e))}):s(o)}catch(e){n(e)}function s(t){try{var r=e[i].getTransferables&&e[i].getTransferables(t);r&&Array.isArray(r)&&r.length||(r=void 0),n(t,r)}catch(e){console.error(e),n(e)}}}(o,function(e,t){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:e},t||void 0)})}catch(e){postMessage({messageId:i,success:!1,error:e.stack})}})}var rq=function(){var e=!1;if("undefined"!=typeof window&&void 0!==window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(e){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+e.message+"]")}return rq=function(){return e},e},rY=0,rX=0,rQ=!1,rK=Object.create(null),rZ=Object.create(null),rJ=Object.create(null);function r0(e){if((!e||"function"!=typeof e.init)&&!rQ)throw Error("requires `options.init` function");var t,n=e.dependencies,r=e.init,i=e.getTransferables,a=e.workerId;if(!rq())return(t=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return t._getInitResult().then(function(t){if("function"==typeof t)return t.apply(void 0,e);throw Error("Worker module function was called but `init` did not return a callable function")})})._getInitResult=function(){var n=e.dependencies,r=e.init;n=Array.isArray(n)?n.map(function(e){return e&&e._getInitResult?e._getInitResult():e}):[];var i=rW.all(n).then(function(e){return r.apply(null,e)});return t._getInitResult=function(){return i},i},t;null==a&&(a="#default");var o="workerModule"+ ++rY,s=e.name||o,l=null;function u(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!l){l=r2(a,"registerModule",u.workerModuleData);var n=function(){l=null,rZ[a].delete(n)};(rZ[a]||(rZ[a]=new Set)).add(n)}return l.then(function(t){if(t.isCallable)return r2(a,"callModule",{id:o,args:e});throw Error("Worker module function was called but `init` did not return a callable function")})}return n=n&&n.map(function(e){return"function"!=typeof e||e.workerModuleData||(rQ=!0,e=r0({workerId:a,name:"<"+s+"> function dependency: "+e.name,init:"function(){return (\n"+r1(e)+"\n)}"}),rQ=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e}),u.workerModuleData={isWorkerModule:!0,id:o,name:s,dependencies:n,init:r1(r),getTransferables:i&&r1(i)},u}function r1(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function r2(e,t,n){var r=rW(),i=++rX;return rJ[i]=function(e){e.success?r.resolve(e.result):r.reject(Error("Error in worker "+t+" call: "+e.error))},(function(e){var t=rK[e];if(!t){var n=r1(r$);(t=rK[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+n+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,n=t.messageId,r=rJ[n];if(!r)throw Error("WorkerModule response with empty or unknown messageId");delete rJ[n],r(t)}}return t})(e).postMessage({messageId:i,action:t,data:n}),r}var r3=r0({name:"Thenable",dependencies:[rW],init:function(e){return e}});function r5(){return function(e){function t(e,t){for(var n,r,i,a,o,s=/([MLQCZ])([^MLQCZ]*)/g;n=s.exec(e);){var l=n[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(e){return parseFloat(e)});switch(n[1]){case"M":a=r=l[0],o=i=l[1];break;case"L":(l[0]!==a||l[1]!==o)&&t("L",a,o,a=l[0],o=l[1]);break;case"Q":t("Q",a,o,a=l[2],o=l[3],l[0],l[1]);break;case"C":t("C",a,o,a=l[4],o=l[5],l[0],l[1],l[2],l[3]);break;case"Z":(a!==r||o!==i)&&t("L",a,o,r,i)}}}function n(e,n,r){void 0===r&&(r=16);var i={x:0,y:0};t(e,function(e,t,a,o,s,l,u,c,d){switch(e){case"L":n(t,a,o,s);break;case"Q":for(var f=t,h=a,p=1;p<r;p++)!function(e,t,n,r,i,a,o,s){var l=1-o;s.x=l*l*e+2*l*o*n+o*o*i,s.y=l*l*t+2*l*o*r+o*o*a}(t,a,l,u,o,s,p/(r-1),i),n(f,h,i.x,i.y),f=i.x,h=i.y;break;case"C":for(var m=t,v=a,g=1;g<r;g++)!function(e,t,n,r,i,a,o,s,l,u){var c=1-l;u.x=c*c*c*e+3*c*c*l*n+3*c*l*l*i+l*l*l*o,u.y=c*c*c*t+3*c*c*l*r+3*c*l*l*a+l*l*l*s}(t,a,l,u,c,d,o,s,g/(r-1),i),n(m,v,i.x,i.y),m=i.x,v=i.y}})}var r="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",i=new WeakMap,a={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function o(e,t){var n=e.getContext?e.getContext("webgl",a):e,r=i.get(n);if(!r){var o="undefined"!=typeof WebGL2RenderingContext&&n instanceof WebGL2RenderingContext,s={},l={},u={},c=-1,d=[];function f(e){var t=s[e];if(!t&&!(t=s[e]=n.getExtension(e)))throw Error(e+" not supported");return t}function h(e,t){var r=n.createShader(t);return n.shaderSource(r,e),n.compileShader(r),r}function p(){s={},l={},u={},c=-1,d.length=0}n.canvas.addEventListener("webglcontextlost",function(e){p(),e.preventDefault()},!1),i.set(n,r={gl:n,isWebGL2:o,getExtension:f,withProgram:function(e,t,r,i){if(!l[e]){var a={},s={},u=n.createProgram();n.attachShader(u,h(t,n.VERTEX_SHADER)),n.attachShader(u,h(r,n.FRAGMENT_SHADER)),n.linkProgram(u),l[e]={program:u,transaction:function(e){n.useProgram(u),e({setUniform:function(e,t){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];var a=s[t]||(s[t]=n.getUniformLocation(u,t));n["uniform"+e].apply(n,[a].concat(r))},setAttribute:function(e,t,r,i,s){var l=a[e];l||(l=a[e]={buf:n.createBuffer(),loc:n.getAttribLocation(u,e),data:null}),n.bindBuffer(n.ARRAY_BUFFER,l.buf),n.vertexAttribPointer(l.loc,t,n.FLOAT,!1,0,0),n.enableVertexAttribArray(l.loc),o?n.vertexAttribDivisor(l.loc,i):f("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(l.loc,i),s!==l.data&&(n.bufferData(n.ARRAY_BUFFER,s,r),l.data=s)}})}}}l[e].transaction(i)},withTexture:function(e,t){c++;try{n.activeTexture(n.TEXTURE0+c);var r=u[e];r||(r=u[e]=n.createTexture(),n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST)),n.bindTexture(n.TEXTURE_2D,r),t(r,c)}finally{c--}},withTextureFramebuffer:function(e,t,r){var i=n.createFramebuffer();d.push(i),n.bindFramebuffer(n.FRAMEBUFFER,i),n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,e),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);try{r(i)}finally{n.deleteFramebuffer(i),n.bindFramebuffer(n.FRAMEBUFFER,d[--d.length-1]||null)}},handleContextLoss:p})}t(r)}function s(e,t,n,i,a,s,l,u){void 0===l&&(l=15),void 0===u&&(u=null),o(e,function(e){var o=e.gl,c=e.withProgram;(0,e.withTexture)("copy",function(e,d){o.texImage2D(o.TEXTURE_2D,0,o.RGBA,a,s,0,o.RGBA,o.UNSIGNED_BYTE,t),c("copy",r,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",function(e){var t=e.setUniform;(0,e.setAttribute)("aUV",2,o.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),t("1i","image",d),o.bindFramebuffer(o.FRAMEBUFFER,u||null),o.disable(o.BLEND),o.colorMask(8&l,4&l,2&l,1&l),o.viewport(n,i,a,s),o.scissor(n,i,a,s),o.drawArrays(o.TRIANGLES,0,3)})})})}var l=Object.freeze({__proto__:null,withWebGLContext:o,renderImageData:s,resizeWebGLCanvasWithoutClearing:function(e,t,n){var r=e.width,i=e.height;o(e,function(a){var o=a.gl,l=new Uint8Array(r*i*4);o.readPixels(0,0,r,i,o.RGBA,o.UNSIGNED_BYTE,l),e.width=t,e.height=n,s(o,l,0,0,r,i)})}});function u(e,t,r,i,a,o){void 0===o&&(o=1);var s=new Uint8Array(e*t),l=i[2]-i[0],u=i[3]-i[1],c=[];n(r,function(e,t,n,r){c.push({x1:e,y1:t,x2:n,y2:r,minX:Math.min(e,n),minY:Math.min(t,r),maxX:Math.max(e,n),maxY:Math.max(t,r)})}),c.sort(function(e,t){return e.maxX-t.maxX});for(var d=0;d<e;d++)for(var f=0;f<t;f++){var h=function(e,t){for(var n=1/0,r=1/0,i=c.length;i--;){var a=c[i];if(a.maxX+r<=e)break;if(e+r>a.minX&&t-r<a.maxY&&t+r>a.minY){var o=function(e,t,n,r,i,a){var o=i-n,s=a-r,l=o*o+s*s,u=l?Math.max(0,Math.min(1,((e-n)*o+(t-r)*s)/l)):0,c=e-(n+u*o),d=t-(r+u*s);return c*c+d*d}(e,t,a.x1,a.y1,a.x2,a.y2);o<n&&(r=Math.sqrt(n=o))}}return function(e,t){for(var n=0,r=c.length;r--;){var i=c[r];if(i.maxX<=e)break;i.y1>t!=i.y2>t&&e<(i.x2-i.x1)*(t-i.y1)/(i.y2-i.y1)+i.x1&&(n+=i.y1<i.y2?1:-1)}return 0!==n}(e,t)&&(r=-r),r}(i[0]+l*(d+.5)/e,i[1]+u*(f+.5)/t),p=Math.pow(1-Math.abs(h)/a,o)/2;h<0&&(p=1-p),p=Math.max(0,Math.min(255,Math.round(255*p))),s[f*e+d]=p}return s}function c(e,t,n,r,i,a,o,s,l,u){void 0===a&&(a=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0),d(e,t,n,r,i,a,o,null,s,l,u)}function d(e,t,n,r,i,a,o,l,c,d,f){void 0===a&&(a=1),void 0===c&&(c=0),void 0===d&&(d=0),void 0===f&&(f=0);for(var h=u(e,t,n,r,i,a),p=new Uint8Array(4*h.length),m=0;m<h.length;m++)p[4*m+f]=h[m];s(o,p,c,d,e,t,1<<3-f,l)}var f=Object.freeze({__proto__:null,generate:u,generateIntoCanvas:c,generateIntoFramebuffer:d}),h=new Float32Array([0,0,2,0,0,2]),p=null,m=!1,v={},g=new WeakMap;function y(e){if(!m&&!w(e))throw Error("WebGL generation not supported")}function _(e,t,n,r,i,a,s){if(void 0===a&&(a=1),void 0===s&&(s=null),!s&&!(s=p)){var l="function"==typeof OffscreenCanvas?new OffscreenCanvas(1,1):"undefined"!=typeof document?document.createElement("canvas"):null;if(!l)throw Error("OffscreenCanvas or DOM canvas not supported");s=p=l.getContext("webgl",{depth:!1})}y(s);var u=new Uint8Array(e*t*4);o(s,function(o){var s=o.gl,l=o.withTexture,c=o.withTextureFramebuffer;l("readable",function(o,l){s.texImage2D(s.TEXTURE_2D,0,s.RGBA,e,t,0,s.RGBA,s.UNSIGNED_BYTE,null),c(o,l,function(o){x(e,t,n,r,i,a,s,o,0,0,0),s.readPixels(0,0,e,t,s.RGBA,s.UNSIGNED_BYTE,u)})})});for(var c=new Uint8Array(e*t),d=0,f=0;d<u.length;d+=4)c[f++]=u[d];return c}function b(e,t,n,r,i,a,o,s,l,u){void 0===a&&(a=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0),x(e,t,n,r,i,a,o,null,s,l,u)}function x(e,t,i,a,s,l,u,c,d,f,p){void 0===l&&(l=1),void 0===d&&(d=0),void 0===f&&(f=0),void 0===p&&(p=0),y(u);var m=[];n(i,function(e,t,n,r){m.push(e,t,n,r)}),m=new Float32Array(m),o(u,function(n){var i=n.gl,o=n.isWebGL2,u=n.getExtension,v=n.withProgram,g=n.withTexture,y=n.withTextureFramebuffer,_=n.handleContextLoss;if(g("rawDistances",function(n,g){(e!==n._lastWidth||t!==n._lastHeight)&&i.texImage2D(i.TEXTURE_2D,0,i.RGBA,n._lastWidth=e,n._lastHeight=t,0,i.RGBA,i.UNSIGNED_BYTE,null),v("main","precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}","precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",function(r){var c=r.setAttribute,d=r.setUniform,f=!o&&u("ANGLE_instanced_arrays"),p=!o&&u("EXT_blend_minmax");c("aUV",2,i.STATIC_DRAW,0,h),c("aLineSegment",4,i.DYNAMIC_DRAW,1,m),d.apply(void 0,["4f","uGlyphBounds"].concat(a)),d("1f","uMaxDistance",s),d("1f","uExponent",l),y(n,g,function(n){i.enable(i.BLEND),i.colorMask(!0,!0,!0,!0),i.viewport(0,0,e,t),i.scissor(0,0,e,t),i.blendFunc(i.ONE,i.ONE),i.blendEquationSeparate(i.FUNC_ADD,o?i.MAX:p.MAX_EXT),i.clear(i.COLOR_BUFFER_BIT),o?i.drawArraysInstanced(i.TRIANGLES,0,3,m.length/4):f.drawArraysInstancedANGLE(i.TRIANGLES,0,3,m.length/4)})}),v("post",r,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",function(n){n.setAttribute("aUV",2,i.STATIC_DRAW,0,h),n.setUniform("1i","tex",g),i.bindFramebuffer(i.FRAMEBUFFER,c),i.disable(i.BLEND),i.colorMask(0===p,1===p,2===p,3===p),i.viewport(d,f,e,t),i.scissor(d,f,e,t),i.drawArrays(i.TRIANGLES,0,3)})}),i.isContextLost())throw _(),Error("webgl context lost")})}function w(e){var t=e&&e!==p?e.canvas||e:v,n=g.get(t);if(void 0===n){m=!0;var r=null;try{var i=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],a=_(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,e);(n=a&&i.length===a.length&&a.every(function(e,t){return e===i[t]}))||(r="bad trial run results",console.info(i,a))}catch(e){n=!1,r=e.message}r&&console.warn("WebGL SDF generation not supported:",r),m=!1,g.set(t,n)}return n}var S=Object.freeze({__proto__:null,generate:_,generateIntoCanvas:b,generateIntoFramebuffer:x,isSupported:w});return e.forEachPathCommand=t,e.generate=function(e,t,n,r,i,a){void 0===i&&(i=Math.max(r[2]-r[0],r[3]-r[1])/2),void 0===a&&(a=1);try{return _.apply(S,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),u.apply(f,arguments)}},e.generateIntoCanvas=function(e,t,n,r,i,a,o,s,l,u){void 0===i&&(i=Math.max(r[2]-r[0],r[3]-r[1])/2),void 0===a&&(a=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===u&&(u=0);try{return b.apply(S,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),c.apply(f,arguments)}},e.javascript=f,e.pathToLineSegments=n,e.webgl=S,e.webglUtils=l,Object.defineProperty(e,"__esModule",{value:!0}),e}({})}let r4=/\bvoid\s+main\s*\(\s*\)\s*{/g;function r6(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,function(e,t){let n=ea.ShaderChunk[t];return n?r6(n):e})}let r7=[];for(let e=0;e<256;e++)r7[e]=(e<16?"0":"")+e.toString(16);let r8=Object.assign||function(){let e=arguments[0];for(let t=1,n=arguments.length;t<n;t++){let n=arguments[t];if(n)for(let t in n)n.hasOwnProperty(t)&&(e[t]=n[t])}return e},r9=Date.now(),ie=new WeakMap,it=new Map,ir=1e10;function ii(e,t,n,r,i){return(r||i||n)&&(e=e.replace(r4,`
${n}
void troikaOrigMain${t}() {`)+`
void main() {
  ${r}
  troikaOrigMain${t}();
  ${i}
}`),e}function ia(e,t){return"uniforms"===e?void 0:"function"==typeof t?t.toString():t}let io=0,is=new Map;ea.DoubleSide;let il=()=>(self.performance||Date).now(),iu=r5(),ic=function(){let e=[],t=0;function n(){let r=il();for(;e.length&&il()-r<5;)e.shift()();t=e.length?setTimeout(n,0):0}return(...r)=>{let i=rW();return e.push(()=>{let e=il();try{iu.webgl.generateIntoCanvas(...r),i.resolve({timing:il()-e})}catch(e){i.reject(e)}}),t||(t=setTimeout(n,0)),i}}(),id=function(){let e={},t=0;return function(n,r,i,a,o,s,l,u,c,d){let f="TroikaTextSDFGenerator_JS_"+t++%4,h=e[f];return h||(h=e[f]={workerModule:r0({name:f,workerId:f,dependencies:[r5,il],init(e,t){let n=e().javascript.generate;return function(...e){let r=t(),i=n(...e);return{textureData:i,timing:t()-r}}},getTransferables:e=>[e.textureData.buffer]}),requests:0,idleTimer:null}),h.requests++,clearTimeout(h.idleTimer),h.workerModule(n,r,i,a,o,s).then(({textureData:e,timing:t})=>{let i=il(),a=new Uint8Array(4*e.length);for(let t=0;t<e.length;t++)a[4*t+d]=e[t];return iu.webglUtils.renderImageData(l,a,u,c,n,r,1<<3-d),t+=il()-i,0==--h.requests&&(h.idleTimer=setTimeout(()=>{rZ[f]&&rZ[f].forEach(function(e){e()}),rK[f]&&(rK[f].terminate(),delete rK[f])},2e3)),{timing:t}})}}(),ih=iu.webglUtils.resizeWebGLCanvasWithoutClearing,ip=r0({name:"Typr Font Parser",dependencies:[/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function(){var e,t,n;return"undefined"==typeof window&&(self.window=self),(e={},(t={parse:function(e){var n=t._bin,r=new Uint8Array(e);if("ttcf"==n.readASCII(r,0,4)){var i=4;n.readUshort(r,i),i+=2,n.readUshort(r,i),i+=2;var a=n.readUint(r,i);i+=4;for(var o=[],s=0;s<a;s++){var l=n.readUint(r,i);i+=4,o.push(t._readFont(r,l))}return o}return[t._readFont(r,0)]},_readFont:function(e,n){var r=t._bin,i=n;r.readFixed(e,n),n+=4;var a=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2;for(var o=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],s={_data:e,_offset:i},l={},u=0;u<a;u++){var c=r.readASCII(e,n,4);n+=4,r.readUint(e,n),n+=4;var d=r.readUint(e,n);n+=4;var f=r.readUint(e,n);n+=4,l[c]={offset:d,length:f}}for(u=0;u<o.length;u++){var h=o[u];l[h]&&(s[h.trim()]=t[h.trim()].parse(e,l[h].offset,l[h].length,s))}return s},_tabOffset:function(e,n,r){for(var i=t._bin,a=i.readUshort(e,r+4),o=r+12,s=0;s<a;s++){var l=i.readASCII(e,o,4);o+=4,i.readUint(e,o),o+=4;var u=i.readUint(e,o);if(o+=4,i.readUint(e,o),o+=4,l==n)return u}return 0}})._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,n){return t._bin.readShort(e,n)/16384},readInt:function(e,n){return t._bin._view(e).getInt32(n)},readInt8:function(e,n){return t._bin._view(e).getInt8(n)},readShort:function(e,n){return t._bin._view(e).getInt16(n)},readUshort:function(e,n){return t._bin._view(e).getUint16(n)},readUshorts:function(e,n,r){for(var i=[],a=0;a<r;a++)i.push(t._bin.readUshort(e,n+2*a));return i},readUint:function(e,n){return t._bin._view(e).getUint32(n)},readUint64:function(e,n){return 4294967296*t._bin.readUint(e,n)+t._bin.readUint(e,n+4)},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},readUnicode:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t++]<<8|e[t++]);return r},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(e,n,r){var i=t._bin._tdec;return i&&0==n&&r==e.length?i.decode(e):t._bin.readASCII(e,n,r)},readBytes:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(e[t+i]);return r},readASCIIArray:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(String.fromCharCode(e[t+i]));return r},_view:function(e){return e._dataView||(e._dataView=e.buffer?new DataView(e.buffer,e.byteOffset,e.byteLength):new DataView(new Uint8Array(e).buffer))}},t._lctf={},t._lctf.parse=function(e,n,r,i,a){var o=t._bin,s={},l=n;o.readFixed(e,n),n+=4;var u=o.readUshort(e,n);n+=2;var c=o.readUshort(e,n);n+=2;var d=o.readUshort(e,n);return n+=2,s.scriptList=t._lctf.readScriptList(e,l+u),s.featureList=t._lctf.readFeatureList(e,l+c),s.lookupList=t._lctf.readLookupList(e,l+d,a),s},t._lctf.readLookupList=function(e,n,r){var i=t._bin,a=n,o=[],s=i.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=i.readUshort(e,n);n+=2;var c=t._lctf.readLookupTable(e,a+u,r);o.push(c)}return o},t._lctf.readLookupTable=function(e,n,r){var i=t._bin,a=n,o={tabs:[]};o.ltype=i.readUshort(e,n),n+=2,o.flag=i.readUshort(e,n),n+=2;var s=i.readUshort(e,n);n+=2;for(var l=o.ltype,u=0;u<s;u++){var c=i.readUshort(e,n);n+=2;var d=r(e,l,a+c,o);o.tabs.push(d)}return o},t._lctf.numOfOnes=function(e){for(var t=0,n=0;n<32;n++)0!=(e>>>n&1)&&t++;return t},t._lctf.readClassDef=function(e,n){var r=t._bin,i=[],a=r.readUshort(e,n);if(n+=2,1==a){var o=r.readUshort(e,n);n+=2;var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++)i.push(o+l),i.push(o+l),i.push(r.readUshort(e,n)),n+=2}if(2==a){var u=r.readUshort(e,n);for(n+=2,l=0;l<u;l++)i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2}return i},t._lctf.getInterval=function(e,t){for(var n=0;n<e.length;n+=3){var r=e[n],i=e[n+1];if(e[n+2],r<=t&&t<=i)return n}return -1},t._lctf.readCoverage=function(e,n){var r=t._bin,i={};i.fmt=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);return n+=2,1==i.fmt&&(i.tab=r.readUshorts(e,n,a)),2==i.fmt&&(i.tab=r.readUshorts(e,n,3*a)),i},t._lctf.coverageIndex=function(e,n){var r=e.tab;if(1==e.fmt)return r.indexOf(n);if(2==e.fmt){var i=t._lctf.getInterval(r,n);if(-1!=i)return r[i+2]+(n-r[i])}return -1},t._lctf.readFeatureList=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2;var c=t._lctf.readFeatureTable(e,i+u);c.tag=l.trim(),a.push(c)}return a},t._lctf.readFeatureTable=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2,o>0&&(a.featureParams=i+o);var s=r.readUshort(e,n);n+=2,a.tab=[];for(var l=0;l<s;l++)a.tab.push(r.readUshort(e,n+2*l));return a},t._lctf.readScriptList=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2,a[l.trim()]=t._lctf.readScriptTable(e,i+u)}return a},t._lctf.readScriptTable=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2,a.default=t._lctf.readLangSysTable(e,i+o);var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=r.readASCII(e,n,4);n+=4;var c=r.readUshort(e,n);n+=2,a[u.trim()]=t._lctf.readLangSysTable(e,i+c)}return a},t._lctf.readLangSysTable=function(e,n){var r=t._bin,i={};r.readUshort(e,n),n+=2,i.reqFeature=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);return n+=2,i.features=r.readUshorts(e,n,a),i},t.CFF={},t.CFF.parse=function(e,n,r){var i=t._bin;(e=new Uint8Array(e.buffer,n,r))[n=0],e[++n],e[++n],e[++n],n++;var a=[];n=t.CFF.readIndex(e,n,a);for(var o=[],s=0;s<a.length-1;s++)o.push(i.readASCII(e,n+a[s],a[s+1]-a[s]));n+=a[a.length-1];var l=[];n=t.CFF.readIndex(e,n,l);var u=[];for(s=0;s<l.length-1;s++)u.push(t.CFF.readDict(e,n+l[s],n+l[s+1]));n+=l[l.length-1];var c=u[0],d=[];n=t.CFF.readIndex(e,n,d);var f=[];for(s=0;s<d.length-1;s++)f.push(i.readASCII(e,n+d[s],d[s+1]-d[s]));if(n+=d[d.length-1],t.CFF.readSubrs(e,n,c),c.CharStrings){n=c.CharStrings,d=[],n=t.CFF.readIndex(e,n,d);var h=[];for(s=0;s<d.length-1;s++)h.push(i.readBytes(e,n+d[s],d[s+1]-d[s]));c.CharStrings=h}if(c.ROS){n=c.FDArray;var p=[];for(n=t.CFF.readIndex(e,n,p),c.FDArray=[],s=0;s<p.length-1;s++){var m=t.CFF.readDict(e,n+p[s],n+p[s+1]);t.CFF._readFDict(e,m,f),c.FDArray.push(m)}n+=p[p.length-1],n=c.FDSelect,c.FDSelect=[];var v=e[n];if(n++,3!=v)throw v;var g=i.readUshort(e,n);for(n+=2,s=0;s<g+1;s++)c.FDSelect.push(i.readUshort(e,n),e[n+2]),n+=3}return c.Encoding&&(c.Encoding=t.CFF.readEncoding(e,c.Encoding,c.CharStrings.length)),c.charset&&(c.charset=t.CFF.readCharset(e,c.charset,c.CharStrings.length)),t.CFF._readFDict(e,c,f),c},t.CFF._readFDict=function(e,n,r){var i;for(var a in n.Private&&(i=n.Private[1],n.Private=t.CFF.readDict(e,i,i+n.Private[0]),n.Private.Subrs&&t.CFF.readSubrs(e,i+n.Private.Subrs,n.Private)),n)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(a)&&(n[a]=r[n[a]-426+35])},t.CFF.readSubrs=function(e,n,r){var i=t._bin,a=[];n=t.CFF.readIndex(e,n,a);var o=a.length;r.Bias=o<1240?107:o<33900?1131:32768,r.Subrs=[];for(var s=0;s<a.length-1;s++)r.Subrs.push(i.readBytes(e,n+a[s],a[s+1]-a[s]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var n=0;n<e.charset.length;n++)if(e.charset[n]==t)return n;return -1},t.CFF.glyphBySE=function(e,n){return n<0||n>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[n])},t.CFF.readEncoding=function(e,n,r){t._bin;var i=[".notdef"],a=e[n];if(n++,0!=a)throw"error: unknown encoding format: "+a;var o=e[n];n++;for(var s=0;s<o;s++)i.push(e[n+s]);return i},t.CFF.readCharset=function(e,n,r){var i=t._bin,a=[".notdef"],o=e[n];if(n++,0==o)for(var s=0;s<r;s++){var l=i.readUshort(e,n);n+=2,a.push(l)}else{if(1!=o&&2!=o)throw"error: format: "+o;for(;a.length<r;){l=i.readUshort(e,n),n+=2;var u=0;for(1==o?(u=e[n],n++):(u=i.readUshort(e,n),n+=2),s=0;s<=u;s++)a.push(l),l++}}return a},t.CFF.readIndex=function(e,n,r){var i=t._bin,a=i.readUshort(e,n)+1,o=e[n+=2];if(n++,1==o)for(var s=0;s<a;s++)r.push(e[n+s]);else if(2==o)for(s=0;s<a;s++)r.push(i.readUshort(e,n+2*s));else if(3==o)for(s=0;s<a;s++)r.push(16777215&i.readUint(e,n+3*s-1));else if(1!=a)throw"unsupported offset size: "+o+", count: "+a;return(n+=a*o)-1},t.CFF.getCharString=function(e,n,r){var i=t._bin,a=e[n],o=e[n+1];e[n+2],e[n+3],e[n+4];var s=1,l=null,u=null;a<=20&&(l=a,s=1),12==a&&(l=100*a+o,s=2),21<=a&&a<=27&&(l=a,s=1),28==a&&(u=i.readShort(e,n+1),s=3),29<=a&&a<=31&&(l=a,s=1),32<=a&&a<=246&&(u=a-139,s=1),247<=a&&a<=250&&(u=256*(a-247)+o+108,s=2),251<=a&&a<=254&&(u=-(256*(a-251))-o-108,s=2),255==a&&(u=i.readInt(e,n+1)/65535,s=5),r.val=null!=u?u:"o"+l,r.size=s},t.CFF.readCharString=function(e,n,r){for(var i=n+r,a=t._bin,o=[];n<i;){var s=e[n],l=e[n+1];e[n+2],e[n+3],e[n+4];var u=1,c=null,d=null;s<=20&&(c=s,u=1),12==s&&(c=100*s+l,u=2),19!=s&&20!=s||(c=s,u=2),21<=s&&s<=27&&(c=s,u=1),28==s&&(d=a.readShort(e,n+1),u=3),29<=s&&s<=31&&(c=s,u=1),32<=s&&s<=246&&(d=s-139,u=1),247<=s&&s<=250&&(d=256*(s-247)+l+108,u=2),251<=s&&s<=254&&(d=-(256*(s-251))-l-108,u=2),255==s&&(d=a.readInt(e,n+1)/65535,u=5),o.push(null!=d?d:"o"+c),n+=u}return o},t.CFF.readDict=function(e,n,r){for(var i=t._bin,a={},o=[];n<r;){var s=e[n],l=e[n+1];e[n+2],e[n+3],e[n+4];var u=1,c=null,d=null;if(28==s&&(d=i.readShort(e,n+1),u=3),29==s&&(d=i.readInt(e,n+1),u=5),32<=s&&s<=246&&(d=s-139,u=1),247<=s&&s<=250&&(d=256*(s-247)+l+108,u=2),251<=s&&s<=254&&(d=-(256*(s-251))-l-108,u=2),255==s)throw d=i.readInt(e,n+1)/65535,u=5,"unknown number";if(30==s){var f=[];for(u=1;;){var h=e[n+u];u++;var p=h>>4,m=15&h;if(15!=p&&f.push(p),15!=m&&f.push(m),15==m)break}for(var v="",g=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],y=0;y<f.length;y++)v+=g[f[y]];d=parseFloat(v)}s<=21&&(c=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],u=1,12==s&&(c=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][l],u=2)),null!=c?(a[c]=1==o.length?o[0]:o,o=[]):o.push(d),n+=u}return a},t.cmap={},t.cmap.parse=function(e,n,r){e=new Uint8Array(e.buffer,n,r),n=0;var i=t._bin,a={};i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2;var s=[];a.tables=[];for(var l=0;l<o;l++){var u=i.readUshort(e,n);n+=2;var c=i.readUshort(e,n);n+=2;var d=i.readUint(e,n);n+=4;var f="p"+u+"e"+c,h=s.indexOf(d);if(-1==h){h=a.tables.length,s.push(d);var p,m=i.readUshort(e,d);0==m?p=t.cmap.parse0(e,d):4==m?p=t.cmap.parse4(e,d):6==m?p=t.cmap.parse6(e,d):12==m?p=t.cmap.parse12(e,d):console.debug("unknown format: "+m,u,c,d),a.tables.push(p)}if(null!=a[f])throw"multiple tables for one platform+encoding";a[f]=h}return a},t.cmap.parse0=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,i.map=[];for(var o=0;o<a-6;o++)i.map.push(e[n+o]);return i},t.cmap.parse4=function(e,n){var r=t._bin,i=n,a={};a.format=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2;var s=r.readUshort(e,n);n+=2;var l=s/2;a.searchRange=r.readUshort(e,n),n+=2,a.entrySelector=r.readUshort(e,n),n+=2,a.rangeShift=r.readUshort(e,n),n+=2,a.endCount=r.readUshorts(e,n,l),n+=2*l+2,a.startCount=r.readUshorts(e,n,l),n+=2*l,a.idDelta=[];for(var u=0;u<l;u++)a.idDelta.push(r.readShort(e,n)),n+=2;for(a.idRangeOffset=r.readUshorts(e,n,l),n+=2*l,a.glyphIdArray=[];n<i+o;)a.glyphIdArray.push(r.readUshort(e,n)),n+=2;return a},t.cmap.parse6=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,i.firstCode=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2,i.glyphIdArray=[];for(var o=0;o<a;o++)i.glyphIdArray.push(r.readUshort(e,n)),n+=2;return i},t.cmap.parse12=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=4,r.readUint(e,n),n+=4,r.readUint(e,n),n+=4;var a=r.readUint(e,n);n+=4,i.groups=[];for(var o=0;o<a;o++){var s=n+12*o,l=r.readUint(e,s+0),u=r.readUint(e,s+4),c=r.readUint(e,s+8);i.groups.push([l,u,c])}return i},t.glyf={},t.glyf.parse=function(e,t,n,r){for(var i=[],a=0;a<r.maxp.numGlyphs;a++)i.push(null);return i},t.glyf._parseGlyf=function(e,n){var r,i=t._bin,a=e._data,o=t._tabOffset(a,"glyf",e._offset)+e.loca[n];if(e.loca[n]==e.loca[n+1])return null;var s={};if(s.noc=i.readShort(a,o),o+=2,s.xMin=i.readShort(a,o),o+=2,s.yMin=i.readShort(a,o),o+=2,s.xMax=i.readShort(a,o),o+=2,s.yMax=i.readShort(a,o),o+=2,s.xMin>=s.xMax||s.yMin>=s.yMax)return null;if(s.noc>0){s.endPts=[];for(var l=0;l<s.noc;l++)s.endPts.push(i.readUshort(a,o)),o+=2;var u=i.readUshort(a,o);if(o+=2,a.length-o<u)return null;s.instructions=i.readBytes(a,o,u),o+=u;var c=s.endPts[s.noc-1]+1;for(l=0,s.flags=[];l<c;l++){var d=a[o];if(o++,s.flags.push(d),0!=(8&d)){var f=a[o];o++;for(var h=0;h<f;h++)s.flags.push(d),l++}}for(l=0,s.xs=[];l<c;l++){var p=0!=(2&s.flags[l]),m=0!=(16&s.flags[l]);p?(s.xs.push(m?a[o]:-a[o]),o++):m?s.xs.push(0):(s.xs.push(i.readShort(a,o)),o+=2)}for(l=0,s.ys=[];l<c;l++)p=0!=(4&s.flags[l]),m=0!=(32&s.flags[l]),p?(s.ys.push(m?a[o]:-a[o]),o++):m?s.ys.push(0):(s.ys.push(i.readShort(a,o)),o+=2);var v=0,g=0;for(l=0;l<c;l++)v+=s.xs[l],g+=s.ys[l],s.xs[l]=v,s.ys[l]=g}else{s.parts=[];do{r=i.readUshort(a,o),o+=2;var y={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(s.parts.push(y),y.glyphIndex=i.readUshort(a,o),o+=2,1&r){var _=i.readShort(a,o);o+=2;var b=i.readShort(a,o);o+=2}else _=i.readInt8(a,o),o++,b=i.readInt8(a,o),o++;2&r?(y.m.tx=_,y.m.ty=b):(y.p1=_,y.p2=b),8&r?(y.m.a=y.m.d=i.readF2dot14(a,o),o+=2):64&r?(y.m.a=i.readF2dot14(a,o),o+=2,y.m.d=i.readF2dot14(a,o),o+=2):128&r&&(y.m.a=i.readF2dot14(a,o),o+=2,y.m.b=i.readF2dot14(a,o),o+=2,y.m.c=i.readF2dot14(a,o),o+=2,y.m.d=i.readF2dot14(a,o),o+=2)}while(32&r);if(256&r){var x=i.readUshort(a,o);for(o+=2,s.instr=[],l=0;l<x;l++)s.instr.push(a[o]),o++}}return s},t.GPOS={},t.GPOS.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GPOS.subt)},t.GPOS.subt=function(e,n,r,i){var a=t._bin,o=r,s={};if(s.fmt=a.readUshort(e,r),r+=2,1==n||2==n||3==n||7==n||8==n&&s.fmt<=2){var l=a.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,l+o)}if(1==n&&1==s.fmt){var u=a.readUshort(e,r);r+=2;var c=t._lctf.numOfOnes(u);0!=u&&(s.pos=t.GPOS.readValueRecord(e,r,u))}else if(2==n&&s.fmt>=1&&s.fmt<=2){u=a.readUshort(e,r),r+=2;var d=a.readUshort(e,r);r+=2,c=t._lctf.numOfOnes(u);var f=t._lctf.numOfOnes(d);if(1==s.fmt){s.pairsets=[];var h=a.readUshort(e,r);r+=2;for(var p=0;p<h;p++){var m=o+a.readUshort(e,r);r+=2;var v=a.readUshort(e,m);m+=2;for(var g=[],y=0;y<v;y++){var _=a.readUshort(e,m);m+=2,0!=u&&(T=t.GPOS.readValueRecord(e,m,u),m+=2*c),0!=d&&(k=t.GPOS.readValueRecord(e,m,d),m+=2*f),g.push({gid2:_,val1:T,val2:k})}s.pairsets.push(g)}}if(2==s.fmt){var b=a.readUshort(e,r);r+=2;var x=a.readUshort(e,r);r+=2;var w=a.readUshort(e,r);r+=2;var S=a.readUshort(e,r);for(r+=2,s.classDef1=t._lctf.readClassDef(e,o+b),s.classDef2=t._lctf.readClassDef(e,o+x),s.matrix=[],p=0;p<w;p++){var E=[];for(y=0;y<S;y++){var T=null,k=null;0!=u&&(T=t.GPOS.readValueRecord(e,r,u),r+=2*c),0!=d&&(k=t.GPOS.readValueRecord(e,r,d),r+=2*f),E.push({val1:T,val2:k})}s.matrix.push(E)}}}else{if(9==n&&1==s.fmt){var C=a.readUshort(e,r);r+=2;var O=a.readUint(e,r);if(r+=4,9==i.ltype)i.ltype=C;else if(i.ltype!=C)throw"invalid extension substitution";return t.GPOS.subt(e,i.ltype,o+O)}console.debug("unsupported GPOS table LookupType",n,"format",s.fmt)}return s},t.GPOS.readValueRecord=function(e,n,r){var i=t._bin,a=[];return a.push(1&r?i.readShort(e,n):0),n+=1&r?2:0,a.push(2&r?i.readShort(e,n):0),n+=2&r?2:0,a.push(4&r?i.readShort(e,n):0),n+=4&r?2:0,a.push(8&r?i.readShort(e,n):0),n+=8&r?2:0,a},t.GSUB={},t.GSUB.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GSUB.subt)},t.GSUB.subt=function(e,n,r,i){var a=t._bin,o=r,s={};if(s.fmt=a.readUshort(e,r),r+=2,1!=n&&4!=n&&5!=n&&6!=n)return null;if(1==n||4==n||5==n&&s.fmt<=2||6==n&&s.fmt<=2){var l=a.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,o+l)}if(1==n&&s.fmt>=1&&s.fmt<=2){if(1==s.fmt)s.delta=a.readShort(e,r),r+=2;else if(2==s.fmt){var u=a.readUshort(e,r);r+=2,s.newg=a.readUshorts(e,r,u),r+=2*s.newg.length}}else if(4==n){s.vals=[],u=a.readUshort(e,r),r+=2;for(var c=0;c<u;c++){var d=a.readUshort(e,r);r+=2,s.vals.push(t.GSUB.readLigatureSet(e,o+d))}}else if(5==n&&2==s.fmt){if(2==s.fmt){var f=a.readUshort(e,r);r+=2,s.cDef=t._lctf.readClassDef(e,o+f),s.scset=[];var h=a.readUshort(e,r);for(r+=2,c=0;c<h;c++){var p=a.readUshort(e,r);r+=2,s.scset.push(0==p?null:t.GSUB.readSubClassSet(e,o+p))}}}else if(6==n&&3==s.fmt){if(3==s.fmt){for(c=0;c<3;c++){u=a.readUshort(e,r),r+=2;for(var m=[],v=0;v<u;v++)m.push(t._lctf.readCoverage(e,o+a.readUshort(e,r+2*v)));r+=2*u,0==c&&(s.backCvg=m),1==c&&(s.inptCvg=m),2==c&&(s.ahedCvg=m)}u=a.readUshort(e,r),r+=2,s.lookupRec=t.GSUB.readSubstLookupRecords(e,r,u)}}else{if(7==n&&1==s.fmt){var g=a.readUshort(e,r);r+=2;var y=a.readUint(e,r);if(r+=4,9==i.ltype)i.ltype=g;else if(i.ltype!=g)throw"invalid extension substitution";return t.GSUB.subt(e,i.ltype,o+y)}console.debug("unsupported GSUB table LookupType",n,"format",s.fmt)}return s},t.GSUB.readSubClassSet=function(e,n){var r=t._bin.readUshort,i=n,a=[],o=r(e,n);n+=2;for(var s=0;s<o;s++){var l=r(e,n);n+=2,a.push(t.GSUB.readSubClassRule(e,i+l))}return a},t.GSUB.readSubClassRule=function(e,n){var r=t._bin.readUshort,i={},a=r(e,n),o=r(e,n+=2);n+=2,i.input=[];for(var s=0;s<a-1;s++)i.input.push(r(e,n)),n+=2;return i.substLookupRecords=t.GSUB.readSubstLookupRecords(e,n,o),i},t.GSUB.readSubstLookupRecords=function(e,n,r){for(var i=t._bin.readUshort,a=[],o=0;o<r;o++)a.push(i(e,n),i(e,n+2)),n+=4;return a},t.GSUB.readChainSubClassSet=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readUshort(e,n);n+=2,a.push(t.GSUB.readChainSubClassRule(e,i+l))}return a},t.GSUB.readChainSubClassRule=function(e,n){for(var r=t._bin,i={},a=["backtrack","input","lookahead"],o=0;o<a.length;o++){var s=r.readUshort(e,n);n+=2,1==o&&s--,i[a[o]]=r.readUshorts(e,n,s),n+=2*i[a[o]].length}return s=r.readUshort(e,n),n+=2,i.subst=r.readUshorts(e,n,2*s),n+=2*i.subst.length,i},t.GSUB.readLigatureSet=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readUshort(e,n);n+=2,a.push(t.GSUB.readLigature(e,i+l))}return a},t.GSUB.readLigature=function(e,n){var r=t._bin,i={chain:[]};i.nglyph=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2;for(var o=0;o<a-1;o++)i.chain.push(r.readUshort(e,n)),n+=2;return i},t.head={},t.head.parse=function(e,n,r){var i=t._bin,a={};return i.readFixed(e,n),n+=4,a.fontRevision=i.readFixed(e,n),n+=4,i.readUint(e,n),n+=4,i.readUint(e,n),n+=4,a.flags=i.readUshort(e,n),n+=2,a.unitsPerEm=i.readUshort(e,n),n+=2,a.created=i.readUint64(e,n),n+=8,a.modified=i.readUint64(e,n),n+=8,a.xMin=i.readShort(e,n),n+=2,a.yMin=i.readShort(e,n),n+=2,a.xMax=i.readShort(e,n),n+=2,a.yMax=i.readShort(e,n),n+=2,a.macStyle=i.readUshort(e,n),n+=2,a.lowestRecPPEM=i.readUshort(e,n),n+=2,a.fontDirectionHint=i.readShort(e,n),n+=2,a.indexToLocFormat=i.readShort(e,n),n+=2,a.glyphDataFormat=i.readShort(e,n),n+=2,a},t.hhea={},t.hhea.parse=function(e,n,r){var i=t._bin,a={};return i.readFixed(e,n),n+=4,a.ascender=i.readShort(e,n),n+=2,a.descender=i.readShort(e,n),n+=2,a.lineGap=i.readShort(e,n),n+=2,a.advanceWidthMax=i.readUshort(e,n),n+=2,a.minLeftSideBearing=i.readShort(e,n),n+=2,a.minRightSideBearing=i.readShort(e,n),n+=2,a.xMaxExtent=i.readShort(e,n),n+=2,a.caretSlopeRise=i.readShort(e,n),n+=2,a.caretSlopeRun=i.readShort(e,n),n+=2,a.caretOffset=i.readShort(e,n),n+=10,a.metricDataFormat=i.readShort(e,n),n+=2,a.numberOfHMetrics=i.readUshort(e,n),n+=2,a},t.hmtx={},t.hmtx.parse=function(e,n,r,i){for(var a=t._bin,o={aWidth:[],lsBearing:[]},s=0,l=0,u=0;u<i.maxp.numGlyphs;u++)u<i.hhea.numberOfHMetrics&&(s=a.readUshort(e,n),n+=2,l=a.readShort(e,n),n+=2),o.aWidth.push(s),o.lsBearing.push(l);return o},t.kern={},t.kern.parse=function(e,n,r,i){var a=t._bin,o=a.readUshort(e,n);if(n+=2,1==o)return t.kern.parseV1(e,n-2,r,i);var s=a.readUshort(e,n);n+=2;for(var l={glyph1:[],rval:[]},u=0;u<s;u++){n+=2,r=a.readUshort(e,n),n+=2;var c=a.readUshort(e,n);n+=2;var d=c>>>8;if(0!=(d&=15))throw"unknown kern table format: "+d;n=t.kern.readFormat0(e,n,l)}return l},t.kern.parseV1=function(e,n,r,i){var a=t._bin;a.readFixed(e,n),n+=4;var o=a.readUint(e,n);n+=4;for(var s={glyph1:[],rval:[]},l=0;l<o;l++){a.readUint(e,n),n+=4;var u=a.readUshort(e,n);n+=2,a.readUshort(e,n),n+=2;var c=u>>>8;if(0!=(c&=15))throw"unknown kern table format: "+c;n=t.kern.readFormat0(e,n,s)}return s},t.kern.readFormat0=function(e,n,r){var i=t._bin,a=-1,o=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2;for(var s=0;s<o;s++){var l=i.readUshort(e,n);n+=2;var u=i.readUshort(e,n);n+=2;var c=i.readShort(e,n);n+=2,l!=a&&(r.glyph1.push(l),r.rval.push({glyph2:[],vals:[]}));var d=r.rval[r.rval.length-1];d.glyph2.push(u),d.vals.push(c),a=l}return n},t.loca={},t.loca.parse=function(e,n,r,i){var a=t._bin,o=[],s=i.head.indexToLocFormat,l=i.maxp.numGlyphs+1;if(0==s)for(var u=0;u<l;u++)o.push(a.readUshort(e,n+(u<<1))<<1);if(1==s)for(u=0;u<l;u++)o.push(a.readUint(e,n+(u<<2)));return o},t.maxp={},t.maxp.parse=function(e,n,r){var i=t._bin,a={},o=i.readUint(e,n);return n+=4,a.numGlyphs=i.readUshort(e,n),n+=2,65536==o&&(a.maxPoints=i.readUshort(e,n),n+=2,a.maxContours=i.readUshort(e,n),n+=2,a.maxCompositePoints=i.readUshort(e,n),n+=2,a.maxCompositeContours=i.readUshort(e,n),n+=2,a.maxZones=i.readUshort(e,n),n+=2,a.maxTwilightPoints=i.readUshort(e,n),n+=2,a.maxStorage=i.readUshort(e,n),n+=2,a.maxFunctionDefs=i.readUshort(e,n),n+=2,a.maxInstructionDefs=i.readUshort(e,n),n+=2,a.maxStackElements=i.readUshort(e,n),n+=2,a.maxSizeOfInstructions=i.readUshort(e,n),n+=2,a.maxComponentElements=i.readUshort(e,n),n+=2,a.maxComponentDepth=i.readUshort(e,n),n+=2),a},t.name={},t.name.parse=function(e,n,r){var i=t._bin,a={};i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2,i.readUshort(e,n);for(var s,l=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],u=n+=2,c=0;c<o;c++){var d=i.readUshort(e,n);n+=2;var f=i.readUshort(e,n);n+=2;var h=i.readUshort(e,n);n+=2;var p=i.readUshort(e,n);n+=2;var m=i.readUshort(e,n);n+=2;var v=i.readUshort(e,n);n+=2;var g,y=l[p],_=u+12*o+v;if(0==d)g=i.readUnicode(e,_,m/2);else if(3==d&&0==f)g=i.readUnicode(e,_,m/2);else if(0==f)g=i.readASCII(e,_,m);else if(1==f)g=i.readUnicode(e,_,m/2);else if(3==f)g=i.readUnicode(e,_,m/2);else{if(1!=d)throw"unknown encoding "+f+", platformID: "+d;g=i.readASCII(e,_,m),console.debug("reading unknown MAC encoding "+f+" as ASCII")}var b="p"+d+","+h.toString(16);null==a[b]&&(a[b]={}),a[b][void 0!==y?y:p]=g,a[b]._lang=h}for(var x in a)if(null!=a[x].postScriptName&&1033==a[x]._lang)return a[x];for(var x in a)if(null!=a[x].postScriptName&&0==a[x]._lang)return a[x];for(var x in a)if(null!=a[x].postScriptName&&3084==a[x]._lang)return a[x];for(var x in a)if(null!=a[x].postScriptName)return a[x];for(var x in a){s=x;break}return console.debug("returning name table with languageID "+a[s]._lang),a[s]},t["OS/2"]={},t["OS/2"].parse=function(e,n,r){var i=t._bin.readUshort(e,n);n+=2;var a={};if(0==i)t["OS/2"].version0(e,n,a);else if(1==i)t["OS/2"].version1(e,n,a);else if(2==i||3==i||4==i)t["OS/2"].version2(e,n,a);else{if(5!=i)throw"unknown OS/2 table version: "+i;t["OS/2"].version5(e,n,a)}return a},t["OS/2"].version0=function(e,n,r){var i=t._bin;return r.xAvgCharWidth=i.readShort(e,n),n+=2,r.usWeightClass=i.readUshort(e,n),n+=2,r.usWidthClass=i.readUshort(e,n),n+=2,r.fsType=i.readUshort(e,n),n+=2,r.ySubscriptXSize=i.readShort(e,n),n+=2,r.ySubscriptYSize=i.readShort(e,n),n+=2,r.ySubscriptXOffset=i.readShort(e,n),n+=2,r.ySubscriptYOffset=i.readShort(e,n),n+=2,r.ySuperscriptXSize=i.readShort(e,n),n+=2,r.ySuperscriptYSize=i.readShort(e,n),n+=2,r.ySuperscriptXOffset=i.readShort(e,n),n+=2,r.ySuperscriptYOffset=i.readShort(e,n),n+=2,r.yStrikeoutSize=i.readShort(e,n),n+=2,r.yStrikeoutPosition=i.readShort(e,n),n+=2,r.sFamilyClass=i.readShort(e,n),n+=2,r.panose=i.readBytes(e,n,10),n+=10,r.ulUnicodeRange1=i.readUint(e,n),n+=4,r.ulUnicodeRange2=i.readUint(e,n),n+=4,r.ulUnicodeRange3=i.readUint(e,n),n+=4,r.ulUnicodeRange4=i.readUint(e,n),n+=4,r.achVendID=[i.readInt8(e,n),i.readInt8(e,n+1),i.readInt8(e,n+2),i.readInt8(e,n+3)],n+=4,r.fsSelection=i.readUshort(e,n),n+=2,r.usFirstCharIndex=i.readUshort(e,n),n+=2,r.usLastCharIndex=i.readUshort(e,n),n+=2,r.sTypoAscender=i.readShort(e,n),n+=2,r.sTypoDescender=i.readShort(e,n),n+=2,r.sTypoLineGap=i.readShort(e,n),n+=2,r.usWinAscent=i.readUshort(e,n),n+=2,r.usWinDescent=i.readUshort(e,n),n+=2},t["OS/2"].version1=function(e,n,r){var i=t._bin;return n=t["OS/2"].version0(e,n,r),r.ulCodePageRange1=i.readUint(e,n),n+=4,r.ulCodePageRange2=i.readUint(e,n),n+=4},t["OS/2"].version2=function(e,n,r){var i=t._bin;return n=t["OS/2"].version1(e,n,r),r.sxHeight=i.readShort(e,n),n+=2,r.sCapHeight=i.readShort(e,n),n+=2,r.usDefault=i.readUshort(e,n),n+=2,r.usBreak=i.readUshort(e,n),n+=2,r.usMaxContext=i.readUshort(e,n),n+=2},t["OS/2"].version5=function(e,n,r){var i=t._bin;return n=t["OS/2"].version2(e,n,r),r.usLowerOpticalPointSize=i.readUshort(e,n),n+=2,r.usUpperOpticalPointSize=i.readUshort(e,n),n+=2},t.post={},t.post.parse=function(e,n,r){var i=t._bin,a={};return a.version=i.readFixed(e,n),n+=4,a.italicAngle=i.readFixed(e,n),n+=4,a.underlinePosition=i.readShort(e,n),n+=2,a.underlineThickness=i.readShort(e,n),n+=2,a},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var n=e.cmap,r=-1;if(null!=n.p0e4?r=n.p0e4:null!=n.p3e1?r=n.p3e1:null!=n.p1e0?r=n.p1e0:null!=n.p0e3&&(r=n.p0e3),-1==r)throw"no familiar platform and encoding!";var i=n.tables[r];if(0==i.format)return t>=i.map.length?0:i.map[t];if(4==i.format){for(var a=-1,o=0;o<i.endCount.length;o++)if(t<=i.endCount[o]){a=o;break}return -1==a||i.startCount[a]>t?0:65535&(0!=i.idRangeOffset[a]?i.glyphIdArray[t-i.startCount[a]+(i.idRangeOffset[a]>>1)-(i.idRangeOffset.length-a)]:t+i.idDelta[a])}if(12==i.format){if(t>i.groups[i.groups.length-1][1])return 0;for(o=0;o<i.groups.length;o++){var s=i.groups[o];if(s[0]<=t&&t<=s[1])return s[2]+(t-s[0])}return 0}throw"unknown cmap table format "+i.format},t.U.glyphToPath=function(e,n){var r={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[n]){var i=e.SVG.entries[n];return null==i?r:("string"==typeof i&&(i=t.SVG.toPath(i),e.SVG.entries[n]=i),i)}if(e.CFF){var a={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},o=e.CFF,s=e.CFF.Private;if(o.ROS){for(var l=0;o.FDSelect[l+2]<=n;)l+=2;s=o.FDArray[o.FDSelect[l+1]].Private}t.U._drawCFF(e.CFF.CharStrings[n],a,o,s,r)}else e.glyf&&t.U._drawGlyf(n,e,r);return r},t.U._drawGlyf=function(e,n,r){var i=n.glyf[e];null==i&&(i=n.glyf[e]=t.glyf._parseGlyf(n,e)),null!=i&&(i.noc>-1?t.U._simpleGlyph(i,r):t.U._compoGlyph(i,n,r))},t.U._simpleGlyph=function(e,n){for(var r=0;r<e.noc;r++){for(var i=0==r?0:e.endPts[r-1]+1,a=e.endPts[r],o=i;o<=a;o++){var s=o==i?a:o-1,l=o==a?i:o+1,u=1&e.flags[o],c=1&e.flags[s],d=1&e.flags[l],f=e.xs[o],h=e.ys[o];if(o==i){if(u){if(!c){t.U.P.moveTo(n,f,h);continue}t.U.P.moveTo(n,e.xs[s],e.ys[s])}else c?t.U.P.moveTo(n,e.xs[s],e.ys[s]):t.U.P.moveTo(n,(e.xs[s]+f)/2,(e.ys[s]+h)/2)}u?c&&t.U.P.lineTo(n,f,h):d?t.U.P.qcurveTo(n,f,h,e.xs[l],e.ys[l]):t.U.P.qcurveTo(n,f,h,(f+e.xs[l])/2,(h+e.ys[l])/2)}t.U.P.closePath(n)}},t.U._compoGlyph=function(e,n,r){for(var i=0;i<e.parts.length;i++){var a={cmds:[],crds:[]},o=e.parts[i];t.U._drawGlyf(o.glyphIndex,n,a);for(var s=o.m,l=0;l<a.crds.length;l+=2){var u=a.crds[l],c=a.crds[l+1];r.crds.push(u*s.a+c*s.b+s.tx),r.crds.push(u*s.c+c*s.d+s.ty)}for(l=0;l<a.cmds.length;l++)r.cmds.push(a.cmds[l])}},t.U._getGlyphClass=function(e,n){var r=t._lctf.getInterval(n,e);return -1==r?0:n[r+2]},t.U.getPairAdjustment=function(e,n,r){var i=0,a=!1;if(e.GPOS)for(var o=e.GPOS,s=o.lookupList,l=o.featureList,u=[],c=0;c<l.length;c++){var d=l[c];if("kern"==d.tag){a=!0;for(var f=0;f<d.tab.length;f++)if(!u[d.tab[f]]){u[d.tab[f]]=!0;for(var h=s[d.tab[f]],p=0;p<h.tabs.length;p++)if(null!=h.tabs[p]){var m,v,g=h.tabs[p];if(!g.coverage||-1!=(v=t._lctf.coverageIndex(g.coverage,n))){if(1==h.ltype);else if(2==h.ltype){if(1==g.fmt){var y=g.pairsets[v];for(c=0;c<y.length;c++)y[c].gid2==r&&(m=y[c])}else if(2==g.fmt){var _=t.U._getGlyphClass(n,g.classDef1),b=t.U._getGlyphClass(r,g.classDef2);m=g.matrix[_][b]}m&&m.val1&&m.val1[2]&&(i+=m.val1[2]),m&&m.val2&&m.val2[0]&&(i+=m.val2[0])}}}}}}if(e.kern&&!a){var x=e.kern.glyph1.indexOf(n);if(-1!=x){var w=e.kern.rval[x].glyph2.indexOf(r);-1!=w&&(i+=e.kern.rval[x].vals[w])}}return i},t.U._applySubs=function(e,n,r,i){for(var a=e.length-n-1,o=0;o<r.tabs.length;o++)if(null!=r.tabs[o]){var s,l=r.tabs[o];if(!l.coverage||-1!=(s=t._lctf.coverageIndex(l.coverage,e[n]))){if(1==r.ltype)e[n],1==l.fmt?e[n]=e[n]+l.delta:e[n]=l.newg[s];else if(4==r.ltype)for(var u=l.vals[s],c=0;c<u.length;c++){var d=u[c],f=d.chain.length;if(!(f>a)){for(var h=!0,p=0,m=0;m<f;m++){for(;-1==e[n+p+(1+m)];)p++;d.chain[m]!=e[n+p+(1+m)]&&(h=!1)}if(h){for(m=0,e[n]=d.nglyph;m<f+p;m++)e[n+m+1]=-1;break}}}else if(5==r.ltype&&2==l.fmt)for(var v=t._lctf.getInterval(l.cDef,e[n]),g=l.cDef[v+2],y=l.scset[g],_=0;_<y.length;_++){var b=y[_],x=b.input;if(!(x.length>a)){for(h=!0,m=0;m<x.length;m++){var w=t._lctf.getInterval(l.cDef,e[n+1+m]);if(-1==v&&l.cDef[w+2]!=x[m]){h=!1;break}}if(h){var S=b.substLookupRecords;for(c=0;c<S.length;c+=2)S[c],S[c+1]}}}else if(6==r.ltype&&3==l.fmt){if(!t.U._glsCovered(e,l.backCvg,n-l.backCvg.length)||!t.U._glsCovered(e,l.inptCvg,n)||!t.U._glsCovered(e,l.ahedCvg,n+l.inptCvg.length))continue;var E=l.lookupRec;for(_=0;_<E.length;_+=2){v=E[_];var T=i[E[_+1]];t.U._applySubs(e,n+v,T,i)}}}}},t.U._glsCovered=function(e,n,r){for(var i=0;i<n.length;i++)if(-1==t._lctf.coverageIndex(n[i],e[r+i]))return!1;return!0},t.U.glyphsToPath=function(e,n,r){for(var i={cmds:[],crds:[]},a=0,o=0;o<n.length;o++){var s=n[o];if(-1!=s){for(var l=o<n.length-1&&-1!=n[o+1]?n[o+1]:0,u=t.U.glyphToPath(e,s),c=0;c<u.crds.length;c+=2)i.crds.push(u.crds[c]+a),i.crds.push(u.crds[c+1]);for(r&&i.cmds.push(r),c=0;c<u.cmds.length;c++)i.cmds.push(u.cmds[c]);r&&i.cmds.push("X"),a+=e.hmtx.aWidth[s],o<n.length-1&&(a+=t.U.getPairAdjustment(e,s,l))}}return i},t.U.P={},t.U.P.moveTo=function(e,t,n){e.cmds.push("M"),e.crds.push(t,n)},t.U.P.lineTo=function(e,t,n){e.cmds.push("L"),e.crds.push(t,n)},t.U.P.curveTo=function(e,t,n,r,i,a,o){e.cmds.push("C"),e.crds.push(t,n,r,i,a,o)},t.U.P.qcurveTo=function(e,t,n,r,i){e.cmds.push("Q"),e.crds.push(t,n,r,i)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,n,r,i,a){for(var o=n.stack,s=n.nStems,l=n.haveWidth,u=n.width,c=n.open,d=0,f=n.x,h=n.y,p=0,m=0,v=0,g=0,y=0,_=0,b=0,x=0,w=0,S=0,E={val:0,size:0};d<e.length;){t.CFF.getCharString(e,d,E);var T=E.val;if(d+=E.size,"o1"==T||"o18"==T)o.length%2==0||l||(u=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o3"==T||"o23"==T)o.length%2==0||l||(u=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o4"==T)o.length>1&&!l&&(u=o.shift()+i.nominalWidthX,l=!0),c&&t.U.P.closePath(a),h+=o.pop(),t.U.P.moveTo(a,f,h),c=!0;else if("o5"==T)for(;o.length>0;)f+=o.shift(),h+=o.shift(),t.U.P.lineTo(a,f,h);else if("o6"==T||"o7"==T)for(var k=o.length,C="o6"==T,O=0;O<k;O++){var M=o.shift();C?f+=M:h+=M,C=!C,t.U.P.lineTo(a,f,h)}else if("o8"==T||"o24"==T){k=o.length;for(var P=0;P+6<=k;)p=f+o.shift(),m=h+o.shift(),v=p+o.shift(),g=m+o.shift(),f=v+o.shift(),h=g+o.shift(),t.U.P.curveTo(a,p,m,v,g,f,h),P+=6;"o24"==T&&(f+=o.shift(),h+=o.shift(),t.U.P.lineTo(a,f,h))}else{if("o11"==T)break;if("o1234"==T||"o1235"==T||"o1236"==T||"o1237"==T)"o1234"==T&&(m=h,v=(p=f+o.shift())+o.shift(),S=g=m+o.shift(),_=g,x=h,f=(b=(y=(w=v+o.shift())+o.shift())+o.shift())+o.shift(),t.U.P.curveTo(a,p,m,v,g,w,S),t.U.P.curveTo(a,y,_,b,x,f,h)),"o1235"==T&&(p=f+o.shift(),m=h+o.shift(),v=p+o.shift(),g=m+o.shift(),w=v+o.shift(),S=g+o.shift(),y=w+o.shift(),_=S+o.shift(),b=y+o.shift(),x=_+o.shift(),f=b+o.shift(),h=x+o.shift(),o.shift(),t.U.P.curveTo(a,p,m,v,g,w,S),t.U.P.curveTo(a,y,_,b,x,f,h)),"o1236"==T&&(p=f+o.shift(),m=h+o.shift(),v=p+o.shift(),S=g=m+o.shift(),_=g,b=(y=(w=v+o.shift())+o.shift())+o.shift(),x=_+o.shift(),f=b+o.shift(),t.U.P.curveTo(a,p,m,v,g,w,S),t.U.P.curveTo(a,y,_,b,x,f,h)),"o1237"==T&&(p=f+o.shift(),m=h+o.shift(),v=p+o.shift(),g=m+o.shift(),w=v+o.shift(),S=g+o.shift(),y=w+o.shift(),_=S+o.shift(),Math.abs((b=y+o.shift())-f)>Math.abs((x=_+o.shift())-h)?f=b+o.shift():h=x+o.shift(),t.U.P.curveTo(a,p,m,v,g,w,S),t.U.P.curveTo(a,y,_,b,x,f,h));else if("o14"==T){if(o.length>0&&!l&&(u=o.shift()+r.nominalWidthX,l=!0),4==o.length){var U=o.shift(),I=o.shift(),A=o.shift(),z=o.shift(),D=t.CFF.glyphBySE(r,A),N=t.CFF.glyphBySE(r,z);t.U._drawCFF(r.CharStrings[D],n,r,i,a),n.x=U,n.y=I,t.U._drawCFF(r.CharStrings[N],n,r,i,a)}c&&(t.U.P.closePath(a),c=!1)}else if("o19"==T||"o20"==T)o.length%2==0||l||(u=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,l=!0,d+=s+7>>3;else if("o21"==T)o.length>2&&!l&&(u=o.shift()+i.nominalWidthX,l=!0),h+=o.pop(),f+=o.pop(),c&&t.U.P.closePath(a),t.U.P.moveTo(a,f,h),c=!0;else if("o22"==T)o.length>1&&!l&&(u=o.shift()+i.nominalWidthX,l=!0),f+=o.pop(),c&&t.U.P.closePath(a),t.U.P.moveTo(a,f,h),c=!0;else if("o25"==T){for(;o.length>6;)f+=o.shift(),h+=o.shift(),t.U.P.lineTo(a,f,h);p=f+o.shift(),m=h+o.shift(),v=p+o.shift(),g=m+o.shift(),f=v+o.shift(),h=g+o.shift(),t.U.P.curveTo(a,p,m,v,g,f,h)}else if("o26"==T)for(o.length%2&&(f+=o.shift());o.length>0;)p=f,m=h+o.shift(),f=v=p+o.shift(),h=(g=m+o.shift())+o.shift(),t.U.P.curveTo(a,p,m,v,g,f,h);else if("o27"==T)for(o.length%2&&(h+=o.shift());o.length>0;)m=h,v=(p=f+o.shift())+o.shift(),g=m+o.shift(),f=v+o.shift(),h=g,t.U.P.curveTo(a,p,m,v,g,f,h);else if("o10"==T||"o29"==T){var L="o10"==T?i:r;if(0==o.length)console.debug("error: empty stack");else{var F=o.pop(),R=L.Subrs[F+L.Bias];n.x=f,n.y=h,n.nStems=s,n.haveWidth=l,n.width=u,n.open=c,t.U._drawCFF(R,n,r,i,a),f=n.x,h=n.y,s=n.nStems,l=n.haveWidth,u=n.width,c=n.open}}else if("o30"==T||"o31"==T){var j=o.length,B=(P=0,"o31"==T);for(P+=j-(k=-3&j);P<k;)B?(m=h,v=(p=f+o.shift())+o.shift(),h=(g=m+o.shift())+o.shift(),k-P==5?(f=v+o.shift(),P++):f=v,B=!1):(p=f,m=h+o.shift(),v=p+o.shift(),g=m+o.shift(),f=v+o.shift(),k-P==5?(h=g+o.shift(),P++):h=g,B=!0),t.U.P.curveTo(a,p,m,v,g,f,h),P+=4}else{if("o"==(T+"").charAt(0))throw console.debug("Unknown operation: "+T,e),T;o.push(T)}}}n.x=f,n.y=h,n.nStems=s,n.haveWidth=l,n.width=u,n.open=c},n=t,e.Typr=n,e.default={Typr:n},Object.defineProperty(e,"__esModule",{value:!0}),e).Typr},/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function(){return function(e){var t=Uint8Array,n=Uint16Array,r=Uint32Array,i=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(e,t){for(var i=new n(31),a=0;a<31;++a)i[a]=t+=1<<e[a-1];var o=new r(i[30]);for(a=1;a<30;++a)for(var s=i[a];s<i[a+1];++s)o[s]=s-i[a]<<5|a;return[i,o]},l=s(i,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var d=s(a,0)[0],f=new n(32768),h=0;h<32768;++h){var p=(43690&h)>>>1|(21845&h)<<1;p=(61680&(p=(52428&p)>>>2|(13107&p)<<2))>>>4|(3855&p)<<4,f[h]=((65280&p)>>>8|(255&p)<<8)>>>1}var m=function(e,t,r){for(var i=e.length,a=0,o=new n(t);a<i;++a)++o[e[a]-1];var s,l=new n(t);for(a=0;a<t;++a)l[a]=l[a-1]+o[a-1]<<1;if(r){s=new n(1<<t);var u=15-t;for(a=0;a<i;++a)if(e[a])for(var c=a<<4|e[a],d=t-e[a],h=l[e[a]-1]++<<d,p=h|(1<<d)-1;h<=p;++h)s[f[h]>>>u]=c}else for(s=new n(i),a=0;a<i;++a)e[a]&&(s[a]=f[l[e[a]-1]++]>>>15-e[a]);return s},v=new t(288);for(h=0;h<144;++h)v[h]=8;for(h=144;h<256;++h)v[h]=9;for(h=256;h<280;++h)v[h]=7;for(h=280;h<288;++h)v[h]=8;var g=new t(32);for(h=0;h<32;++h)g[h]=5;var y=m(v,9,1),_=m(g,5,1),b=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},x=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},w=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},S=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(e,t,n){var r=Error(t||S[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,E),!n)throw r;return r},T=function(e,s,l){var c,f,h,p,v=e.length;if(!v||l&&!l.l&&v<5)return s||new t(0);var g=!s||l,S=!l||l.i;l||(l={}),s||(s=new t(3*v));var T,k=function(e){var n=s.length;if(e>n){var r=new t(Math.max(2*n,e));r.set(s),s=r}},C=l.f||0,O=l.p||0,M=l.b||0,P=l.l,U=l.d,I=l.m,A=l.n,z=8*v;do{if(!P){l.f=C=x(e,O,1);var D=x(e,O+1,3);if(O+=3,!D){var N=e[(q=((T=O)/8|0)+(7&T&&1)+4)-4]|e[q-3]<<8,L=q+N;if(L>v){S&&E(0);break}g&&k(M+N),s.set(e.subarray(q,L),M),l.b=M+=N,l.p=O=8*L;continue}if(1==D)P=y,U=_,I=9,A=5;else if(2==D){var F=x(e,O,31)+257,R=x(e,O+10,15)+4,j=F+x(e,O+5,31)+1;O+=14;for(var B=new t(j),V=new t(19),G=0;G<R;++G)V[o[G]]=x(e,O+3*G,7);O+=3*R;var H=b(V),W=(1<<H)-1,$=m(V,H,1);for(G=0;G<j;){var q,Y=$[x(e,O,W)];if(O+=15&Y,(q=Y>>>4)<16)B[G++]=q;else{var X=0,Q=0;for(16==q?(Q=3+x(e,O,3),O+=2,X=B[G-1]):17==q?(Q=3+x(e,O,7),O+=3):18==q&&(Q=11+x(e,O,127),O+=7);Q--;)B[G++]=X}}var K=B.subarray(0,F),Z=B.subarray(F);I=b(K),A=b(Z),P=m(K,I,1),U=m(Z,A,1)}else E(1);if(O>z){S&&E(0);break}}g&&k(M+131072);for(var J=(1<<I)-1,ee=(1<<A)-1,et=O;;et=O){var en=(X=P[w(e,O)&J])>>>4;if((O+=15&X)>z){S&&E(0);break}if(X||E(2),en<256)s[M++]=en;else{if(256==en){et=O,P=null;break}var er=en-254;if(en>264){var ei=i[G=en-257];er=x(e,O,(1<<ei)-1)+u[G],O+=ei}var ea=U[w(e,O)&ee],eo=ea>>>4;if(ea||E(3),O+=15&ea,Z=d[eo],eo>3&&(ei=a[eo],Z+=w(e,O)&(1<<ei)-1,O+=ei),O>z){S&&E(0);break}g&&k(M+131072);for(var es=M+er;M<es;M+=4)s[M]=s[M-Z],s[M+1]=s[M+1-Z],s[M+2]=s[M+2-Z],s[M+3]=s[M+3-Z];M=es}}l.l=P,l.p=et,l.b=M,P&&(C=1,l.m=I,l.d=U,l.n=A)}while(!C);return M==s.length?s:(c=s,(f=0)<0&&(f=0),(null==(h=M)||h>c.length)&&(h=c.length),(p=new(c instanceof n?n:c instanceof r?r:t)(h-f)).set(c.subarray(f,h)),p)},k=new t(0),C="undefined"!=typeof TextDecoder&&new TextDecoder;try{C.decode(k,{stream:!0})}catch(e){}return e.convert_streams=function(e){var t=new DataView(e),n=0;function r(){var e=t.getUint16(n);return n+=2,e}function i(){var e=t.getUint32(n);return n+=4,e}function a(e){g.setUint16(y,e),y+=2}function o(e){g.setUint32(y,e),y+=4}for(var s={signature:i(),flavor:i(),length:i(),numTables:r(),reserved:r(),totalSfntSize:i(),majorVersion:r(),minorVersion:r(),metaOffset:i(),metaLength:i(),metaOrigLength:i(),privOffset:i(),privLength:i()},l=0;Math.pow(2,l)<=s.numTables;)l++;l--;for(var u=16*Math.pow(2,l),c=16*s.numTables-u,d=12,f=[],h=0;h<s.numTables;h++)f.push({tag:i(),offset:i(),compLength:i(),origLength:i(),origChecksum:i()}),d+=16;var p,m=new Uint8Array(12+16*f.length+f.reduce(function(e,t){return e+t.origLength+4},0)),v=m.buffer,g=new DataView(v),y=0;return o(s.flavor),a(s.numTables),a(u),a(l),a(c),f.forEach(function(e){o(e.tag),o(e.origChecksum),o(d),o(e.origLength),e.outOffset=d,(d+=e.origLength)%4!=0&&(d+=4-d%4)}),f.forEach(function(t){var n=e.slice(t.offset,t.offset+t.compLength);if(t.compLength!=t.origLength){var r=new Uint8Array(t.origLength);T(new Uint8Array(n,2),r)}else r=new Uint8Array(n);m.set(r,t.outOffset);var i=0;(d=t.outOffset+t.origLength)%4!=0&&(i=4-d%4),m.set(new Uint8Array(i).buffer,t.outOffset+t.origLength),p=d+i}),v.slice(0,p)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams},function(e,t){let n;let r={M:2,L:2,Q:4,C:6,Z:0},i={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},a=[null,"isol","init","fina","medi"];return function(o){let s=new Uint8Array(o,0,4),l=e._bin.readASCII(s,0,4);if("wOFF"===l)o=t(o);else if("wOF2"===l)throw Error("woff2 fonts not supported");return function(t){let o=Object.create(null),s={unitsPerEm:t.head.unitsPerEm,ascender:t.hhea.ascender,descender:t.hhea.descender,forEachGlyph(l,u,c,d){let f=0,h=1/s.unitsPerEm*u,p=function(t,r){let o=[];for(let n=0;n<r.length;n++){let i=r.codePointAt(n);i>65535&&n++,o.push(e.U.codeToGlyph(t,i))}let s=t.GSUB;if(s){let t;let{lookupList:l,featureList:u}=s,c=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,d=[];u.forEach(s=>{if(c.test(s.tag))for(let u=0;u<s.tab.length;u++){if(d[s.tab[u]])continue;d[s.tab[u]]=!0;let c=l[s.tab[u]],f=/^(isol|init|fina|medi)$/.test(s.tag);f&&!t&&(t=function(e){let t=new Uint8Array(e.length),r=32,a=1,o=-1;for(let s=0;s<e.length;s++){let l=e.codePointAt(s),u=0|function(e){if(!n){let e={R:2,L:1,D:4,C:16,U:32,T:8};for(let t in n=new Map,i){let r=0;i[t].split(",").forEach(i=>{let[a,o]=i.split("+");a=parseInt(a,36),o=o?parseInt(o,36):0,n.set(r+=a,e[t]);for(let i=o;i--;)n.set(++r,e[t])})}}return n.get(e)||32}(l),c=1;!(8&u)&&(21&r?22&u?(c=3,(1===a||3===a)&&t[o]++):33&u&&(2===a||4===a)&&t[o]--:34&r&&(2===a||4===a)&&t[o]--,a=t[s]=c,r=u,o=s,l>65535&&s++)}return t}(r));for(let n=0;n<o.length;n++)t&&f&&a[t[n]]!==s.tag||e.U._applySubs(o,n,c,l)}})}return o}(t,l),m=0,v=-1;return p.forEach((n,i)=>{if(-1!==n){let i=o[n];if(!i){let a,s,l,u;let{cmds:c,crds:d}=e.U.glyphToPath(t,n),f="",h=0;for(let e=0,t=c.length;e<t;e++){let t=r[c[e]];f+=c[e];for(let e=1;e<=t;e++)f+=(e>1?",":"")+d[h++]}if(d.length){a=s=1/0,l=u=-1/0;for(let e=0,t=d.length;e<t;e+=2){let t=d[e],n=d[e+1];t<a&&(a=t),n<s&&(s=n),t>l&&(l=t),n>u&&(u=n)}}else a=l=s=u=0;i=o[n]={index:n,advanceWidth:t.hmtx.aWidth[n],xMin:a,yMin:s,xMax:l,yMax:u,path:f,pathCommandCount:c.length}}-1!==v&&(f+=e.U.getPairAdjustment(t,v,n)*h),d.call(null,i,f,m),i.advanceWidth&&(f+=i.advanceWidth*h),c&&(f+=c*u),v=n}m+=l.codePointAt(m)>65535?2:1}),f}};return s}(e.parse(o)[0])}}],init(e,t,n){let r=e(),i=t();return n(r,i)}}),im={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},iv=new ea.Color;function ig(){return(self.performance||Date).now()}let iy=Object.create(null);function i_(e,t){var n;e=function(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}({},e);let r=ig();if(e.font=(n=e.font||im.defaultFontURL,s||(s="undefined"==typeof document?{}:document.createElement("a")),s.href=n,s.href),e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||im.sdfGlyphSize,null!=e.colorRanges){let t={};for(let n in e.colorRanges)if(e.colorRanges.hasOwnProperty(n)){let r=e.colorRanges[n];"number"!=typeof r&&(r=iv.set(r).getHex()),t[n]=r}e.colorRanges=t}Object.freeze(e);let{textureWidth:i,sdfExponent:a}=im,{sdfGlyphSize:o}=e,l=i/o*4,u=iy[o];if(!u){let e=document.createElement("canvas");e.width=i,e.height=256*o/l,(u=iy[o]={glyphCount:0,sdfGlyphSize:o,sdfCanvas:e,sdfTexture:new ea.Texture(e,void 0,void 0,void 0,ea.LinearFilter,ea.LinearFilter),contextLost:!1,glyphsByFont:new Map}).sdfTexture.generateMipmaps=!1,function(e){let t=e.sdfCanvas;t.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),e.contextLost=!0}),t.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),e.contextLost=!1;let n=[];e.glyphsByFont.forEach(t=>{t.forEach(t=>{n.push(ib(t,e,!0))})}),rW.all(n).then(()=>{ix(e),e.sdfTexture.needsUpdate=!0})})}(u)}let{sdfTexture:c,sdfCanvas:d}=u,f=u.glyphsByFont.get(e.font);f||u.glyphsByFont.set(e.font,f=new Map),iS(e).then(n=>{let{glyphIds:s,glyphPositions:h,fontSize:p,unitsPerEm:m,timings:v}=n,g=[],y=new Float32Array(4*s.length),_=p/m,b=0,x=0,w=ig();s.forEach((e,t)=>{let r=f.get(e);if(!r){let{path:t,pathBounds:i}=n.glyphData[e],a=Math.max(i[2]-i[0],i[3]-i[1])/o*(im.sdfMargin*o+.5),s=u.glyphCount++,l=[i[0]-a,i[1]-a,i[2]+a,i[3]+a];f.set(e,r={path:t,atlasIndex:s,sdfViewBox:l}),g.push(r)}let{sdfViewBox:i}=r,a=h[x++],l=h[x++];y[b++]=a+i[0]*_,y[b++]=l+i[1]*_,y[b++]=a+i[2]*_,y[b++]=l+i[3]*_,s[t]=r.atlasIndex}),v.quads=(v.quads||0)+(ig()-w);let S=ig();v.sdf={};let E=d.height,T=Math.ceil(u.glyphCount/l),k=Math.pow(2,Math.ceil(Math.log2(T*o)));k>E&&(console.info(`Increasing SDF texture size ${E}->${k}`),ih(d,i,k),c.dispose()),rW.all(g.map(t=>ib(t,u,e.gpuAccelerateSDF).then(({timing:e})=>{v.sdf[t.atlasIndex]=e}))).then(()=>{g.length&&!u.contextLost&&(ix(u),c.needsUpdate=!0),v.sdfTotal=ig()-S,v.total=ig()-r,t(Object.freeze({parameters:e,sdfTexture:c,sdfGlyphSize:o,sdfExponent:a,glyphBounds:y,glyphAtlasIndices:s,glyphColors:n.glyphColors,caretPositions:n.caretPositions,caretHeight:n.caretHeight,chunkedBounds:n.chunkedBounds,ascender:n.ascender,descender:n.descender,lineHeight:n.lineHeight,topBaseline:n.topBaseline,blockBounds:n.blockBounds,visibleBounds:n.visibleBounds,timings:n.timings,get totalBounds(){return console.log("totalBounds deprecated, use blockBounds instead"),n.blockBounds},get totalBlockSize(){console.log("totalBlockSize deprecated, use blockBounds instead");let[e,t,r,i]=n.blockBounds;return[r-e,i-t]}}))})}),rW.all([]).then(()=>{!u.contextLost&&(d._warm||(iu.webgl.isSupported(d),d._warm=!0))})}function ib({path:e,atlasIndex:t,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:a},s){if(a)return Promise.resolve({timing:-1});let{textureWidth:l,sdfExponent:u}=im,c=Math.max(n[2]-n[0],n[3]-n[1]),d=Math.floor(t/4),f=d%(l/r)*r,h=Math.floor(d/(l/r))*r;return function(e,t,n,r,i,a,s,l,u,c,d=!0){return d?ic(e,t,n,r,i,a,s,l,u,c).then(null,d=>(o||(console.warn("WebGL SDF generation failed, falling back to JS",d),o=!0),id(e,t,n,r,i,a,s,l,u,c))):id(e,t,n,r,i,a,s,l,u,c)}(r,r,e,n,c,u,i,f,h,t%4,s)}function ix(e){if("function"!=typeof createImageBitmap){console.info("Safari<15: applying SDF canvas workaround");let{sdfCanvas:t,sdfTexture:n}=e,{width:r,height:i}=t,a=e.sdfCanvas.getContext("webgl"),o=n.image.data;o&&o.length===r*i*4||(o=new Uint8Array(r*i*4),n.image={width:r,height:i,data:o},n.flipY=!1,n.isDataTexture=!0),a.readPixels(0,0,r,i,a.RGBA,a.UNSIGNED_BYTE,o)}}let iw=r0({name:"Typesetter",dependencies:[im,ip,function(e,t,n){let{defaultFontURL:r}=n,i=Object.create(null),a=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,s=/[\s\-\u007C\u00AD\u2010\u2012-\u2014\u2027\u2056\u2E17\u2E40]/;function l(t,n){t||(t=r);let a=i[t];if(a)a.pending?a.pending.push(n):n(a);else{var o,s;i[t]={pending:[n]},o=t,s=e=>{let n=i[t].pending;i[t]=e,n.forEach(t=>t(e))},function t(){let n=e=>{console.error(`Failure loading font ${o}${o===r?"":"; trying fallback"}`,e),o!==r&&(o=r,t())};try{let t=new XMLHttpRequest;t.open("get",o,!0),t.responseType="arraybuffer",t.onload=function(){if(t.status>=400)n(Error(t.statusText));else if(t.status>0)try{let n=e(t.response);s(n)}catch(e){n(e)}},t.onerror=n,t.send()}catch(e){n(e)}}()}}function u({text:e="",font:n=r,sdfGlyphSize:i=64,fontSize:u=1,letterSpacing:p=0,lineHeight:m="normal",maxWidth:v=a,direction:g,textAlign:y="left",textIndent:_=0,whiteSpace:b="normal",overflowWrap:x="normal",anchorX:w=0,anchorY:S=0,includeCaretPositions:E=!1,chunkedBoundsSize:T=8192,colorRanges:k=null},C,O=!1){let M=f(),P={fontLoad:0,typesetting:0};e.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),u=+u,p=+p,v=+v,m=m||"normal",_=+_,l(n,n=>{let r=isFinite(v),i=null,l=null,U=null,I=null,A=null,z=null,D=null,N=0,L=0,F="nowrap"!==b,{ascender:R,descender:j,unitsPerEm:B}=n;P.fontLoad=f()-M;let V=f(),G=u/B;"normal"===m&&(m=(R-j)/B),m*=u;let H=(m-(R-j)*G)/2,W=-(R*G+H),$=Math.min(m,(R-j)*G),q=(R+j)/2*G-$/2,Y=_,X=new h,Q=[X];n.forEachGlyph(e,u,p,(t,n,i)=>{let a;let l=e.charAt(i),c=t.advanceWidth*G,d=X.count;if("isEmpty"in t||(t.isWhitespace=!!l&&/\s/.test(l),t.canBreakAfter=!!l&&s.test(l),t.isEmpty=t.xMin===t.xMax||t.yMin===t.yMax||o.test(l)),!t.isWhitespace&&!t.isEmpty&&L++,F&&r&&!t.isWhitespace&&n+c+Y>v&&d){if(X.glyphAt(d-1).glyphObj.canBreakAfter)a=new h,Y=-n;else for(let e=d;e--;){if(0===e&&"break-word"===x){a=new h,Y=-n;break}if(X.glyphAt(e).glyphObj.canBreakAfter){a=X.splitAt(e+1);let t=a.glyphAt(0).x;Y-=t;for(let e=a.count;e--;)a.glyphAt(e).x-=t;break}}a&&(X.isSoftWrapped=!0,X=a,Q.push(X),N=v)}let f=X.glyphAt(X.count);f.glyphObj=t,f.x=n+Y,f.width=c,f.charIndex=i,"\n"===l&&(X=new h,Q.push(X),Y=-(n+c+p*u)+_)}),Q.forEach(e=>{for(let t=e.count;t--;){let{glyphObj:n,x:r,width:i}=e.glyphAt(t);if(!n.isWhitespace){e.width=r+i,e.width>N&&(N=e.width);return}}});let K=0,Z=0;if(w&&("number"==typeof w?K=-w:"string"==typeof w&&(K=-N*("left"===w?0:"center"===w?.5:"right"===w?1:c(w)))),S){if("number"==typeof S)Z=-S;else if("string"==typeof S){let e=Q.length*m;Z="top"===S?0:"top-baseline"===S?-W:"middle"===S?e/2:"bottom"===S?e:"bottom-baseline"===S?e-H+j*G:c(S)*e}}if(!O){let r,o;let s=t.getEmbeddingLevels(e,g);i=new Uint16Array(L),l=new Float32Array(2*L),U={},z=[a,a,-a,-a],D=[];let u=W;E&&(A=new Float32Array(3*e.length)),k&&(I=new Uint8Array(3*L));let c=0,f=-1,h=-1;if(Q.forEach((p,v)=>{let{count:g,width:_}=p;if(g>0){let m,v=0;for(let e=g;e--&&p.glyphAt(e).glyphObj.isWhitespace;)v++;let b=0,x=0;if("center"===y)b=(N-_)/2;else if("right"===y)b=N-_;else if("justify"===y&&p.isSoftWrapped){let e=0;for(let t=g-v;t--;)p.glyphAt(t).glyphObj.isWhitespace&&e++;x=(N-_)/e}if(x||b){let e=0;for(let t=0;t<g;t++){let n=p.glyphAt(t),r=n.glyphObj;n.x+=b+e,0!==x&&r.isWhitespace&&t<g-v&&(e+=x,n.width+=x)}}let w=t.getReorderSegments(e,s,p.glyphAt(0).charIndex,p.glyphAt(p.count-1).charIndex);for(let e=0;e<w.length;e++){let[t,n]=w[e],r=1/0,i=-1/0;for(let e=0;e<g;e++)if(p.glyphAt(e).charIndex>=t){let t=e,a=e;for(;a<g;a++){let e=p.glyphAt(a);if(e.charIndex>n)break;a<g-v&&(r=Math.min(r,e.x),i=Math.max(i,e.x+e.width))}for(let e=t;e<a;e++){let t=p.glyphAt(e);t.x=i-(t.x+t.width-r)}break}}let S=e=>m=e;for(let v=0;v<g;v++){let g=p.glyphAt(v);m=g.glyphObj;let y=m.index,_=1&s.levels[g.charIndex];if(_){let r=t.getMirroredCharacter(e[g.charIndex]);r&&n.forEachGlyph(r,0,0,S)}if(E){let{charIndex:e}=g,t=g.x+K,n=g.x+g.width+K;A[3*e]=_?n:t,A[3*e+1]=_?t:n,A[3*e+2]=u+q+Z;let r=e-f;r>1&&d(A,f,r),f=e}if(k){let{charIndex:e}=g;for(;e>h;)h++,k.hasOwnProperty(h)&&(o=k[h])}if(!m.isWhitespace&&!m.isEmpty){let e=c++;U[y]||(U[y]={path:m.path,pathBounds:[m.xMin,m.yMin,m.xMax,m.yMax]});let t=g.x+K,n=u+Z;l[2*e]=t,l[2*e+1]=n;let s=t+m.xMin*G,d=n+m.yMin*G,f=t+m.xMax*G,h=n+m.yMax*G;s<z[0]&&(z[0]=s),d<z[1]&&(z[1]=d),f>z[2]&&(z[2]=f),h>z[3]&&(z[3]=h),e%T==0&&(r={start:e,end:e,rect:[a,a,-a,-a]},D.push(r)),r.end++;let p=r.rect;if(s<p[0]&&(p[0]=s),d<p[1]&&(p[1]=d),f>p[2]&&(p[2]=f),h>p[3]&&(p[3]=h),i[e]=y,k){let t=3*e;I[t]=o>>16&255,I[t+1]=o>>8&255,I[t+2]=255&o}}}}u-=m}),A){let t=e.length-f;t>1&&d(A,f,t)}}P.typesetting=f()-V,C({glyphIds:i,glyphPositions:l,glyphData:U,caretPositions:A,caretHeight:$,glyphColors:I,chunkedBounds:D,fontSize:u,unitsPerEm:B,ascender:R*G,descender:j*G,lineHeight:m,topBaseline:W,blockBounds:[K,Z-Q.length*m,K+N,Z],visibleBounds:z,timings:P})})}function c(e){let t=e.match(/^([\d.]+)%$/),n=t?parseFloat(t[1]):NaN;return isNaN(n)?0:n/100}function d(e,t,n){let r=e[3*t],i=e[3*t+1],a=e[3*t+2],o=(i-r)/n;for(let i=0;i<n;i++){let n=(t+i)*3;e[n]=r+o*i,e[n+1]=r+o*(i+1),e[n+2]=a}}function f(){return(self.performance||Date).now()}function h(){this.data=[]}let p=["glyphObj","x","width","charIndex"];return h.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/p.length)},glyphAt(e){let t=h.flyweight;return t.data=this.data,t.index=e,t},splitAt(e){let t=new h;return t.data=this.data.splice(e*p.length),t}},h.flyweight=p.reduce((e,t,n,r)=>(Object.defineProperty(e,t,{get(){return this.data[this.index*p.length+n]},set(e){this.data[this.index*p.length+n]=e}}),e),{data:null,index:0}),{typeset:u,measure:function(e,t){u(e,e=>{let[n,r,i,a]=e.blockBounds;t({width:i-n,height:a-r})},{metricsOnly:!0})},loadFont:l}},function(){return function(e){var t,n,r,i,a={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},o={},s={};o.L=1,s[1]="L",Object.keys(a).forEach(function(e,t){o[e]=1<<t+1,s[o[e]]=e}),Object.freeze(o);var l=o.LRI|o.RLI|o.FSI,u=o.L|o.R|o.AL,c=o.B|o.S|o.WS|o.ON|o.FSI|o.LRI|o.RLI|o.PDI,d=o.BN|o.RLE|o.LRE|o.RLO|o.LRO|o.PDF,f=o.S|o.WS|o.B|l|o.PDI|d,h=null;function p(e){return!function(){if(!h){h=new Map;var e=function(e){if(a.hasOwnProperty(e)){var t=0;a[e].split(",").forEach(function(n){var r=n.split("+"),i=r[0],a=r[1];i=parseInt(i,36),a=a?parseInt(a,36):0,h.set(t+=i,o[e]);for(var s=0;s<a;s++)h.set(++t,o[e])})}};for(var t in a)e(t)}}(),h.get(e.codePointAt(0))||o.L}var m={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function v(e,t){var n,r=0,i=new Map,a=t&&new Map;return e.split(",").forEach(function e(o){if(-1!==o.indexOf("+"))for(var s=+o;s--;)e(n);else{n=o;var l=o.split(">"),u=l[0],c=l[1];u=String.fromCodePoint(r+=parseInt(u,36)),c=String.fromCodePoint(r+=parseInt(c,36)),i.set(u,c),t&&a.set(c,u)}}),{map:i,reverseMap:a}}function g(){if(!t){var e=v(m.pairs,!0),i=e.map,a=e.reverseMap;t=i,n=a,r=v(m.canonical,!1).map}}function y(e){return g(),t.get(e)||null}function _(e){return g(),n.get(e)||null}function b(e){return g(),r.get(e)||null}var x=o.L,w=o.R,S=o.EN,E=o.ES,T=o.ET,k=o.AN,C=o.CS,O=o.B,M=o.S,P=o.ON,U=o.BN,I=o.NSM,A=o.AL,z=o.LRO,D=o.RLO,N=o.LRE,L=o.RLE,F=o.PDF,R=o.LRI,j=o.RLI,B=o.FSI,V=o.PDI;function G(e){return!function(){if(!i){var e=v("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),t=e.map;e.reverseMap.forEach(function(e,n){t.set(n,e)}),i=t}}(),i.get(e)||null}function H(e,t,n,r){var i=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(i-1,null==r?i-1:+r);var a=[];return t.paragraphs.forEach(function(i){var o=Math.max(n,i.start),s=Math.min(r,i.end);if(o<s){for(var l=t.levels.slice(o,s+1),u=s;u>=o&&p(e[u])&f;u--)l[u]=i.level;for(var c=i.level,d=1/0,h=0;h<l.length;h++){var m=l[h];m>c&&(c=m),m<d&&(d=1|m)}for(var v=c;v>=d;v--)for(var g=0;g<l.length;g++)if(l[g]>=v){for(var y=g;g+1<l.length&&l[g+1]>=v;)g++;g>y&&a.push([y+n,g+n])}}}),a}function W(e,t,n,r){for(var i=H(e,t,n,r),a=[],o=0;o<e.length;o++)a[o]=o;return i.forEach(function(e){for(var t=e[0],n=e[1],r=a.slice(t,n+1),i=r.length;i--;)a[n-i]=r[i]}),a}return e.closingToOpeningBracket=_,e.getBidiCharType=p,e.getBidiCharTypeName=function(e){return s[p(e)]},e.getCanonicalBracket=b,e.getEmbeddingLevels=function(e,t){for(var n=new Uint32Array(e.length),r=0;r<e.length;r++)n[r]=p(e[r]);var i=new Map;function a(e,t){var r=n[e];n[e]=t,i.set(r,i.get(r)-1),r&c&&i.set(c,i.get(c)-1),i.set(t,(i.get(t)||0)+1),t&c&&i.set(c,(i.get(c)||0)+1)}for(var o=new Uint8Array(e.length),s=new Map,h=[],m=null,v=0;v<e.length;v++)m||h.push(m={start:v,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:tP(v,!1)}),n[v]&O&&(m.end=v,m=null);for(var g=L|N|D|z|l|V|F|O,G=function(e){return e+(1&e?1:2)},H=function(e){return e+(1&e?2:1)},W=0;W<h.length;W++){var $=[{_level:(m=h[W]).level,_override:0,_isolate:0}],q=void 0,Y=0,X=0,Q=0;i.clear();for(var K=m.start;K<=m.end;K++){var Z=n[K];if(q=$[$.length-1],i.set(Z,(i.get(Z)||0)+1),Z&c&&i.set(c,(i.get(c)||0)+1),Z&g){if(Z&(L|N)){o[K]=q._level;var J=(Z===L?H:G)(q._level);!(J<=125)||Y||X?!Y&&X++:$.push({_level:J,_override:0,_isolate:0})}else if(Z&(D|z)){o[K]=q._level;var ee=(Z===D?H:G)(q._level);!(ee<=125)||Y||X?!Y&&X++:$.push({_level:ee,_override:Z&D?w:x,_isolate:0})}else if(Z&l){Z&B&&(Z=1===tP(K+1,!0)?j:R),o[K]=q._level,q._override&&a(K,q._override);var et=(Z===j?H:G)(q._level);et<=125&&0===Y&&0===X?(Q++,$.push({_level:et,_override:0,_isolate:1,_isolInitIndex:K})):Y++}else if(Z&V){if(Y>0)Y--;else if(Q>0){for(X=0;!$[$.length-1]._isolate;)$.pop();var en=$[$.length-1]._isolInitIndex;null!=en&&(s.set(en,K),s.set(K,en)),$.pop(),Q--}q=$[$.length-1],o[K]=q._level,q._override&&a(K,q._override)}else Z&F?(0===Y&&(X>0?X--:!q._isolate&&$.length>1&&($.pop(),q=$[$.length-1])),o[K]=q._level):Z&O&&(o[K]=m.level)}else o[K]=q._level,q._override&&Z!==U&&a(K,q._override)}for(var er=[],ei=null,ea=m.start;ea<=m.end;ea++){var eo=n[ea];if(!(eo&d)){var es=o[ea],el=eo&l,eu=eo===V;ei&&es===ei._level?(ei._end=ea,ei._endsWithIsolInit=el):er.push(ei={_start:ea,_end:ea,_level:es,_startsWithPDI:eu,_endsWithIsolInit:el})}}for(var ec=[],ed=0;ed<er.length;ed++){var ef=er[ed];if(!ef._startsWithPDI||ef._startsWithPDI&&!s.has(ef._start)){for(var eh=[ei=ef],ep=void 0;ei&&ei._endsWithIsolInit&&null!=(ep=s.get(ei._end));)for(var em=ed+1;em<er.length;em++)if(er[em]._start===ep){eh.push(ei=er[em]);break}for(var ev=[],eg=0;eg<eh.length;eg++)for(var ey=eh[eg],e_=ey._start;e_<=ey._end;e_++)ev.push(e_);for(var eb=o[ev[0]],ex=m.level,ew=ev[0]-1;ew>=0;ew--)if(!(n[ew]&d)){ex=o[ew];break}var eS=ev[ev.length-1],eE=o[eS],eT=m.level;if(!(n[eS]&l)){for(var ek=eS+1;ek<=m.end;ek++)if(!(n[ek]&d)){eT=o[ek];break}}ec.push({_seqIndices:ev,_sosType:Math.max(ex,eb)%2?w:x,_eosType:Math.max(eT,eE)%2?w:x})}}for(var eC=0;eC<ec.length;eC++){var eO=ec[eC],eM=eO._seqIndices,eP=eO._sosType,eU=eO._eosType;if(i.get(I))for(var eI=0;eI<eM.length;eI++){var eA=eM[eI];if(n[eA]&I){for(var ez=eP,eD=eI-1;eD>=0;eD--)if(!(n[eM[eD]]&d)){ez=n[eM[eD]];break}a(eA,ez&(l|V)?P:ez)}}if(i.get(S))for(var eN=0;eN<eM.length;eN++){var eL=eM[eN];if(n[eL]&S)for(var eF=eN-1;eF>=-1;eF--){var eR=-1===eF?eP:n[eM[eF]];if(eR&u){eR===A&&a(eL,k);break}}}if(i.get(A))for(var ej=0;ej<eM.length;ej++){var eB=eM[ej];n[eB]&A&&a(eB,w)}if(i.get(E)||i.get(C))for(var eV=1;eV<eM.length-1;eV++){var eG=eM[eV];if(n[eG]&(E|C)){for(var eH=0,eW=0,e$=eV-1;e$>=0&&(eH=n[eM[e$]])&d;e$--);for(var eq=eV+1;eq<eM.length&&(eW=n[eM[eq]])&d;eq++);eH===eW&&(n[eG]===E?eH===S:eH&(S|k))&&a(eG,eH)}}if(i.get(S)){for(var eY=0;eY<eM.length;eY++)if(n[eM[eY]]&S){for(var eX=eY-1;eX>=0&&n[eM[eX]]&(T|d);eX--)a(eM[eX],S);for(var eQ=eY+1;eQ<eM.length&&n[eM[eQ]]&(T|d);eQ++)a(eM[eQ],S)}}if(i.get(T)||i.get(E)||i.get(C))for(var eK=0;eK<eM.length;eK++){var eZ=eM[eK];if(n[eZ]&(T|E|C)){a(eZ,P);for(var eJ=eK-1;eJ>=0&&n[eM[eJ]]&d;eJ--)a(eM[eJ],P);for(var e0=eK+1;e0<eM.length&&n[eM[e0]]&d;e0++)a(eM[e0],P)}}if(i.get(S))for(var e1=0,e2=eP;e1<eM.length;e1++){var e3=eM[e1],e5=n[e3];e5&S?e2===x&&a(e3,x):e5&u&&(e2=e5)}if(i.get(c)){for(var e4=w|S|k,e6=e4|x,e7=[],e8=[],e9=0;e9<eM.length;e9++)if(n[eM[e9]]&c){var te=e[eM[e9]],tt=void 0;if(null!==y(te)){if(e8.length<63)e8.push({char:te,seqIndex:e9});else break}else if(null!==(tt=_(te)))for(var tn=e8.length-1;tn>=0;tn--){var tr=e8[tn].char;if(tr===tt||tr===_(b(te))||y(b(tr))===te){e7.push([e8[tn].seqIndex,e9]),e8.length=tn;break}}}e7.sort(function(e,t){return e[0]-t[0]});for(var ti=0;ti<e7.length;ti++){for(var ta=e7[ti],to=ta[0],ts=ta[1],tl=!1,tu=0,tc=to+1;tc<ts;tc++){var td=eM[tc];if(n[td]&e6){tl=!0;var tf=n[td]&e4?w:x;if(tf===tU(td)){tu=tf;break}}}if(tl&&!tu){tu=eP;for(var th=to-1;th>=0;th--){var tp=eM[th];if(n[tp]&e6){var tm=n[tp]&e4?w:x;tu=tm!==tU(tp)?tm:tU(tp);break}}}if(tu){if(n[eM[to]]=n[eM[ts]]=tu,tu!==tU(eM[to])){for(var tv=to+1;tv<eM.length;tv++)if(!(n[eM[tv]]&d)){p(e[eM[tv]])&I&&(n[eM[tv]]=tu);break}}if(tu!==tU(eM[ts])){for(var tg=ts+1;tg<eM.length;tg++)if(!(n[eM[tg]]&d)){p(e[eM[tg]])&I&&(n[eM[tg]]=tu);break}}}}for(var ty=0;ty<eM.length;ty++)if(n[eM[ty]]&c){for(var t_=ty,tb=ty,tx=eP,tw=ty-1;tw>=0;tw--)if(n[eM[tw]]&d)t_=tw;else{tx=n[eM[tw]]&e4?w:x;break}for(var tS=eU,tE=ty+1;tE<eM.length;tE++)if(n[eM[tE]]&(c|d))tb=tE;else{tS=n[eM[tE]]&e4?w:x;break}for(var tT=t_;tT<=tb;tT++)n[eM[tT]]=tx===tS?tx:tU(eM[tT]);ty=tb}}}for(var tk=m.start;tk<=m.end;tk++){var tC=o[tk],tO=n[tk];if(1&tC?tO&(x|S|k)&&o[tk]++:tO&w?o[tk]++:tO&(k|S)&&(o[tk]+=2),tO&d&&(o[tk]=0===tk?m.level:o[tk-1]),tk===m.end||p(e[tk])&(M|O))for(var tM=tk;tM>=0&&p(e[tM])&f;tM--)o[tM]=m.level}}return{levels:o,paragraphs:h};function tP(t,r){for(var i=t;i<e.length;i++){var a=n[i];if(a&(w|A))return 1;if(a&(O|x)||r&&a===V)break;if(a&l){var o=function(t){for(var r=1,i=t+1;i<e.length;i++){var a=n[i];if(a&O)break;if(a&V){if(0==--r)return i}else a&l&&r++}return -1}(i);i=-1===o?e.length:o}}return 0}function tU(e){return 1&o[e]?w:x}},e.getMirroredCharacter=G,e.getMirroredCharactersMap=function(e,t,n,r){var i=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(i-1,null==r?i-1:+r);for(var a=new Map,o=n;o<=r;o++)if(1&t[o]){var s=G(e[o]);null!==s&&a.set(o,s)}return a},e.getReorderSegments=H,e.getReorderedIndices=W,e.getReorderedString=function(e,t,n,r){var i=W(e,t,n,r),a=[].concat(e);return i.forEach(function(n,r){a[r]=(1&t.levels[n]?G(e[n]):null)||e[n]}),a.join("")},e.openingToClosingBracket=y,Object.defineProperty(e,"__esModule",{value:!0}),e}({})}],init(e,t,n,r){let{defaultFontURL:i}=e;return n(t,r(),{defaultFontURL:i})}}),iS=r0({name:"Typesetter",dependencies:[iw,r3],init:(e,t)=>function(n){let r=new t;return e.typeset(n,r.resolve),r},getTransferables(e){let t=[e.glyphPositions.buffer,e.glyphIds.buffer];return e.caretPositions&&t.push(e.caretPositions.buffer),e.glyphColors&&t.push(e.glyphColors.buffer),t}}),iE=(()=>{let e={},t="aTroikaGlyphIndex";class n extends ea.InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new ea.Sphere,this.boundingBox=new ea.Box3}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){let t=this.getIndex().count;this.setDrawRange(e===ea.BackSide?t/2:0,e===ea.DoubleSide?t:t/2)}set detail(t){if(t!==this._detail){this._detail=t,("number"!=typeof t||t<1)&&(t=1);let n=function(t){let n=e[t];if(!n){let r=new ea.PlaneBufferGeometry(1,1,t,t),i=r.clone(),a=r.attributes,o=i.attributes,s=new ea.BufferGeometry,l=a.uv.count;for(let e=0;e<l;e++)o.position.array[3*e]*=-1,o.normal.array[3*e+2]*=-1;["position","normal","uv"].forEach(e=>{s.setAttribute(e,new ea.Float32BufferAttribute([...a[e].array,...o[e].array],a[e].itemSize))}),s.setIndex([...r.index.array,...i.index.array.map(e=>e+l)]),s.translate(.5,.5,0),n=e[t]=s}return n}(t);["position","normal","uv"].forEach(e=>{this.attributes[e]=n.attributes[e].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,a,o,s){r(this,"aTroikaGlyphBounds",e,4),r(this,t,n,1),r(this,"aTroikaGlyphColor",s,3),this._blockBounds=a,this._chunkedBounds=o,i(this,n.length),this._updateBounds()}_updateBounds(){let e=this._blockBounds;if(e){let{curveRadius:t,boundingBox:n}=this;if(t){let{PI:r,floor:i,min:a,max:o,sin:s,cos:l}=Math,u=r/2,c=2*r,d=Math.abs(t),f=e[0]/d,h=e[2]/d,p=i((f+u)/c)!==i((h+u)/c)?-d:a(s(f)*d,s(h)*d),m=i((f-u)/c)!==i((h-u)/c)?d:o(s(f)*d,s(h)*d),v=i((f+r)/c)!==i((h+r)/c)?2*d:o(d-l(f)*d,d-l(h)*d);n.min.set(p,e[1],t<0?-v:0),n.max.set(m,e[3],t<0?0:v)}else n.min.set(e[0],e[1],0),n.max.set(e[2],e[3],0);n.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(t).count,r=this._chunkedBounds;if(r)for(let t=r.length;t--;){n=r[t].end;let i=r[t].rect;if(i[1]<e.w&&i[3]>e.y&&i[0]<e.z&&i[2]>e.x)break}i(this,n)}}function r(e,t,n,r){let i=e.getAttribute(t);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(e.setAttribute(t,new ea.InstancedBufferAttribute(n,r)),delete e._maxInstanceCount,e.dispose()):i&&e.deleteAttribute(t)}function i(e,t){e[e.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=t}return n.prototype.setAttribute||(n.prototype.setAttribute=function(e,t){return this.attributes[e]=t,this}),n})(),iT=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,ik=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,iC=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,iO=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`,iM=(()=>{let e=new ea.MeshBasicMaterial({color:16777215,side:ea.DoubleSide,transparent:!0}),t=new ea.Matrix4,n=new ea.Vector3,r=new ea.Vector3,i=[],a=new ea.Vector3,o="+x+y";function s(e){return Array.isArray(e)?e[0]:e}let l=()=>{let t=new ea.Mesh(new ea.PlaneBufferGeometry(1,1),e);return l=()=>t,t},u=()=>{let t=new ea.Mesh(new ea.PlaneBufferGeometry(1,1,32,1),e);return u=()=>t,t},c={type:"syncstart"},d={type:"synccomplete"},f=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],h=f.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class p extends ea.Mesh{constructor(){let e=new iE;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=8421504,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=o,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(c),i_({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);let n=this._queuedSyncs;n&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{n.forEach(e=>e&&e())})),this.dispatchEvent(d),e&&e()})))}onBeforeRender(e,t,n,r,i,a){this.sync(),i.isTroikaTextMaterial&&this._prepareForRender(i),i._hadOwnSide=i.hasOwnProperty("side"),this.geometry.setSide(i._actualSide=i.side),i.side=ea.FrontSide}onAfterRender(e,t,n,r,i,a){i._hadOwnSide?i.side=i._actualSide:delete i.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let t=this._derivedMaterial,n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=e.clone());if(t&&t.baseMaterial===n||(t=this._derivedMaterial=function(e){let t=function e(t,n){let r=function(e){let t=JSON.stringify(e,ia),n=is.get(t);return null==n&&is.set(t,n=++io),n}(n),i=ie.get(t);if(i||ie.set(t,i=Object.create(null)),i[r])return new i[r];let a=`_onBeforeCompile${r}`,o=function(e){t.onBeforeCompile.call(this,e);let i=this.customProgramCacheKey()+"|"+e.vertexShader+"|"+e.fragmentShader,o=it[i];if(!o){let t=function({vertexShader:e,fragmentShader:t},n,r){let{vertexDefs:i,vertexMainIntro:a,vertexMainOutro:o,vertexTransform:s,fragmentDefs:l,fragmentMainIntro:u,fragmentMainOutro:c,fragmentColorTransform:d,customRewriter:f,timeUniform:h}=n;if(i=i||"",a=a||"",o=o||"",l=l||"",u=u||"",c=c||"",(s||f)&&(e=r6(e)),(d||f)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n"),t=r6(t)),f){let n=f({vertexShader:e,fragmentShader:t});e=n.vertexShader,t=n.fragmentShader}if(d){let e=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,t=>(e.push(t),"")),c=`${d}
${e.join("\n")}
${c}`}if(h){let e=`
uniform float ${h};
`;i=e+i,l=e+l}return s&&(e=`vec3 troika_position_${r};
vec3 troika_normal_${r};
vec2 troika_uv_${r};
${e}
`,i=`${i}
void troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${s}
}
`,a=`
troika_position_${r} = vec3(position);
troika_normal_${r} = vec3(normal);
troika_uv_${r} = vec2(uv);
troikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});
${a}
`,e=e.replace(/\b(position|normal|uv)\b/g,(e,t,n,i)=>/\battribute\s+vec[23]\s+$/.test(i.substr(0,n))?t:`troika_${t}_${r}`)),{vertexShader:e=ii(e,r,i,a,o),fragmentShader:t=ii(t,r,l,u,c)}}(e,n,r);o=it[i]=t}e.vertexShader=o.vertexShader,e.fragmentShader=o.fragmentShader,r8(e.uniforms,this.uniforms),n.timeUniform&&(e.uniforms[n.timeUniform]={get value(){return Date.now()-r9}}),this[a]&&this[a](e)},s=function(){return l(n.chained?t:t.clone())},l=function(e){let i=Object.create(e,u);return Object.defineProperty(i,"baseMaterial",{value:t}),Object.defineProperty(i,"id",{value:ir++}),i.uuid=function(){let e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=r7[255&e]+r7[e>>8&255]+r7[e>>16&255]+r7[e>>24&255]+"-"+r7[255&t]+r7[t>>8&255]+"-"+r7[t>>16&15|64]+r7[t>>24&255]+"-"+r7[63&n|128]+r7[n>>8&255]+"-"+r7[n>>16&255]+r7[n>>24&255]+r7[255&r]+r7[r>>8&255]+r7[r>>16&255]+r7[r>>24&255];return i.toUpperCase()}(),i.uniforms=r8({},e.uniforms,n.uniforms),i.defines=r8({},e.defines,n.defines),i.defines[`TROIKA_DERIVED_MATERIAL_${r}`]="",i.extensions=r8({},e.extensions,n.extensions),i._listeners=void 0,i},u={constructor:{value:s},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+r}},onBeforeCompile:{get:()=>o,set(e){this[a]=e}},copy:{writable:!0,configurable:!0,value:function(e){return t.copy.call(this,e),t.isShaderMaterial||t.isDerivedMaterial||(r8(this.extensions,e.extensions),r8(this.defines,e.defines),r8(this.uniforms,ea.UniformsUtils.clone(e.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){let e=new t.constructor;return l(e).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let r=this._depthMaterial;return r||((r=this._depthMaterial=e(t.isDerivedMaterial?t.getDepthMaterial():new ea.MeshDepthMaterial({depthPacking:ea.RGBADepthPacking}),n)).defines.IS_DEPTH_MATERIAL="",r.uniforms=this.uniforms),r}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let r=this._distanceMaterial;return r||((r=this._distanceMaterial=e(t.isDerivedMaterial?t.getDistanceMaterial():new ea.MeshDistanceMaterial,n)).defines.IS_DISTANCE_MATERIAL="",r.uniforms=this.uniforms),r}},dispose:{writable:!0,configurable:!0,value(){let{_depthMaterial:e,_distanceMaterial:n}=this;e&&e.dispose(),n&&n.dispose(),t.dispose.call(this)}}};return i[r]=s,new s}(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new ea.Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new ea.Vector4(0,0,0,0)},uTroikaClipRect:{value:new ea.Vector4(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new ea.Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new ea.Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new ea.Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:iT,vertexTransform:ik,fragmentDefs:iC,fragmentColorTransform:iO,customRewriter({vertexShader:e,fragmentShader:t}){let n=/\buniform\s+vec3\s+diffuse\b/;return n.test(t)&&(t=t.replace(n,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),n.test(e)||(e=e.replace(r4,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:e,fragmentShader:t}}});return t.transparent=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),t}(n),n.addEventListener("dispose",function e(){n.removeEventListener("dispose",e),t.dispose()})),!this.outlineWidth&&!this.outlineBlur&&!this.outlineOffsetX&&!this.outlineOffsetY)return t;{let e=t._outlineMtl;return e||((e=t._outlineMtl=Object.create(t,{id:{value:t.id+.1}})).isTextOutlineMaterial=!0,e.depthWrite=!1,e.map=null,t.addEventListener("dispose",function n(){t.removeEventListener("dispose",n),e.dispose()})),[e,t]}}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return s(this.material).getDepthMaterial()}get customDistanceMaterial(){return s(this.material).getDistanceMaterial()}_prepareForRender(e){let i=e.isTextOutlineMaterial,s=e.uniforms,l=this.textRenderInfo;if(l){let e,t,n;let{sdfTexture:r,blockBounds:a}=l;s.uTroikaSDFTexture.value=r,s.uTroikaSDFTextureSize.value.set(r.image.width,r.image.height),s.uTroikaSDFGlyphSize.value=l.sdfGlyphSize,s.uTroikaSDFExponent.value=l.sdfExponent,s.uTroikaTotalBounds.value.fromArray(a),s.uTroikaUseGlyphColors.value=!i&&!!l.glyphColors;let o=0,u=0,c=0,d=0,f=0;if(i){let{outlineWidth:t,outlineOffsetX:n,outlineOffsetY:r,outlineBlur:i,outlineOpacity:a}=this;o=this._parsePercent(t)||0,u=Math.max(0,this._parsePercent(i)||0),e=a,d=this._parsePercent(n)||0,f=this._parsePercent(r)||0}else(c=Math.max(0,this._parsePercent(this.strokeWidth)||0))&&(n=this.strokeColor,s.uTroikaStrokeColor.value.set(null==n?8421504:n),null==(t=this.strokeOpacity)&&(t=1)),e=this.fillOpacity;s.uTroikaDistanceOffset.value=o,s.uTroikaPositionOffset.value.set(d,f),s.uTroikaBlurRadius.value=u,s.uTroikaStrokeWidth.value=c,s.uTroikaStrokeOpacity.value=t,s.uTroikaFillOpacity.value=null==e?1:e,s.uTroikaCurveRadius.value=this.curveRadius||0;let h=this.clipRect;if(h&&Array.isArray(h)&&4===h.length)s.uTroikaClipRect.value.fromArray(h);else{let e=100*(this.fontSize||.1);s.uTroikaClipRect.value.set(a[0]-e,a[1]-e,a[2]+e,a[3]+e)}this.geometry.applyClipRect(s.uTroikaClipRect.value)}s.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;let u=i?this.outlineColor||0:this.color;if(null==u)delete e.color;else{let t=e.hasOwnProperty("color")?e.color:e.color=new ea.Color;(u!==t._input||"object"==typeof u)&&t.set(t._input=u)}let c=this.orientation||o;if(c!==e._orientation){let i=s.uTroikaOrient.value,l=(c=c.replace(/[^-+xyz]/g,""))!==o&&c.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,e,o,s,u]=l;n.set(0,0,0)[o]="-"===e?1:-1,r.set(0,0,0)[u]="-"===s?-1:1,t.lookAt(a,n.cross(r),r),i.setFromMatrix4(t)}else i.identity();e._orientation=c}}_parsePercent(e){if("string"==typeof e){let t=e.match(/^(-?[\d.]+)%$/),n=t?parseFloat(t[1]):NaN;e=(isNaN(n)?0:n/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new ea.Vector2){t.copy(e);let n=this.curveRadius;return n&&(t.x=Math.atan2(e.x,Math.abs(n)-Math.abs(e.z))*Math.abs(n)),t}worldPositionToTextCoords(e,t=new ea.Vector2){return n.copy(e),this.localPositionToTextCoords(this.worldToLocal(n),t)}raycast(e,t){let{textRenderInfo:n,curveRadius:r}=this;if(n){let a=n.blockBounds,o=r?u():l(),s=o.geometry,{position:c,uv:d}=s.attributes;for(let e=0;e<d.count;e++){let t=a[0]+d.getX(e)*(a[2]-a[0]),n=a[1]+d.getY(e)*(a[3]-a[1]),i=0;r&&(i=r-Math.cos(t/r)*r,t=Math.sin(t/r)*r),c.setXYZ(e,t,n,i)}s.boundingSphere=this.geometry.boundingSphere,s.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,i.length=0,o.raycast(e,i);for(let e=0;e<i.length;e++)i[e].object=this,t.push(i[e])}}copy(e){let t=this.geometry;return super.copy(e),this.geometry=t,h.forEach(t=>{this[t]=e[t]}),this}clone(){return new this.constructor().copy(this)}}f.forEach(e=>{let t="_private_"+e;Object.defineProperty(p.prototype,e,{get(){return this[t]},set(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})});let m=!1;return Object.defineProperty(p.prototype,"anchor",{get(){return this._deprecated_anchor},set(e){this._deprecated_anchor=e,m||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),m=!0),Array.isArray(e)?(this.anchorX=`${100*(+e[0]||0)}%`,this.anchorY=`${100*(+e[1]||0)}%`):this.anchorX=this.anchorY=0}}),p})();new WeakMap,new WeakMap;let iP=ei.forwardRef(({anchorX:e="center",anchorY:t="middle",font:n,children:r,characters:i,onSync:a,...o},s)=>{let l=eK(({invalidate:e})=>e),[u]=ei.useState(()=>new iM),[c,d]=ei.useMemo(()=>{let e=[],t="";return ei.Children.forEach(r,n=>{"string"==typeof n||"number"==typeof n?t+=n:e.push(n)}),[e,t]},[r]);return em(()=>new Promise(e=>(function({font:e,characters:t,sdfGlyphSize:n},r){i_({font:e,sdfGlyphSize:n,text:Array.isArray(t)?t.join("\n"):""+t},r)})({font:n,characters:i},e)),["troika-text",n,i]),ei.useLayoutEffect(()=>void u.sync(()=>{l(),a&&a(u)})),ei.useEffect(()=>()=>u.dispose(),[u]),ei.createElement("primitive",te({object:u,ref:s,font:n,text:d,anchorX:e,anchorY:t},o),c)});function iU(e,t="pointer",n="auto"){ei.useEffect(()=>{if(e)return document.body.style.cursor=t,()=>void(document.body.style.cursor=n)},[e])}var iI=n(745);let iA=new ea.Vector3,iz=new ea.Vector3,iD=new ea.Vector3;function iN(e,t,n){let r=iA.setFromMatrixPosition(e.matrixWorld);r.project(t);let i=n.width/2,a=n.height/2;return[r.x*i+i,-(r.y*a)+a]}let iL=e=>1e-10>Math.abs(e)?0:e;function iF(e,t,n=""){let r="matrix3d(";for(let n=0;16!==n;n++)r+=iL(t[n]*e.elements[n])+(15!==n?",":")");return n+r}let iR=(U=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],e=>iF(e,U)),ij=(I=e=>[1/e,1/e,1/e,1,-1/e,-1/e,-1/e,-1,1/e,1/e,1/e,1,1,1,1,1],(e,t)=>iF(e,I(t),"translate(-50%,-50%)")),iB=ei.forwardRef(({children:e,eps:t=.001,style:n,className:r,prepend:i,center:a,fullscreen:o,portal:s,distanceFactor:l,sprite:u=!1,transform:c=!1,occlude:d,onOcclude:f,zIndexRange:h=[16777271,0],calculatePosition:p=iN,as:m="div",wrapperClass:v,pointerEvents:g="auto",...y},_)=>{var b;let x=eK(({gl:e})=>e),w=eK(({camera:e})=>e),S=eK(({scene:e})=>e),E=eK(({size:e})=>e),T=eK(({raycaster:e})=>e),[k]=ei.useState(()=>document.createElement(m)),C=ei.useRef(),O=ei.useRef(null),M=ei.useRef(0),P=ei.useRef([0,0]),U=ei.useRef(null),I=ei.useRef(null),A=null!==(b=null==s?void 0:s.current)&&void 0!==b?b:x.domElement.parentNode;ei.useLayoutEffect(()=>{if(O.current){let e=C.current=iI.createRoot(k);if(S.updateMatrixWorld(),c)k.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{let e=p(O.current,w,E);k.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${e[0]}px,${e[1]}px,0);transform-origin:0 0;`}return A&&(i?A.prepend(k):A.appendChild(k)),()=>{A&&A.removeChild(k),e.unmount()}}},[A,c]),ei.useLayoutEffect(()=>{v&&(k.className=v)},[v]);let z=ei.useMemo(()=>c?{position:"absolute",top:0,left:0,width:E.width,height:E.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:a?"translate3d(-50%,-50%,0)":"none",...o&&{top:-E.height/2,left:-E.width/2,width:E.width,height:E.height},...n},[n,a,o,E,c]),D=ei.useMemo(()=>({position:"absolute",pointerEvents:g}),[g]);ei.useLayoutEffect(()=>{var t,i;c?null==(t=C.current)||t.render(ei.createElement("div",{ref:U,style:z},ei.createElement("div",{ref:I,style:D},ei.createElement("div",{ref:_,className:r,style:n,children:e})))):null==(i=C.current)||i.render(ei.createElement("div",{ref:_,style:z,className:r,children:e}))});let N=ei.useRef(!0);return eZ(()=>{if(O.current){w.updateMatrixWorld(),O.current.updateWorldMatrix(!0,!1);let e=c?P.current:p(O.current,w,E);if(c||Math.abs(M.current-w.zoom)>t||Math.abs(P.current[0]-e[0])>t||Math.abs(P.current[1]-e[1])>t){let t=function(e,t){let n=iA.setFromMatrixPosition(e.matrixWorld),r=iz.setFromMatrixPosition(t.matrixWorld),i=n.sub(r),a=t.getWorldDirection(iD);return i.angleTo(a)>Math.PI/2}(O.current,w),n=!1;"boolean"==typeof d?!0===d&&(n=[S]):Array.isArray(d)&&(n=d.map(e=>e.current));let r=N.current;if(n){let e=function(e,t,n,r){let i=iA.setFromMatrixPosition(e.matrixWorld),a=i.clone();a.project(t),n.setFromCamera(a,t);let o=n.intersectObjects(r,!0);if(o.length){let e=o[0].distance,t=i.distanceTo(n.ray.origin);return t<e}return!0}(O.current,w,T,n);N.current=e&&!t}else N.current=!t;if(r!==N.current&&(f?f(!N.current):k.style.display=N.current?"block":"none"),k.style.zIndex=`${function(e,t,n){if(t instanceof ea.PerspectiveCamera||t instanceof ea.OrthographicCamera){let r=iA.setFromMatrixPosition(e.matrixWorld),i=iz.setFromMatrixPosition(t.matrixWorld),a=r.distanceTo(i),o=(n[1]-n[0])/(t.far-t.near),s=n[1]-o*t.far;return Math.round(o*a+s)}}(O.current,w,h)}`,c){let[e,t]=[E.width/2,E.height/2],n=w.projectionMatrix.elements[5]*t,{isOrthographicCamera:r,top:i,left:a,bottom:o,right:s}=w,c=iR(w.matrixWorldInverse),d=r?`scale(${n})translate(${iL(-(s+a)/2)}px,${iL((i+o)/2)}px)`:`translateZ(${n}px)`,f=O.current.matrixWorld;u&&((f=w.matrixWorldInverse.clone().transpose().copyPosition(f).scale(O.current.scale)).elements[3]=f.elements[7]=f.elements[11]=0,f.elements[15]=1),k.style.width=E.width+"px",k.style.height=E.height+"px",k.style.perspective=r?"":`${n}px`,U.current&&I.current&&(U.current.style.transform=`${d}${c}translate(${e}px,${t}px)`,I.current.style.transform=ij(f,1/((l||10)/400)))}else{let t=void 0===l?1:function(e,t){if(t instanceof ea.OrthographicCamera)return t.zoom;if(!(t instanceof ea.PerspectiveCamera))return 1;{let n=iA.setFromMatrixPosition(e.matrixWorld),r=iz.setFromMatrixPosition(t.matrixWorld),i=t.fov*Math.PI/180,a=n.distanceTo(r),o=2*Math.tan(i/2)*a;return 1/o}}(O.current,w)*l;k.style.transform=`translate3d(${e[0]}px,${e[1]}px,0) scale(${t})`}P.current=e,M.current=w.zoom}}}),ei.createElement("group",te({},y,{ref:O}))});var iV=n(2050),iG=n(4928),iH=n(1132),iW=n(1314);let i$=["primitive"].concat(Object.keys(ea).filter(e=>/^[A-Z]/.test(e)).map(e=>e[0].toLowerCase()+e.slice(1)));iG.Globals.assign({createStringInterpolator:iH.qS,colors:iH.O9,frameLoop:"demand"}),function(e,t){let n={callback:e};t.add(n),()=>void t.delete(n)}(()=>{iH.Wn.advance()},eW);let iq=(0,iW.Ld)(i$,{applyAnimatedValues:e4}),iY=iq.animated,iX={LEFT:1,RIGHT:2,MIDDLE:4},iQ=Object.freeze({NONE:0,ROTATE:1,TRUCK:2,OFFSET:4,DOLLY:8,ZOOM:16,TOUCH_ROTATE:32,TOUCH_TRUCK:64,TOUCH_OFFSET:128,TOUCH_DOLLY:256,TOUCH_ZOOM:512,TOUCH_DOLLY_TRUCK:1024,TOUCH_DOLLY_OFFSET:2048,TOUCH_DOLLY_ROTATE:4096,TOUCH_ZOOM_TRUCK:8192,TOUCH_ZOOM_OFFSET:16384,TOUCH_ZOOM_ROTATE:32768}),iK={NONE:0,IN:1,OUT:-1};function iZ(e){return e.isPerspectiveCamera}function iJ(e){return e.isOrthographicCamera}let i0=2*Math.PI,i1=Math.PI/2,i2=Math.PI/180;function i3(e,t,n){return Math.max(t,Math.min(n,e))}function i5(e,t=1e-5){return Math.abs(e)<t}function i4(e,t,n=1e-5){return i5(e-t,n)}function i6(e,t){return Math.round(e/t)*t}function i7(e){return isFinite(e)?e:e<0?-Number.MAX_VALUE:Number.MAX_VALUE}function i8(e){return Math.abs(e)<Number.MAX_VALUE?e:e*(1/0)}function i9(e,t,n,r,i=1/0,a){r=Math.max(1e-4,r);let o=2/r,s=o*a,l=1/(1+s+.48*s*s+.235*s*s*s),u=e-t,c=t,d=i*r;t=e-(u=i3(u,-d,d));let f=(n.value+o*u)*a;n.value=(n.value-o*f)*l;let h=t+(u+f)*l;return c-e>0==h>c&&(h=c,n.value=(h-c)/a),h}function ae(e,t,n,r,i=1/0,a,o){r=Math.max(1e-4,r);let s=2/r,l=s*a,u=1/(1+l+.48*l*l+.235*l*l*l),c=t.x,d=t.y,f=t.z,h=e.x-c,p=e.y-d,m=e.z-f,v=c,g=d,y=f,_=i*r,b=h*h+p*p+m*m;if(b>_*_){let e=Math.sqrt(b);h=h/e*_,p=p/e*_,m=m/e*_}c=e.x-h,d=e.y-p,f=e.z-m;let x=(n.x+s*h)*a,w=(n.y+s*p)*a,S=(n.z+s*m)*a;n.x=(n.x-s*x)*u,n.y=(n.y-s*w)*u,n.z=(n.z-s*S)*u,o.x=c+(h+x)*u,o.y=d+(p+w)*u,o.z=f+(m+S)*u;let E=v-e.x,T=g-e.y,k=y-e.z,C=o.x-v,O=o.y-g,M=o.z-y;return E*C+T*O+k*M>0&&(o.x=v,o.y=g,o.z=y,n.x=(o.x-v)/a,n.y=(o.y-g)/a,n.z=(o.z-y)/a),o}function at(e,t){t.set(0,0),e.forEach(e=>{t.x+=e.clientX,t.y+=e.clientY}),t.x/=e.length,t.y/=e.length}function an(e,t){return!!iJ(e)&&(console.warn(`${t} is not supported in OrthographicCamera`),!0)}class ar{constructor(){this._listeners={}}addEventListener(e,t){let n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){let n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){let n=this._listeners[e];if(void 0!==n){let e=n.indexOf(t);-1!==e&&n.splice(e,1)}}removeAllEventListeners(e){if(!e){this._listeners={};return}Array.isArray(this._listeners[e])&&(this._listeners[e].length=0)}dispatchEvent(e){let t=this._listeners[e.type];if(void 0!==t){e.target=this;let n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e)}}}let ai=1/8,aa="undefined"!=typeof window,ao=aa&&/Mac/.test(navigator.platform),as=!(aa&&"PointerEvent"in window);class al extends ar{static install(e){u=Object.freeze(new(l=e.THREE).Vector3(0,0,0)),c=Object.freeze(new l.Vector3(0,1,0)),d=Object.freeze(new l.Vector3(0,0,1)),f=new l.Vector2,h=new l.Vector3,p=new l.Vector3,m=new l.Vector3,v=new l.Vector3,g=new l.Vector3,y=new l.Vector3,_=new l.Vector3,b=new l.Vector3,x=new l.Vector3,w=new l.Spherical,S=new l.Spherical,E=new l.Box3,T=new l.Box3,k=new l.Sphere,C=new l.Quaternion,O=new l.Quaternion,M=new l.Matrix4,P=new l.Raycaster}static get ACTION(){return iQ}constructor(e,t){super(),this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.minDistance=Number.EPSILON,this.maxDistance=1/0,this.infinityDolly=!1,this.minZoom=.01,this.maxZoom=1/0,this.smoothTime=.25,this.draggingSmoothTime=.125,this.maxSpeed=1/0,this.azimuthRotateSpeed=1,this.polarRotateSpeed=1,this.dollySpeed=1,this.dollyDragInverted=!1,this.truckSpeed=2,this.dollyToCursor=!1,this.dragToOffset=!1,this.verticalDragToForward=!1,this.boundaryFriction=0,this.restThreshold=.01,this.colliderMeshes=[],this.cancel=()=>{},this._enabled=!0,this._state=iQ.NONE,this._viewport=null,this._changedDolly=0,this._changedZoom=0,this._hasRested=!0,this._boundaryEnclosesCamera=!1,this._needsUpdate=!0,this._updatedLastTime=!1,this._elementRect=new DOMRect,this._isDragging=!1,this._activePointers=[],this._lockedPointer=null,this._interactiveArea=new DOMRect(0,0,1,1),this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._isUserControllingOffset=!1,this._isUserControllingZoom=!1,this._lastDollyDirection=iK.NONE,this._thetaVelocity={value:0},this._phiVelocity={value:0},this._radiusVelocity={value:0},this._targetVelocity=new l.Vector3,this._focalOffsetVelocity=new l.Vector3,this._zoomVelocity={value:0},this._truckInternal=(e,t,n)=>{let r,i;if(iZ(this._camera)){let n=h.copy(this._camera.position).sub(this._target),a=this._camera.getEffectiveFOV()*i2,o=n.length()*Math.tan(.5*a);r=this.truckSpeed*e*o/this._elementRect.height,i=this.truckSpeed*t*o/this._elementRect.height}else{if(!iJ(this._camera))return;let n=this._camera;r=e*(n.right-n.left)/n.zoom/this._elementRect.width,i=t*(n.top-n.bottom)/n.zoom/this._elementRect.height}this.verticalDragToForward?(n?this.setFocalOffset(this._focalOffsetEnd.x+r,this._focalOffsetEnd.y,this._focalOffsetEnd.z,!0):this.truck(r,0,!0),this.forward(-i,!0)):n?this.setFocalOffset(this._focalOffsetEnd.x+r,this._focalOffsetEnd.y+i,this._focalOffsetEnd.z,!0):this.truck(r,i,!0)},this._rotateInternal=(e,t)=>{let n=i0*this.azimuthRotateSpeed*e/this._elementRect.height,r=i0*this.polarRotateSpeed*t/this._elementRect.height;this.rotate(n,r,!0)},this._dollyInternal=(e,t,n)=>{let r=Math.pow(.95,-e*this.dollySpeed),i=this._sphericalEnd.radius,a=this._sphericalEnd.radius*r,o=l.MathUtils.clamp(a,this.minDistance,this.maxDistance),s=o-a;this.infinityDolly&&this.dollyToCursor?this._dollyToNoClamp(a,!0):(this.infinityDolly&&!this.dollyToCursor&&this.dollyInFixed(s,!0),this._dollyToNoClamp(o,!0)),this.dollyToCursor&&(this._changedDolly+=(this.infinityDolly?a:o)-i,this._dollyControlCoord.set(t,n)),this._lastDollyDirection=Math.sign(-e)},this._zoomInternal=(e,t,n)=>{let r=Math.pow(.95,e*this.dollySpeed),i=this._zoom,a=this._zoom*r;this.zoomTo(a,!0),this.dollyToCursor&&(this._changedZoom+=a-i,this._dollyControlCoord.set(t,n))},void 0===l&&console.error("camera-controls: `THREE` is undefined. You must first run `CameraControls.install( { THREE: THREE } )`. Check the docs for further information."),this._camera=e,this._yAxisUpSpace=new l.Quaternion().setFromUnitVectors(this._camera.up,c),this._yAxisUpSpaceInverse=this._yAxisUpSpace.clone().invert(),this._state=iQ.NONE,this._target=new l.Vector3,this._targetEnd=this._target.clone(),this._focalOffset=new l.Vector3,this._focalOffsetEnd=this._focalOffset.clone(),this._spherical=new l.Spherical().setFromVector3(h.copy(this._camera.position).applyQuaternion(this._yAxisUpSpace)),this._sphericalEnd=this._spherical.clone(),this._lastDistance=this._spherical.radius,this._zoom=this._camera.zoom,this._zoomEnd=this._zoom,this._lastZoom=this._zoom,this._nearPlaneCorners=[new l.Vector3,new l.Vector3,new l.Vector3,new l.Vector3],this._updateNearPlaneCorners(),this._boundary=new l.Box3(new l.Vector3(-1/0,-1/0,-1/0),new l.Vector3(1/0,1/0,1/0)),this._cameraUp0=this._camera.up.clone(),this._target0=this._target.clone(),this._position0=this._camera.position.clone(),this._zoom0=this._zoom,this._focalOffset0=this._focalOffset.clone(),this._dollyControlCoord=new l.Vector2,this.mouseButtons={left:iQ.ROTATE,middle:iQ.DOLLY,right:iQ.TRUCK,wheel:iZ(this._camera)?iQ.DOLLY:iJ(this._camera)?iQ.ZOOM:iQ.NONE},this.touches={one:iQ.TOUCH_ROTATE,two:iZ(this._camera)?iQ.TOUCH_DOLLY_TRUCK:iJ(this._camera)?iQ.TOUCH_ZOOM_TRUCK:iQ.NONE,three:iQ.TOUCH_TRUCK};let n=new l.Vector2,r=new l.Vector2,i=new l.Vector2,a=e=>{if(!this._enabled||!this._domElement)return;if(0!==this._interactiveArea.left||0!==this._interactiveArea.top||1!==this._interactiveArea.width||1!==this._interactiveArea.height){let t=this._domElement.getBoundingClientRect(),n=e.clientX/t.width,r=e.clientY/t.height;if(n<this._interactiveArea.left||n>this._interactiveArea.right||r<this._interactiveArea.top||r>this._interactiveArea.bottom)return}let t="mouse"!==e.pointerType?null:(e.buttons&iX.LEFT)===iX.LEFT?iX.LEFT:(e.buttons&iX.MIDDLE)===iX.MIDDLE?iX.MIDDLE:(e.buttons&iX.RIGHT)===iX.RIGHT?iX.RIGHT:null;if(null!==t){let e=this._findPointerByMouseButton(t);e&&this._disposePointer(e)}if((e.buttons&iX.LEFT)===iX.LEFT&&this._lockedPointer)return;let n={pointerId:e.pointerId,clientX:e.clientX,clientY:e.clientY,deltaX:0,deltaY:0,mouseButton:t};this._activePointers.push(n),this._domElement.ownerDocument.removeEventListener("pointermove",s,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",d),this._domElement.ownerDocument.addEventListener("pointermove",s,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",d),this._isDragging=!0,y(e)},o=e=>{if(!this._enabled||!this._domElement||this._lockedPointer)return;if(0!==this._interactiveArea.left||0!==this._interactiveArea.top||1!==this._interactiveArea.width||1!==this._interactiveArea.height){let t=this._domElement.getBoundingClientRect(),n=e.clientX/t.width,r=e.clientY/t.height;if(n<this._interactiveArea.left||n>this._interactiveArea.right||r<this._interactiveArea.top||r>this._interactiveArea.bottom)return}let t=(e.buttons&iX.LEFT)===iX.LEFT?iX.LEFT:(e.buttons&iX.MIDDLE)===iX.MIDDLE?iX.MIDDLE:(e.buttons&iX.RIGHT)===iX.RIGHT?iX.RIGHT:null;if(null!==t){let e=this._findPointerByMouseButton(t);e&&this._disposePointer(e)}let n={pointerId:1,clientX:e.clientX,clientY:e.clientY,deltaX:0,deltaY:0,mouseButton:(e.buttons&iX.LEFT)===iX.LEFT?iX.LEFT:(e.buttons&iX.MIDDLE)===iX.LEFT?iX.MIDDLE:(e.buttons&iX.RIGHT)===iX.LEFT?iX.RIGHT:null};this._activePointers.push(n),this._domElement.ownerDocument.removeEventListener("mousemove",u),this._domElement.ownerDocument.removeEventListener("mouseup",p),this._domElement.ownerDocument.addEventListener("mousemove",u),this._domElement.ownerDocument.addEventListener("mouseup",p),this._isDragging=!0,y(e)},s=e=>{e.cancelable&&e.preventDefault();let t=e.pointerId,n=this._lockedPointer||this._findPointerById(t);if(n){if(n.clientX=e.clientX,n.clientY=e.clientY,n.deltaX=e.movementX,n.deltaY=e.movementY,this._state=0,"touch"===e.pointerType)switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three}else(!this._isDragging&&this._lockedPointer||this._isDragging&&(e.buttons&iX.LEFT)===iX.LEFT)&&(this._state=this._state|this.mouseButtons.left),this._isDragging&&(e.buttons&iX.MIDDLE)===iX.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),this._isDragging&&(e.buttons&iX.RIGHT)===iX.RIGHT&&(this._state=this._state|this.mouseButtons.right);_()}},u=e=>{let t=this._lockedPointer||this._findPointerById(1);t&&(t.clientX=e.clientX,t.clientY=e.clientY,t.deltaX=e.movementX,t.deltaY=e.movementY,this._state=0,(this._lockedPointer||(e.buttons&iX.LEFT)===iX.LEFT)&&(this._state=this._state|this.mouseButtons.left),(e.buttons&iX.MIDDLE)===iX.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(e.buttons&iX.RIGHT)===iX.RIGHT&&(this._state=this._state|this.mouseButtons.right),_())},d=e=>{let t=this._findPointerById(e.pointerId);if(!t||t!==this._lockedPointer){if(t&&this._disposePointer(t),"touch"===e.pointerType)switch(this._activePointers.length){case 0:this._state=iQ.NONE;break;case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three}else this._state=iQ.NONE;b()}},p=()=>{let e=this._findPointerById(1);e&&e===this._lockedPointer||(e&&this._disposePointer(e),this._state=iQ.NONE,b())},m=-1,v=e=>{if(!this._domElement||!this._enabled||this.mouseButtons.wheel===iQ.NONE)return;if(0!==this._interactiveArea.left||0!==this._interactiveArea.top||1!==this._interactiveArea.width||1!==this._interactiveArea.height){let t=this._domElement.getBoundingClientRect(),n=e.clientX/t.width,r=e.clientY/t.height;if(n<this._interactiveArea.left||n>this._interactiveArea.right||r<this._interactiveArea.top||r>this._interactiveArea.bottom)return}if(e.preventDefault(),this.dollyToCursor||this.mouseButtons.wheel===iQ.ROTATE||this.mouseButtons.wheel===iQ.TRUCK){let e=performance.now();m-e<1e3&&this._getClientRect(this._elementRect),m=e}let t=ao?-1:-3,n=1===e.deltaMode?e.deltaY/t:e.deltaY/(10*t),r=this.dollyToCursor?(e.clientX-this._elementRect.x)/this._elementRect.width*2-1:0,i=this.dollyToCursor?-((e.clientY-this._elementRect.y)/this._elementRect.height*2)+1:0;switch(this.mouseButtons.wheel){case iQ.ROTATE:this._rotateInternal(e.deltaX,e.deltaY),this._isUserControllingRotate=!0;break;case iQ.TRUCK:this._truckInternal(e.deltaX,e.deltaY,!1),this._isUserControllingTruck=!0;break;case iQ.OFFSET:this._truckInternal(e.deltaX,e.deltaY,!0),this._isUserControllingOffset=!0;break;case iQ.DOLLY:this._dollyInternal(-n,r,i),this._isUserControllingDolly=!0;break;case iQ.ZOOM:this._zoomInternal(-n,r,i),this._isUserControllingZoom=!0}this.dispatchEvent({type:"control"})},g=e=>{if(this._domElement&&this._enabled){if(this.mouseButtons.right===al.ACTION.NONE){let t=e instanceof PointerEvent?e.pointerId:(MouseEvent,0),n=this._findPointerById(t);n&&this._disposePointer(n),this._domElement.ownerDocument.removeEventListener("pointermove",s,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",d),this._domElement.ownerDocument.removeEventListener("mousemove",u),this._domElement.ownerDocument.removeEventListener("mouseup",p);return}e.preventDefault()}},y=e=>{if(!this._enabled)return;at(this._activePointers,f),this._getClientRect(this._elementRect),n.copy(f),r.copy(f);let t=this._activePointers.length>=2;if(t){let e=f.x-this._activePointers[1].clientX,t=f.y-this._activePointers[1].clientY,n=Math.sqrt(e*e+t*t);i.set(0,n);let a=(this._activePointers[0].clientX+this._activePointers[1].clientX)*.5,o=(this._activePointers[0].clientY+this._activePointers[1].clientY)*.5;r.set(a,o)}if(this._state=0,e){if("pointerType"in e&&"touch"===e.pointerType)switch(this._activePointers.length){case 1:this._state=this.touches.one;break;case 2:this._state=this.touches.two;break;case 3:this._state=this.touches.three}else this._lockedPointer||(e.buttons&iX.LEFT)!==iX.LEFT||(this._state=this._state|this.mouseButtons.left),(e.buttons&iX.MIDDLE)===iX.MIDDLE&&(this._state=this._state|this.mouseButtons.middle),(e.buttons&iX.RIGHT)===iX.RIGHT&&(this._state=this._state|this.mouseButtons.right)}else this._lockedPointer&&(this._state=this._state|this.mouseButtons.left);((this._state&iQ.ROTATE)===iQ.ROTATE||(this._state&iQ.TOUCH_ROTATE)===iQ.TOUCH_ROTATE||(this._state&iQ.TOUCH_DOLLY_ROTATE)===iQ.TOUCH_DOLLY_ROTATE||(this._state&iQ.TOUCH_ZOOM_ROTATE)===iQ.TOUCH_ZOOM_ROTATE)&&(this._sphericalEnd.theta=this._spherical.theta,this._sphericalEnd.phi=this._spherical.phi,this._thetaVelocity.value=0,this._phiVelocity.value=0),((this._state&iQ.TRUCK)===iQ.TRUCK||(this._state&iQ.TOUCH_TRUCK)===iQ.TOUCH_TRUCK||(this._state&iQ.TOUCH_DOLLY_TRUCK)===iQ.TOUCH_DOLLY_TRUCK||(this._state&iQ.TOUCH_ZOOM_TRUCK)===iQ.TOUCH_ZOOM_TRUCK)&&(this._targetEnd.copy(this._target),this._targetVelocity.set(0,0,0)),((this._state&iQ.DOLLY)===iQ.DOLLY||(this._state&iQ.TOUCH_DOLLY)===iQ.TOUCH_DOLLY||(this._state&iQ.TOUCH_DOLLY_TRUCK)===iQ.TOUCH_DOLLY_TRUCK||(this._state&iQ.TOUCH_DOLLY_OFFSET)===iQ.TOUCH_DOLLY_OFFSET||(this._state&iQ.TOUCH_DOLLY_ROTATE)===iQ.TOUCH_DOLLY_ROTATE)&&(this._sphericalEnd.radius=this._spherical.radius,this._radiusVelocity.value=0),((this._state&iQ.ZOOM)===iQ.ZOOM||(this._state&iQ.TOUCH_ZOOM)===iQ.TOUCH_ZOOM||(this._state&iQ.TOUCH_ZOOM_TRUCK)===iQ.TOUCH_ZOOM_TRUCK||(this._state&iQ.TOUCH_ZOOM_OFFSET)===iQ.TOUCH_ZOOM_OFFSET||(this._state&iQ.TOUCH_ZOOM_ROTATE)===iQ.TOUCH_ZOOM_ROTATE)&&(this._zoomEnd=this._zoom,this._zoomVelocity.value=0),((this._state&iQ.OFFSET)===iQ.OFFSET||(this._state&iQ.TOUCH_OFFSET)===iQ.TOUCH_OFFSET||(this._state&iQ.TOUCH_DOLLY_OFFSET)===iQ.TOUCH_DOLLY_OFFSET||(this._state&iQ.TOUCH_ZOOM_OFFSET)===iQ.TOUCH_ZOOM_OFFSET)&&(this._focalOffsetEnd.copy(this._focalOffset),this._focalOffsetVelocity.set(0,0,0)),this.dispatchEvent({type:"controlstart"})},_=()=>{if(!this._enabled)return;at(this._activePointers,f);let e=this._domElement&&document.pointerLockElement===this._domElement,t=e?this._lockedPointer||this._activePointers[0]:null,a=t?-t.deltaX:r.x-f.x,o=t?-t.deltaY:r.y-f.y;if(r.copy(f),((this._state&iQ.ROTATE)===iQ.ROTATE||(this._state&iQ.TOUCH_ROTATE)===iQ.TOUCH_ROTATE||(this._state&iQ.TOUCH_DOLLY_ROTATE)===iQ.TOUCH_DOLLY_ROTATE||(this._state&iQ.TOUCH_ZOOM_ROTATE)===iQ.TOUCH_ZOOM_ROTATE)&&(this._rotateInternal(a,o),this._isUserControllingRotate=!0),(this._state&iQ.DOLLY)===iQ.DOLLY||(this._state&iQ.ZOOM)===iQ.ZOOM){let e=this.dollyToCursor?(n.x-this._elementRect.x)/this._elementRect.width*2-1:0,t=this.dollyToCursor?-((n.y-this._elementRect.y)/this._elementRect.height*2)+1:0,r=this.dollyDragInverted?-1:1;(this._state&iQ.DOLLY)===iQ.DOLLY?(this._dollyInternal(r*o*ai,e,t),this._isUserControllingDolly=!0):(this._zoomInternal(r*o*ai,e,t),this._isUserControllingZoom=!0)}if((this._state&iQ.TOUCH_DOLLY)===iQ.TOUCH_DOLLY||(this._state&iQ.TOUCH_ZOOM)===iQ.TOUCH_ZOOM||(this._state&iQ.TOUCH_DOLLY_TRUCK)===iQ.TOUCH_DOLLY_TRUCK||(this._state&iQ.TOUCH_ZOOM_TRUCK)===iQ.TOUCH_ZOOM_TRUCK||(this._state&iQ.TOUCH_DOLLY_OFFSET)===iQ.TOUCH_DOLLY_OFFSET||(this._state&iQ.TOUCH_ZOOM_OFFSET)===iQ.TOUCH_ZOOM_OFFSET||(this._state&iQ.TOUCH_DOLLY_ROTATE)===iQ.TOUCH_DOLLY_ROTATE||(this._state&iQ.TOUCH_ZOOM_ROTATE)===iQ.TOUCH_ZOOM_ROTATE){let e=f.x-this._activePointers[1].clientX,t=f.y-this._activePointers[1].clientY,n=Math.sqrt(e*e+t*t),a=i.y-n;i.set(0,n);let o=this.dollyToCursor?(r.x-this._elementRect.x)/this._elementRect.width*2-1:0,s=this.dollyToCursor?-((r.y-this._elementRect.y)/this._elementRect.height*2)+1:0;(this._state&iQ.TOUCH_DOLLY)===iQ.TOUCH_DOLLY||(this._state&iQ.TOUCH_DOLLY_ROTATE)===iQ.TOUCH_DOLLY_ROTATE||(this._state&iQ.TOUCH_DOLLY_TRUCK)===iQ.TOUCH_DOLLY_TRUCK||(this._state&iQ.TOUCH_DOLLY_OFFSET)===iQ.TOUCH_DOLLY_OFFSET?(this._dollyInternal(a*ai,o,s),this._isUserControllingDolly=!0):(this._zoomInternal(a*ai,o,s),this._isUserControllingZoom=!0)}((this._state&iQ.TRUCK)===iQ.TRUCK||(this._state&iQ.TOUCH_TRUCK)===iQ.TOUCH_TRUCK||(this._state&iQ.TOUCH_DOLLY_TRUCK)===iQ.TOUCH_DOLLY_TRUCK||(this._state&iQ.TOUCH_ZOOM_TRUCK)===iQ.TOUCH_ZOOM_TRUCK)&&(this._truckInternal(a,o,!1),this._isUserControllingTruck=!0),((this._state&iQ.OFFSET)===iQ.OFFSET||(this._state&iQ.TOUCH_OFFSET)===iQ.TOUCH_OFFSET||(this._state&iQ.TOUCH_DOLLY_OFFSET)===iQ.TOUCH_DOLLY_OFFSET||(this._state&iQ.TOUCH_ZOOM_OFFSET)===iQ.TOUCH_ZOOM_OFFSET)&&(this._truckInternal(a,o,!0),this._isUserControllingOffset=!0),this.dispatchEvent({type:"control"})},b=()=>{at(this._activePointers,f),r.copy(f),(0===this._activePointers.length||1===this._activePointers.length&&this._activePointers[0]===this._lockedPointer)&&(this._isDragging=!1),0===this._activePointers.length&&this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointermove",s,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",u),this._domElement.ownerDocument.removeEventListener("pointerup",d),this._domElement.ownerDocument.removeEventListener("mouseup",p),this.dispatchEvent({type:"controlend"}))};this.lockPointer=()=>{this._enabled&&this._domElement&&(this.cancel(),this._lockedPointer={pointerId:-1,clientX:0,clientY:0,deltaX:0,deltaY:0,mouseButton:null},this._activePointers.push(this._lockedPointer),this._domElement.ownerDocument.removeEventListener("pointermove",s,{passive:!1}),this._domElement.ownerDocument.removeEventListener("pointerup",d),this._domElement.requestPointerLock(),this._domElement.ownerDocument.addEventListener("pointerlockchange",x),this._domElement.ownerDocument.addEventListener("pointerlockerror",w),this._domElement.ownerDocument.addEventListener("pointermove",s,{passive:!1}),this._domElement.ownerDocument.addEventListener("pointerup",d),y())},this.unlockPointer=()=>{null!==this._lockedPointer&&(this._disposePointer(this._lockedPointer),this._lockedPointer=null),document.exitPointerLock(),this.cancel(),this._domElement&&(this._domElement.ownerDocument.removeEventListener("pointerlockchange",x),this._domElement.ownerDocument.removeEventListener("pointerlockerror",w))};let x=()=>{let e=this._domElement&&this._domElement.ownerDocument.pointerLockElement===this._domElement;e||this.unlockPointer()},w=()=>{this.unlockPointer()};this._addAllEventListeners=e=>{this._domElement=e,this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none",this._domElement.addEventListener("pointerdown",a),as&&this._domElement.addEventListener("mousedown",o),this._domElement.addEventListener("pointercancel",d),this._domElement.addEventListener("wheel",v,{passive:!1}),this._domElement.addEventListener("contextmenu",g)},this._removeAllEventListeners=()=>{this._domElement&&(this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect="",this._domElement.removeEventListener("pointerdown",a),this._domElement.removeEventListener("mousedown",o),this._domElement.removeEventListener("pointercancel",d),this._domElement.removeEventListener("wheel",v,{passive:!1}),this._domElement.removeEventListener("contextmenu",g),this._domElement.ownerDocument.removeEventListener("pointermove",s,{passive:!1}),this._domElement.ownerDocument.removeEventListener("mousemove",u),this._domElement.ownerDocument.removeEventListener("pointerup",d),this._domElement.ownerDocument.removeEventListener("mouseup",p),this._domElement.ownerDocument.removeEventListener("pointerlockchange",x),this._domElement.ownerDocument.removeEventListener("pointerlockerror",w))},this.cancel=()=>{this._state!==iQ.NONE&&(this._state=iQ.NONE,this._activePointers.length=0,b())},t&&this.connect(t),this.update(0)}get camera(){return this._camera}set camera(e){this._camera=e,this.updateCameraUp(),this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._domElement&&(e?(this._domElement.style.touchAction="none",this._domElement.style.userSelect="none",this._domElement.style.webkitUserSelect="none"):(this.cancel(),this._domElement.style.touchAction="",this._domElement.style.userSelect="",this._domElement.style.webkitUserSelect=""))}get active(){return!this._hasRested}get currentAction(){return this._state}get distance(){return this._spherical.radius}set distance(e){(this._spherical.radius!==e||this._sphericalEnd.radius!==e)&&(this._spherical.radius=e,this._sphericalEnd.radius=e,this._needsUpdate=!0)}get azimuthAngle(){return this._spherical.theta}set azimuthAngle(e){(this._spherical.theta!==e||this._sphericalEnd.theta!==e)&&(this._spherical.theta=e,this._sphericalEnd.theta=e,this._needsUpdate=!0)}get polarAngle(){return this._spherical.phi}set polarAngle(e){(this._spherical.phi!==e||this._sphericalEnd.phi!==e)&&(this._spherical.phi=e,this._sphericalEnd.phi=e,this._needsUpdate=!0)}get boundaryEnclosesCamera(){return this._boundaryEnclosesCamera}set boundaryEnclosesCamera(e){this._boundaryEnclosesCamera=e,this._needsUpdate=!0}set interactiveArea(e){this._interactiveArea.width=i3(e.width,0,1),this._interactiveArea.height=i3(e.height,0,1),this._interactiveArea.x=i3(e.x,0,1-this._interactiveArea.width),this._interactiveArea.y=i3(e.x,0,1-this._interactiveArea.height)}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}rotate(e,t,n=!1){return this.rotateTo(this._sphericalEnd.theta+e,this._sphericalEnd.phi+t,n)}rotateAzimuthTo(e,t=!1){return this.rotateTo(e,this._sphericalEnd.phi,t)}rotatePolarTo(e,t=!1){return this.rotateTo(this._sphericalEnd.theta,e,t)}rotateTo(e,t,n=!1){this._isUserControllingRotate=!1;let r=i3(e,this.minAzimuthAngle,this.maxAzimuthAngle),i=i3(t,this.minPolarAngle,this.maxPolarAngle);this._sphericalEnd.theta=r,this._sphericalEnd.phi=i,this._sphericalEnd.makeSafe(),this._needsUpdate=!0,n||(this._spherical.theta=this._sphericalEnd.theta,this._spherical.phi=this._sphericalEnd.phi);let a=!n||i4(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&i4(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold);return this._createOnRestPromise(a)}dolly(e,t=!1){return this.dollyTo(this._sphericalEnd.radius-e,t)}dollyTo(e,t=!1){return this._isUserControllingDolly=!1,this._lastDollyDirection=iK.NONE,this._changedDolly=0,this._dollyToNoClamp(i3(e,this.minDistance,this.maxDistance),t)}_dollyToNoClamp(e,t=!1){let n=this._sphericalEnd.radius,r=this.colliderMeshes.length>=1;if(r){let t=this._collisionTest(),r=i4(t,this._spherical.radius);if(!(n>e)&&r)return Promise.resolve();this._sphericalEnd.radius=Math.min(e,t)}else this._sphericalEnd.radius=e;this._needsUpdate=!0,t||(this._spherical.radius=this._sphericalEnd.radius);let i=!t||i4(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(i)}dollyInFixed(e,t=!1){this._targetEnd.add(this._getCameraDirection(v).multiplyScalar(e)),t||this._target.copy(this._targetEnd);let n=!t||i4(this._target.x,this._targetEnd.x,this.restThreshold)&&i4(this._target.y,this._targetEnd.y,this.restThreshold)&&i4(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(n)}zoom(e,t=!1){return this.zoomTo(this._zoomEnd+e,t)}zoomTo(e,t=!1){this._isUserControllingZoom=!1,this._zoomEnd=i3(e,this.minZoom,this.maxZoom),this._needsUpdate=!0,t||(this._zoom=this._zoomEnd);let n=!t||i4(this._zoom,this._zoomEnd,this.restThreshold);return this._changedZoom=0,this._createOnRestPromise(n)}pan(e,t,n=!1){return console.warn("`pan` has been renamed to `truck`"),this.truck(e,t,n)}truck(e,t,n=!1){this._camera.updateMatrix(),g.setFromMatrixColumn(this._camera.matrix,0),y.setFromMatrixColumn(this._camera.matrix,1),g.multiplyScalar(e),y.multiplyScalar(-t);let r=h.copy(g).add(y),i=p.copy(this._targetEnd).add(r);return this.moveTo(i.x,i.y,i.z,n)}forward(e,t=!1){h.setFromMatrixColumn(this._camera.matrix,0),h.crossVectors(this._camera.up,h),h.multiplyScalar(e);let n=p.copy(this._targetEnd).add(h);return this.moveTo(n.x,n.y,n.z,t)}elevate(e,t=!1){return h.copy(this._camera.up).multiplyScalar(e),this.moveTo(this._targetEnd.x+h.x,this._targetEnd.y+h.y,this._targetEnd.z+h.z,t)}moveTo(e,t,n,r=!1){this._isUserControllingTruck=!1;let i=h.set(e,t,n).sub(this._targetEnd);this._encloseToBoundary(this._targetEnd,i,this.boundaryFriction),this._needsUpdate=!0,r||this._target.copy(this._targetEnd);let a=!r||i4(this._target.x,this._targetEnd.x,this.restThreshold)&&i4(this._target.y,this._targetEnd.y,this.restThreshold)&&i4(this._target.z,this._targetEnd.z,this.restThreshold);return this._createOnRestPromise(a)}lookInDirectionOf(e,t,n,r=!1){let i=h.set(e,t,n),a=i.sub(this._targetEnd).normalize(),o=a.multiplyScalar(-this._sphericalEnd.radius);return this.setPosition(o.x,o.y,o.z,r)}fitToBox(e,t,{cover:n=!1,paddingLeft:r=0,paddingRight:i=0,paddingBottom:a=0,paddingTop:o=0}={}){let s=[],l=e.isBox3?E.copy(e):E.setFromObject(e);l.isEmpty()&&(console.warn("camera-controls: fitTo() cannot be used with an empty box. Aborting"),Promise.resolve());let u=i6(this._sphericalEnd.theta,i1),f=i6(this._sphericalEnd.phi,i1);s.push(this.rotateTo(u,f,t));let m=h.setFromSpherical(this._sphericalEnd).normalize(),v=C.setFromUnitVectors(m,d),g=i4(Math.abs(m.y),1);g&&v.multiply(O.setFromAxisAngle(c,u)),v.multiply(this._yAxisUpSpaceInverse);let y=T.makeEmpty();p.copy(l.min).applyQuaternion(v),y.expandByPoint(p),p.copy(l.min).setX(l.max.x).applyQuaternion(v),y.expandByPoint(p),p.copy(l.min).setY(l.max.y).applyQuaternion(v),y.expandByPoint(p),p.copy(l.max).setZ(l.min.z).applyQuaternion(v),y.expandByPoint(p),p.copy(l.min).setZ(l.max.z).applyQuaternion(v),y.expandByPoint(p),p.copy(l.max).setY(l.min.y).applyQuaternion(v),y.expandByPoint(p),p.copy(l.max).setX(l.min.x).applyQuaternion(v),y.expandByPoint(p),p.copy(l.max).applyQuaternion(v),y.expandByPoint(p),y.min.x-=r,y.min.y-=a,y.max.x+=i,y.max.y+=o,v.setFromUnitVectors(d,m),g&&v.premultiply(O.invert()),v.premultiply(this._yAxisUpSpace);let _=y.getSize(h),b=y.getCenter(p).applyQuaternion(v);if(iZ(this._camera)){let e=this.getDistanceToFitBox(_.x,_.y,_.z,n);s.push(this.moveTo(b.x,b.y,b.z,t)),s.push(this.dollyTo(e,t)),s.push(this.setFocalOffset(0,0,0,t))}else if(iJ(this._camera)){let e=this._camera,r=e.right-e.left,i=e.top-e.bottom,a=n?Math.max(r/_.x,i/_.y):Math.min(r/_.x,i/_.y);s.push(this.moveTo(b.x,b.y,b.z,t)),s.push(this.zoomTo(a,t)),s.push(this.setFocalOffset(0,0,0,t))}return Promise.all(s)}fitToSphere(e,t){let n=[],r=e instanceof l.Sphere,i=r?k.copy(e):al.createBoundingSphere(e,k);if(n.push(this.moveTo(i.center.x,i.center.y,i.center.z,t)),iZ(this._camera)){let e=this.getDistanceToFitSphere(i.radius);n.push(this.dollyTo(e,t))}else if(iJ(this._camera)){let e=this._camera.right-this._camera.left,r=this._camera.top-this._camera.bottom,a=2*i.radius,o=Math.min(e/a,r/a);n.push(this.zoomTo(o,t))}return n.push(this.setFocalOffset(0,0,0,t)),Promise.all(n)}setLookAt(e,t,n,r,i,a,o=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=iK.NONE,this._changedDolly=0;let s=p.set(r,i,a),l=h.set(e,t,n);this._targetEnd.copy(s),this._sphericalEnd.setFromVector3(l.sub(s).applyQuaternion(this._yAxisUpSpace)),this.normalizeRotations(),this._needsUpdate=!0,o||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));let u=!o||i4(this._target.x,this._targetEnd.x,this.restThreshold)&&i4(this._target.y,this._targetEnd.y,this.restThreshold)&&i4(this._target.z,this._targetEnd.z,this.restThreshold)&&i4(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&i4(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&i4(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(u)}lerpLookAt(e,t,n,r,i,a,o,s,l,u,c,d,f,v=!1){this._isUserControllingRotate=!1,this._isUserControllingDolly=!1,this._isUserControllingTruck=!1,this._lastDollyDirection=iK.NONE,this._changedDolly=0;let g=h.set(r,i,a),y=p.set(e,t,n);w.setFromVector3(y.sub(g).applyQuaternion(this._yAxisUpSpace));let _=m.set(u,c,d),b=p.set(o,s,l);S.setFromVector3(b.sub(_).applyQuaternion(this._yAxisUpSpace)),this._targetEnd.copy(g.lerp(_,f));let x=S.theta-w.theta,E=S.phi-w.phi,T=S.radius-w.radius;this._sphericalEnd.set(w.radius+T*f,w.phi+E*f,w.theta+x*f),this.normalizeRotations(),this._needsUpdate=!0,v||(this._target.copy(this._targetEnd),this._spherical.copy(this._sphericalEnd));let k=!v||i4(this._target.x,this._targetEnd.x,this.restThreshold)&&i4(this._target.y,this._targetEnd.y,this.restThreshold)&&i4(this._target.z,this._targetEnd.z,this.restThreshold)&&i4(this._spherical.theta,this._sphericalEnd.theta,this.restThreshold)&&i4(this._spherical.phi,this._sphericalEnd.phi,this.restThreshold)&&i4(this._spherical.radius,this._sphericalEnd.radius,this.restThreshold);return this._createOnRestPromise(k)}setPosition(e,t,n,r=!1){return this.setLookAt(e,t,n,this._targetEnd.x,this._targetEnd.y,this._targetEnd.z,r)}setTarget(e,t,n,r=!1){let i=this.getPosition(h),a=this.setLookAt(i.x,i.y,i.z,e,t,n,r);return this._sphericalEnd.phi=i3(this._sphericalEnd.phi,this.minPolarAngle,this.maxPolarAngle),a}setFocalOffset(e,t,n,r=!1){this._isUserControllingOffset=!1,this._focalOffsetEnd.set(e,t,n),this._needsUpdate=!0,r||this._focalOffset.copy(this._focalOffsetEnd);let i=!r||i4(this._focalOffset.x,this._focalOffsetEnd.x,this.restThreshold)&&i4(this._focalOffset.y,this._focalOffsetEnd.y,this.restThreshold)&&i4(this._focalOffset.z,this._focalOffsetEnd.z,this.restThreshold);return this._createOnRestPromise(i)}setOrbitPoint(e,t,n){this._camera.updateMatrixWorld(),g.setFromMatrixColumn(this._camera.matrixWorldInverse,0),y.setFromMatrixColumn(this._camera.matrixWorldInverse,1),_.setFromMatrixColumn(this._camera.matrixWorldInverse,2);let r=h.set(e,t,n),i=r.distanceTo(this._camera.position),a=r.sub(this._camera.position);g.multiplyScalar(a.x),y.multiplyScalar(a.y),_.multiplyScalar(a.z),h.copy(g).add(y).add(_),h.z=h.z+i,this.dollyTo(i,!1),this.setFocalOffset(-h.x,h.y,-h.z,!1),this.moveTo(e,t,n,!1)}setBoundary(e){if(!e){this._boundary.min.set(-1/0,-1/0,-1/0),this._boundary.max.set(1/0,1/0,1/0),this._needsUpdate=!0;return}this._boundary.copy(e),this._boundary.clampPoint(this._targetEnd,this._targetEnd),this._needsUpdate=!0}setViewport(e,t,n,r){if(null===e){this._viewport=null;return}this._viewport=this._viewport||new l.Vector4,"number"==typeof e?this._viewport.set(e,t,n,r):this._viewport.copy(e)}getDistanceToFitBox(e,t,n,r=!1){if(an(this._camera,"getDistanceToFitBox"))return this._spherical.radius;let i=e/t,a=this._camera.getEffectiveFOV()*i2,o=this._camera.aspect;return .5*((r?i>o:i<o)?t:e/o)/Math.tan(.5*a)+.5*n}getDistanceToFitSphere(e){if(an(this._camera,"getDistanceToFitSphere"))return this._spherical.radius;let t=this._camera.getEffectiveFOV()*i2,n=2*Math.atan(Math.tan(.5*t)*this._camera.aspect),r=1<this._camera.aspect?t:n;return e/Math.sin(.5*r)}getTarget(e,t=!0){let n=e&&e.isVector3?e:new l.Vector3;return n.copy(t?this._targetEnd:this._target)}getPosition(e,t=!0){let n=e&&e.isVector3?e:new l.Vector3;return n.setFromSpherical(t?this._sphericalEnd:this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(t?this._targetEnd:this._target)}getSpherical(e,t=!0){let n=e&&e instanceof l.Spherical?e:new l.Spherical;return n.copy(t?this._sphericalEnd:this._spherical)}getFocalOffset(e,t=!0){let n=e&&e.isVector3?e:new l.Vector3;return n.copy(t?this._focalOffsetEnd:this._focalOffset)}normalizeRotations(){this._sphericalEnd.theta=this._sphericalEnd.theta%i0,this._sphericalEnd.theta<0&&(this._sphericalEnd.theta+=i0),this._spherical.theta+=i0*Math.round((this._sphericalEnd.theta-this._spherical.theta)/i0)}reset(e=!1){if(!i4(this._camera.up.x,this._cameraUp0.x)||!i4(this._camera.up.y,this._cameraUp0.y)||!i4(this._camera.up.z,this._cameraUp0.z)){this._camera.up.copy(this._cameraUp0);let e=this.getPosition(h);this.updateCameraUp(),this.setPosition(e.x,e.y,e.z)}let t=[this.setLookAt(this._position0.x,this._position0.y,this._position0.z,this._target0.x,this._target0.y,this._target0.z,e),this.setFocalOffset(this._focalOffset0.x,this._focalOffset0.y,this._focalOffset0.z,e),this.zoomTo(this._zoom0,e)];return Promise.all(t)}saveState(){this._cameraUp0.copy(this._camera.up),this.getTarget(this._target0),this.getPosition(this._position0),this._zoom0=this._zoom,this._focalOffset0.copy(this._focalOffset)}updateCameraUp(){this._yAxisUpSpace.setFromUnitVectors(this._camera.up,c),this._yAxisUpSpaceInverse.copy(this._yAxisUpSpace).invert()}applyCameraUp(){let e=h.subVectors(this._target,this._camera.position).normalize(),t=p.crossVectors(e,this._camera.up);this._camera.up.crossVectors(t,e),this._camera.updateMatrixWorld();let n=this.getPosition(h);this.updateCameraUp(),this.setPosition(n.x,n.y,n.z)}update(e){let t=this._sphericalEnd.theta-this._spherical.theta,n=this._sphericalEnd.phi-this._spherical.phi,r=this._sphericalEnd.radius-this._spherical.radius,i=b.subVectors(this._targetEnd,this._target),a=x.subVectors(this._focalOffsetEnd,this._focalOffset),o=this._zoomEnd-this._zoom;if(i5(t))this._thetaVelocity.value=0,this._spherical.theta=this._sphericalEnd.theta;else{let t=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.theta=i9(this._spherical.theta,this._sphericalEnd.theta,this._thetaVelocity,t,1/0,e),this._needsUpdate=!0}if(i5(n))this._phiVelocity.value=0,this._spherical.phi=this._sphericalEnd.phi;else{let t=this._isUserControllingRotate?this.draggingSmoothTime:this.smoothTime;this._spherical.phi=i9(this._spherical.phi,this._sphericalEnd.phi,this._phiVelocity,t,1/0,e),this._needsUpdate=!0}if(i5(r))this._radiusVelocity.value=0,this._spherical.radius=this._sphericalEnd.radius;else{let t=this._isUserControllingDolly?this.draggingSmoothTime:this.smoothTime;this._spherical.radius=i9(this._spherical.radius,this._sphericalEnd.radius,this._radiusVelocity,t,this.maxSpeed,e),this._needsUpdate=!0}if(i5(i.x)&&i5(i.y)&&i5(i.z))this._targetVelocity.set(0,0,0),this._target.copy(this._targetEnd);else{let t=this._isUserControllingTruck?this.draggingSmoothTime:this.smoothTime;ae(this._target,this._targetEnd,this._targetVelocity,t,this.maxSpeed,e,this._target),this._needsUpdate=!0}if(i5(a.x)&&i5(a.y)&&i5(a.z))this._focalOffsetVelocity.set(0,0,0),this._focalOffset.copy(this._focalOffsetEnd);else{let t=this._isUserControllingOffset?this.draggingSmoothTime:this.smoothTime;ae(this._focalOffset,this._focalOffsetEnd,this._focalOffsetVelocity,t,this.maxSpeed,e,this._focalOffset),this._needsUpdate=!0}if(i5(o))this._zoomVelocity.value=0,this._zoom=this._zoomEnd;else{let t=this._isUserControllingZoom?this.draggingSmoothTime:this.smoothTime;this._zoom=i9(this._zoom,this._zoomEnd,this._zoomVelocity,t,1/0,e)}if(this.dollyToCursor){if(iZ(this._camera)&&0!==this._changedDolly){let e=this._spherical.radius-this._lastDistance,t=this._camera,n=this._getCameraDirection(v),r=h.copy(n).cross(t.up).normalize();0===r.lengthSq()&&(r.x=1);let i=p.crossVectors(r,n),a=this._sphericalEnd.radius*Math.tan(t.getEffectiveFOV()*i2*.5),o=this._sphericalEnd.radius-e,s=(o-this._sphericalEnd.radius)/this._sphericalEnd.radius,l=m.copy(this._targetEnd).add(r.multiplyScalar(this._dollyControlCoord.x*a*t.aspect)).add(i.multiplyScalar(this._dollyControlCoord.y*a)),u=h.copy(this._targetEnd).lerp(l,s),c=this._lastDollyDirection===iK.IN&&this._spherical.radius<=this.minDistance,d=this._lastDollyDirection===iK.OUT&&this.maxDistance<=this._spherical.radius;if(this.infinityDolly&&(c||d)){this._sphericalEnd.radius-=e,this._spherical.radius-=e;let t=p.copy(n).multiplyScalar(-e);u.add(t)}this._boundary.clampPoint(u,u);let f=p.subVectors(u,this._targetEnd);this._targetEnd.copy(u),this._target.add(f),this._changedDolly-=e,i5(this._changedDolly)&&(this._changedDolly=0)}else if(iJ(this._camera)&&0!==this._changedZoom){let e=this._zoom-this._lastZoom,t=this._camera,n=h.set(this._dollyControlCoord.x,this._dollyControlCoord.y,(t.near+t.far)/(t.near-t.far)).unproject(t),r=p.set(0,0,-1).applyQuaternion(t.quaternion),i=m.copy(n).add(r.multiplyScalar(-n.dot(t.up))),a=this._zoom-e,o=-(a-this._zoom)/this._zoom,s=this._getCameraDirection(v),l=this._targetEnd.dot(s),u=h.copy(this._targetEnd).lerp(i,o),c=u.dot(s),d=s.multiplyScalar(c-l);u.sub(d),this._boundary.clampPoint(u,u);let f=p.subVectors(u,this._targetEnd);this._targetEnd.copy(u),this._target.add(f),this._changedZoom-=e,i5(this._changedZoom)&&(this._changedZoom=0)}}this._camera.zoom!==this._zoom&&(this._camera.zoom=this._zoom,this._camera.updateProjectionMatrix(),this._updateNearPlaneCorners(),this._needsUpdate=!0);let s=this._collisionTest();this._spherical.radius=Math.min(this._spherical.radius,s),this._spherical.makeSafe(),this._camera.position.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse).add(this._target),this._camera.lookAt(this._target);let l=!i5(this._focalOffset.x)||!i5(this._focalOffset.y)||!i5(this._focalOffset.z);l&&(this._camera.updateMatrixWorld(),g.setFromMatrixColumn(this._camera.matrix,0),y.setFromMatrixColumn(this._camera.matrix,1),_.setFromMatrixColumn(this._camera.matrix,2),g.multiplyScalar(this._focalOffset.x),y.multiplyScalar(-this._focalOffset.y),_.multiplyScalar(this._focalOffset.z),h.copy(g).add(y).add(_),this._camera.position.add(h)),this._boundaryEnclosesCamera&&this._encloseToBoundary(this._camera.position.copy(this._target),h.setFromSpherical(this._spherical).applyQuaternion(this._yAxisUpSpaceInverse),1);let u=this._needsUpdate;return u&&!this._updatedLastTime?(this._hasRested=!1,this.dispatchEvent({type:"wake"}),this.dispatchEvent({type:"update"})):u?(this.dispatchEvent({type:"update"}),i5(t,this.restThreshold)&&i5(n,this.restThreshold)&&i5(r,this.restThreshold)&&i5(i.x,this.restThreshold)&&i5(i.y,this.restThreshold)&&i5(i.z,this.restThreshold)&&i5(a.x,this.restThreshold)&&i5(a.y,this.restThreshold)&&i5(a.z,this.restThreshold)&&i5(o,this.restThreshold)&&!this._hasRested&&(this._hasRested=!0,this.dispatchEvent({type:"rest"}))):!u&&this._updatedLastTime&&this.dispatchEvent({type:"sleep"}),this._lastDistance=this._spherical.radius,this._lastZoom=this._zoom,this._updatedLastTime=u,this._needsUpdate=!1,u}toJSON(){return JSON.stringify({enabled:this._enabled,minDistance:this.minDistance,maxDistance:i7(this.maxDistance),minZoom:this.minZoom,maxZoom:i7(this.maxZoom),minPolarAngle:this.minPolarAngle,maxPolarAngle:i7(this.maxPolarAngle),minAzimuthAngle:i7(this.minAzimuthAngle),maxAzimuthAngle:i7(this.maxAzimuthAngle),smoothTime:this.smoothTime,draggingSmoothTime:this.draggingSmoothTime,dollySpeed:this.dollySpeed,truckSpeed:this.truckSpeed,dollyToCursor:this.dollyToCursor,verticalDragToForward:this.verticalDragToForward,target:this._targetEnd.toArray(),position:h.setFromSpherical(this._sphericalEnd).add(this._targetEnd).toArray(),zoom:this._zoomEnd,focalOffset:this._focalOffsetEnd.toArray(),target0:this._target0.toArray(),position0:this._position0.toArray(),zoom0:this._zoom0,focalOffset0:this._focalOffset0.toArray()})}fromJSON(e,t=!1){let n=JSON.parse(e);this.enabled=n.enabled,this.minDistance=n.minDistance,this.maxDistance=i8(n.maxDistance),this.minZoom=n.minZoom,this.maxZoom=i8(n.maxZoom),this.minPolarAngle=n.minPolarAngle,this.maxPolarAngle=i8(n.maxPolarAngle),this.minAzimuthAngle=i8(n.minAzimuthAngle),this.maxAzimuthAngle=i8(n.maxAzimuthAngle),this.smoothTime=n.smoothTime,this.draggingSmoothTime=n.draggingSmoothTime,this.dollySpeed=n.dollySpeed,this.truckSpeed=n.truckSpeed,this.dollyToCursor=n.dollyToCursor,this.verticalDragToForward=n.verticalDragToForward,this._target0.fromArray(n.target0),this._position0.fromArray(n.position0),this._zoom0=n.zoom0,this._focalOffset0.fromArray(n.focalOffset0),this.moveTo(n.target[0],n.target[1],n.target[2],t),w.setFromVector3(h.fromArray(n.position).sub(this._targetEnd).applyQuaternion(this._yAxisUpSpace)),this.rotateTo(w.theta,w.phi,t),this.dollyTo(w.radius,t),this.zoomTo(n.zoom,t),this.setFocalOffset(n.focalOffset[0],n.focalOffset[1],n.focalOffset[2],t),this._needsUpdate=!0}connect(e){if(this._domElement){console.warn("camera-controls is already connected.");return}e.setAttribute("data-camera-controls-version","2.7.0"),this._addAllEventListeners(e)}disconnect(){this.cancel(),this._removeAllEventListeners(),this._domElement&&(this._domElement.removeAttribute("data-camera-controls-version"),this._domElement=void 0)}dispose(){this.removeAllEventListeners(),this.disconnect()}_getTargetDirection(e){return e.setFromSpherical(this._spherical).divideScalar(this._spherical.radius).applyQuaternion(this._yAxisUpSpaceInverse)}_getCameraDirection(e){return this._getTargetDirection(e).negate()}_findPointerById(e){return this._activePointers.find(t=>t.pointerId===e)}_findPointerByMouseButton(e){return this._activePointers.find(t=>t.mouseButton===e)}_disposePointer(e){this._activePointers.splice(this._activePointers.indexOf(e),1)}_encloseToBoundary(e,t,n){let r=t.lengthSq();if(0===r)return e;let i=p.copy(t).add(e),a=this._boundary.clampPoint(i,m),o=a.sub(i),s=o.lengthSq();if(0===s)return e.add(t);if(s===r)return e;if(0===n)return e.add(t).add(o);{let r=1+n*s/t.dot(o);return e.add(p.copy(t).multiplyScalar(r)).add(o.multiplyScalar(1-n))}}_updateNearPlaneCorners(){if(iZ(this._camera)){let e=this._camera,t=e.near,n=e.getEffectiveFOV()*i2,r=Math.tan(.5*n)*t,i=r*e.aspect;this._nearPlaneCorners[0].set(-i,-r,0),this._nearPlaneCorners[1].set(i,-r,0),this._nearPlaneCorners[2].set(i,r,0),this._nearPlaneCorners[3].set(-i,r,0)}else if(iJ(this._camera)){let e=this._camera,t=1/e.zoom,n=e.left*t,r=e.right*t,i=e.top*t,a=e.bottom*t;this._nearPlaneCorners[0].set(n,i,0),this._nearPlaneCorners[1].set(r,i,0),this._nearPlaneCorners[2].set(r,a,0),this._nearPlaneCorners[3].set(n,a,0)}}_collisionTest(){let e=1/0,t=this.colliderMeshes.length>=1;if(!t||an(this._camera,"_collisionTest"))return e;let n=this._getTargetDirection(v);M.lookAt(u,n,this._camera.up);for(let t=0;t<4;t++){let r=p.copy(this._nearPlaneCorners[t]);r.applyMatrix4(M);let i=m.addVectors(this._target,r);P.set(i,n),P.far=this._spherical.radius+1;let a=P.intersectObjects(this.colliderMeshes);0!==a.length&&a[0].distance<e&&(e=a[0].distance)}return e}_getClientRect(e){if(!this._domElement)return;let t=this._domElement.getBoundingClientRect();return e.x=t.left,e.y=t.top,this._viewport?(e.x+=this._viewport.x,e.y+=t.height-this._viewport.w-this._viewport.y,e.width=this._viewport.z,e.height=this._viewport.w):(e.width=t.width,e.height=t.height),e}_createOnRestPromise(e){return e?Promise.resolve():(this._hasRested=!1,this.dispatchEvent({type:"transitionstart"}),new Promise(e=>{let t=()=>{this.removeEventListener("rest",t),e()};this.addEventListener("rest",t)}))}_addAllEventListeners(e){}_removeAllEventListeners(){}get dampingFactor(){return console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead."),0}set dampingFactor(e){console.warn(".dampingFactor has been deprecated. use smoothTime (in seconds) instead.")}get draggingDampingFactor(){return console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead."),0}set draggingDampingFactor(e){console.warn(".draggingDampingFactor has been deprecated. use draggingSmoothTime (in seconds) instead.")}static createBoundingSphere(e,t=new l.Sphere){let n=t.center;E.makeEmpty(),e.traverseVisible(e=>{e.isMesh&&E.expandByObject(e)}),E.getCenter(n);let r=0;return e.traverseVisible(e=>{if(!e.isMesh)return;let t=e.geometry.clone();t.applyMatrix4(e.matrixWorld);let i=t.attributes.position;for(let e=0,t=i.count;e<t;e++)h.fromBufferAttribute(i,e),r=Math.max(r,n.distanceToSquared(h))}),t.radius=Math.sqrt(r),t}}var au=n(2441);let ac=(()=>{let e=new Map,t=[],n=t=>{t.forEach(t=>{if(!t.disabled){if(t.ref){if(!t.ref.current)return;let n=t.ref.current;e.has(n)||e.set(n,new au(n)),e.get(n).bind(t.keys,t.callback,t.action)}else e.get(void 0)||e.set(void 0,au),e.get(void 0).bind(t.keys,t.callback,t.action)}})},r=e=>{t=[...t,...e],n(e)},i=r=>{for(let[n]of(t=t.filter(e=>!r.includes(e)),r.forEach(t=>{var n,r;if(t.ref){if(!t.ref.current)return;null==(n=e.get(t.ref.current))||n.unbind(t.keys,t.action)}else null==(r=e.get(void 0))||r.unbind(t.keys,t.action)}),e)){if(void 0===n){if(t.some(e=>void 0===e.ref))continue}else if(t.some(e=>{var t;return(null==(t=e.ref)?void 0:t.current)===n}))continue;e.delete(n)}n(t)};return()=>{let[e,n]=(0,ei.useState)([]);return(0,ei.useEffect)(()=>{n(t)},[]),[e,r,i]}})(),ad=e=>{let[t,n,r]=ac();return(0,ei.useLayoutEffect)(()=>(e&&n(e),()=>{e&&r(e)}),[n,r,e]),(0,ei.useMemo)(()=>t.reduce((e,t)=>(e.find(e=>e.keys===t.keys&&e.ref&&t.ref)||e.push(t),e),[]),[t])};try{navigator&&navigator.platform.toUpperCase().indexOf("MAC")}catch(e){console.warn(e)}(A=ee||(ee={})).HOLD_START="holdStart",A.HOLD_END="holdEnd",A.HOLDING="holding";class af{constructor(){this._listeners={}}addEventListener(e,t){let n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}removeEventListener(e,t){let n=this._listeners[e];if(void 0!==n){let e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){let t=this._listeners[e.type];if(void 0!==t){e.target=this;let n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e)}}}class ah extends af{constructor(e){super(),this._enabled=!0,this._holding=!1,this._intervalId=-1,this._deltaTime=0,this._elapsedTime=0,this._lastTime=0,this._holdStart=e=>{if(!this._enabled||this._holding)return;this._deltaTime=0,this._elapsedTime=0,this._lastTime=performance.now(),this.dispatchEvent({type:ee.HOLD_START,deltaTime:this._deltaTime,elapsedTime:this._elapsedTime,originalEvent:e}),this._holding=!0;let t=()=>{this._intervalId=this.holdIntervalDelay?window.setTimeout(t,this.holdIntervalDelay):window.requestAnimationFrame(t);let n=performance.now();this._deltaTime=n-this._lastTime,this._elapsedTime+=this._deltaTime,this._lastTime=performance.now(),this.dispatchEvent({type:ee.HOLDING,deltaTime:this._deltaTime,elapsedTime:this._elapsedTime,originalEvent:e})};this._intervalId=this.holdIntervalDelay?window.setTimeout(t,this.holdIntervalDelay):window.requestAnimationFrame(t)},this._holdEnd=e=>{if(!this._enabled||!this._holding)return;let t=performance.now();this._deltaTime=t-this._lastTime,this._elapsedTime+=this._deltaTime,this._lastTime=performance.now(),this.dispatchEvent({type:ee.HOLD_END,deltaTime:this._deltaTime,elapsedTime:this._elapsedTime,originalEvent:e}),window.clearTimeout(this._intervalId),window.cancelAnimationFrame(this._intervalId),this._holding=!1},this.holdIntervalDelay=e}get enabled(){return this._enabled}set enabled(e){this._enabled===e||(this._enabled=e,this._enabled||this._holdEnd())}}class ap extends ah{constructor(e,t){super(t),this._holdStart=this._holdStart.bind(this),this._holdEnd=this._holdEnd.bind(this),document.addEventListener("keydown",t=>{!function(e){let t=e.target;return"INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable}(t)&&t.keyCode===e&&this._holdStart(t)}),document.addEventListener("keyup",t=>{t.keyCode===e&&this._holdEnd(t)}),window.addEventListener("blur",this._holdEnd)}}function am(e,t){return e.map(function(e,n){return e+t[n]})}function av(e,t){return e.map(function(e,n){return e-t[n]})}function ag(e){return Math.hypot.apply(Math,e)}function ay(e,t){void 0===t&&(t=e);var n=ag(t),r=0===n?0:1/n,i=t.map(function(e){return r*e});return{distance:ag(e),direction:i}}function a_(e,t,n){var r=ag(t),i=0===r?0:1/r,a=0===n?0:1/n,o=t.map(function(e){return a*e}),s=t.map(function(e){return i*e});return{velocities:o,velocity:a*r,distance:ag(e),direction:s}}function ab(e){return Math.sign?Math.sign(e):Number(e>0)-Number(e<0)||+e}function ax(e,t,n){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*n):e*t*n/(t+n*e)}function aw(e,t,n,r){return(void 0===r&&(r=.15),0===r)?Math.max(t,Math.min(e,n)):e<t?-ax(t-e,n-t,r)+t:e>n?+ax(e-n,n-t,r)+n:e}function aS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aE(){return(aE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function aT(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function ak(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function aO(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return aC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aC(e,t)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function aM(){}function aP(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?aM:1===t.length?t[0]:function(){for(var e,n,r=aO(t);!(n=r()).done;)e=n.value.apply(this,arguments)||e;return e}}function aU(e,t){if(void 0===e){if(void 0===t)throw Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function aI(e,t){return Object.assign({},t,e||{})}function aA(e){if("function"!=typeof e)return e;for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}function az(e,t){void 0===e&&(e={});for(var n={},r=0,i=Object.entries(t);r<i.length;r++){var a=i[r],o=a[0],s=a[1];switch(typeof s){case"function":n[o]=s.call(n,e[o],o,e);break;case"object":n[o]=az(e[o],s);break;case"boolean":s&&(n[o]=e[o])}}return n}function aD(){return"undefined"!=typeof window&&"ontouchstart"in window}function aN(e){return"pointerId"in e?null:"touchend"===e.type?e.changedTouches:e.targetTouches}function aL(e){return Array.from(aN(e)).map(function(e){return e.identifier})}function aF(e){return{buttons:"buttons"in e?e.buttons:0,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey}}var aR=function(e){return e};function aj(e,t){void 0===t&&(t=aR);var n=aN(e),r=n?n[0]:e;return t([r.clientX,r.clientY])}function aB(e,t,n){void 0===n&&(n=aR);var r=Array.from(e.touches).filter(function(e){return t.includes(e.identifier)}),i=r[0],a=r[1];if(!i||!a)throw Error("The event doesn't have two pointers matching the pointerIds");var o=a.clientX-i.clientX,s=a.clientY-i.clientY,l=(a.clientX+i.clientX)/2,u=(a.clientY+i.clientY)/2;return{values:n([Math.hypot(o,s),-(180*Math.atan2(o,s))/Math.PI]),origin:n([l,u])}}function aV(e,t){void 0===t&&(t=aR);var n=e.deltaX,r=e.deltaY,i=e.deltaMode;return 1===i?(n*=40,r*=40):2===i&&(n*=800,r*=800),t([n,r])}function aG(e,t){return void 0===t&&(t=aR),t([e.scale,e.rotation])}var aH={threshold:function(e){return void 0===e&&(e=0),aU(e)},rubberband:function(e){switch(void 0===e&&(e=0),e){case!0:return aU(.15);case!1:return aU(0);default:return aU(e)}},enabled:function(e){return void 0===e&&(e=!0),e},triggerAllEvents:function(e){return void 0===e&&(e=!1),e},initial:function(e){return(void 0===e&&(e=0),"function"==typeof e)?e:aU(e)},transform:!0},aW=aE({},aH,{axis:!0,lockDirection:function(e){return void 0===e&&(e=!1),e},bounds:function(e){if(void 0===e&&(e={}),"function"==typeof e)return function(t){return aW.bounds(e(t))};var t=e,n=t.left,r=t.right,i=t.top,a=t.bottom;return[[void 0===n?-1/0:n,void 0===r?1/0:r],[void 0===i?-1/0:i,void 0===a?1/0:a]]}}),a$="undefined"!=typeof window&&window.document&&window.document.createElement,aq={enabled:function(e){return void 0===e&&(e=!0),e},domTarget:!0,window:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return void 0===e&&(e=a$?window:void 0),e}),eventOptions:function(e){var t=void 0===e?{}:e,n=t.passive,r=t.capture;return{passive:void 0===n||n,capture:void 0!==r&&r}},transform:!0},aY=aE({},aH,{bounds:function(e,t,n){var r=n.distanceBounds,i=void 0===r?{}:r,a=n.angleBounds,o=void 0===a?{}:a,s=function(e){var t=aI(aA(i,e),{min:-1/0,max:1/0});return[t.min,t.max]},l=function(e){var t=aI(aA(o,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!=typeof i&&"function"!=typeof o?[s(),l()]:function(e){return[s(e),l(e)]}}}),aX=aE({},aW,{useTouch:function(e){void 0===e&&(e=!1);var t=aD(),n="undefined"!=typeof window&&"onpointerdown"in window;return!!e&&!!t||!!t&&!n},experimental_preventWindowScrollY:function(e){return void 0===e&&(e=!1),e},threshold:function(e,t,n){var r=n.filterTaps,i=void 0!==r&&r,a=n.lockDirection,o=n.axis,s=aU(e,i?3:void 0!==a&&a?1:(void 0===o?void 0:o)?1:0);return this.filterTaps=i,s},swipeVelocity:function(e){return void 0===e&&(e=.5),aU(e)},swipeDistance:function(e){return void 0===e&&(e=50),aU(e)},swipeDuration:function(e){return void 0===e&&(e=250),e},delay:function(e){switch(void 0===e&&(e=0),e){case!0:return 180;case!1:return 0;default:return e}}});function aQ(e){return void 0===e&&(e={}),az(e,aW)}function aK(e){return aE({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_threshold:[0,0],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:aM,canceled:!1,memo:void 0,args:void 0},e)}function aZ(){return{shared:{hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},drag:aK({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),pinch:aK({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),wheel:aK({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),move:aK({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),scroll:aK({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0})}}var aJ=new Map,a0=function(e){return e},a1=function(){function e(e,t){var n=this;void 0===t&&(t=[]),this.controller=e,this.args=t,this.debounced=!0,this.setTimeout=function(e,t){var r;void 0===t&&(t=140),clearTimeout(n.controller.timeouts[n.stateKey]);for(var i=arguments.length,a=Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];n.controller.timeouts[n.stateKey]=(r=window).setTimeout.apply(r,[e,t].concat(a))},this.clearTimeout=function(){clearTimeout(n.controller.timeouts[n.stateKey])},this.fireGestureHandler=function(e){if(void 0===e&&(e=!1),n.state._blocked)return n.debounced||(n.state._active=!1,n.clean()),null;if(!e&&!n.state.intentional&&!n.config.triggerAllEvents)return null;if(n.state.intentional){var t=n.state.active,r=n.state._active;n.state.active=r,n.state.first=r&&!t,n.state.last=t&&!r,n.controller.state.shared[n.ingKey]=r}var i=n.controller.pointerIds.size||n.controller.touchIds.size,a=n.controller.state.shared.buttons>0||i>0,o=aE({},n.controller.state.shared,n.state,n.mapStateValues(n.state),{locked:!!document.pointerLockElement,touches:i,down:a}),s=n.handler(o);return n.state.memo=void 0!==s?s:n.state.memo,o},this.controller=e,this.args=t}var t,n=e.prototype;return n.updateSharedState=function(e){Object.assign(this.controller.state.shared,e)},n.updateGestureState=function(e){Object.assign(this.state,e)},n.checkIntentionality=function(e,t){return{_intentional:e,_blocked:!1}},n.getMovement=function(e){var t=this.config.rubberband,n=this.state,r=n._bounds,i=n._initial,a=n._active,o=n._intentional,s=n.lastOffset,l=n.movement,u=n._threshold,c=this.getInternalMovement(e,this.state),d=!1===o[0]?a2(c[0],u[0]):o[0],f=!1===o[1]?a2(c[1],u[1]):o[1],h=this.checkIntentionality([d,f],c);if(h._blocked)return aE({},h,{_movement:c,delta:[0,0]});var p=h._intentional,m=[!1!==p[0]?c[0]-p[0]:0,!1!==p[1]?c[1]-p[1]:0],v=am(m,s),g=a?t:[0,0];return m=a3(r,am(m,i),g),aE({},h,{intentional:!1!==p[0]||!1!==p[1],_initial:i,_movement:c,movement:m,values:e,offset:a3(r,v,g),delta:av(m,l)})},n.clean=function(){this.clearTimeout()},aS(e.prototype,[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}},{key:"transform",get:function(){return this.config.transform||this.controller.config.transform||a0}}]),t&&aS(e,t),e}();function a2(e,t){return Math.abs(e)>=t&&ab(e)*t}function a3(e,t,n){var r=t[0],i=t[1],a=n[0],o=n[1],s=e[0],l=s[0],u=s[1],c=e[1],d=c[0],f=c[1];return[aw(r,l,u,a),aw(i,d,f,o)]}function a5(e,t,n){var r=e.state,i=t.timeStamp,a=t.type,o=r.values,s=n?0:i-r.startTime;return{_lastEventType:a,event:t,timeStamp:i,elapsedTime:s,previous:o}}function a4(e,t,n,r){var i=e.state,a=e.config,o=e.stateKey,s=e.args,l=e.transform,u=i.offset,c=n.timeStamp,d=a.initial,f=a.bounds,h=av(l(a.threshold),l([0,0])).map(Math.abs),p=aE({},aZ()[o],{_active:!0,args:s,values:t,initial:null!=r?r:t,_threshold:h,offset:u,lastOffset:u,startTime:c});return aE({},p,{_initial:aA(d,p),_bounds:aA(f,p)})}var a6=function(e){var t=this;this.classes=e,this.pointerIds=new Set,this.touchIds=new Set,this.supportsTouchEvents=aD(),this.supportsGestureEvents=function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),this.bind=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i,a={},o=aO(t.classes);!(i=o()).done;)new i.value(t,n).addBindings(a);var s=function(e){ot(a,e,function(r){return t.nativeRefs[e](aE({},t.state.shared,{event:r,args:n}))})};for(var l in t.nativeRefs)s(l);return t.config.domTarget?function(e,t){var n=e.config,r=e.domListeners,i=oe(n);if(!i)throw Error("domTarget must be defined");var a=n.eventOptions;or(i,a9(r),a);for(var o=0,s=Object.entries(t);o<s.length;o++){var l=s[o],u=l[0],c=l[1],d=u.slice(2).toLowerCase();r.push([d,aP.apply(void 0,c)])}on(i,r,a)}(t,a):function(e,t){for(var n=e.config,r={},i=n.eventOptions.capture?"Capture":"",a=0,o=Object.entries(t);a<o.length;a++){var s=o[a],l=s[0],u=s[1],c=Array.isArray(u)?u:[u];r[l+i]=aP.apply(void 0,c)}return r}(t,a)},this.effect=function(){return t.config.domTarget&&t.bind(),t.clean},this.clean=function(){var e=oe(t.config),n=t.config.eventOptions;e&&or(e,a9(t.domListeners),n),Object.values(t.timeouts).forEach(clearTimeout),function(e){var t=e.config,n=t.window,r=t.eventOptions,i=e.windowListeners;if(n){for(var a in i)or(n,i[a],r);e.windowListeners={}}}(t)},this.classes=e,this.state=aZ(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function a7(e,t){"pointerId"in t?e.pointerIds.add(t.pointerId):e.touchIds=new Set(aL(t))}function a8(e,t){"pointerId"in t?e.pointerIds.delete(t.pointerId):aL(t).forEach(function(t){return e.touchIds.delete(t)})}function a9(e){return void 0===e&&(e=[]),e.splice(0,e.length)}function oe(e){var t=e.domTarget;return t&&"current"in t?t.current:t}function ot(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function on(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});for(var r,i=aO(t);!(r=i()).done;){var a=r.value,o=a[0],s=a[1];e.addEventListener(o,s,n)}}function or(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={});for(var r,i=aO(t);!(r=i()).done;){var a=r.value,o=a[0],s=a[1];e.removeEventListener(o,s,n)}}function oi(){}var oa=function(e){function t(){return e.apply(this,arguments)||this}aT(t,e);var n=t.prototype;return n.getInternalMovement=function(e,t){return av(e,t.initial)},n.checkIntentionality=function(e,t){if(!1===e[0]&&!1===e[1])return{_intentional:e,axis:this.state.axis};var n=t.map(Math.abs),r=n[0],i=n[1],a=this.state.axis||(r>i?"x":r<i?"y":void 0);return this.config.axis||this.config.lockDirection?a?this.config.axis&&a!==this.config.axis?{_intentional:e,_blocked:!0,axis:a}:(e["x"===a?1:0]=!1,{_intentional:e,_blocked:!1,axis:a}):{_intentional:[!1,!1],_blocked:!1,axis:a}:{_intentional:e,_blocked:!1,axis:a}},n.getKinematics=function(e,t){var n=this.getMovement(e);if(!n._blocked){var r=t.timeStamp-this.state.timeStamp;Object.assign(n,a_(n.movement,n.delta,r))}return n},n.mapStateValues=function(e){return{xy:e.values,vxvy:e.velocities}},t}(a1);function oo(e){"persist"in e&&"function"==typeof e.persist&&e.persist()}var os=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t.ingKey="dragging",t.stateKey="drag",t.setPointerCapture=function(e){if(!t.config.useTouch&&!document.pointerLockElement){var n=e.target,r=e.pointerId;n&&"setPointerCapture"in n&&n.setPointerCapture(r),t.updateGestureState({_dragTarget:n,_dragPointerId:r})}},t.releasePointerCapture=function(){if(!t.config.useTouch&&!document.pointerLockElement){var e=t.state,n=e._dragTarget,r=e._dragPointerId;if(r&&n&&"releasePointerCapture"in n&&(!("hasPointerCapture"in n)||n.hasPointerCapture(r)))try{n.releasePointerCapture(r)}catch(e){}}},t.preventScroll=function(e){t.state._dragPreventScroll&&e.cancelable&&e.preventDefault()},t.getEventId=function(e){return t.config.useTouch?e.changedTouches[0].identifier:e.pointerId},t.isValidEvent=function(e){return t.state._pointerId===t.getEventId(e)},t.shouldPreventWindowScrollY=t.config.experimental_preventWindowScrollY&&t.controller.supportsTouchEvents,t.setUpWindowScrollDetection=function(e){var n,r,i,a,o,s;oo(e),n=t.controller,r=t.stateKey,i=[["touchmove",t.preventScroll],["touchend",t.clean.bind(ak(t))],["touchcancel",t.clean.bind(ak(t))]],a={passive:!1},o=n.config,s=n.windowListeners,void 0===i&&(i=[]),void 0===a&&(a=o.eventOptions),o.window&&(or(o.window,s[r],a),on(o.window,s[r]=i,a)),t.setTimeout(t.startDrag.bind(ak(t)),250,e)},t.setUpDelayedDragTrigger=function(e){t.state._dragDelayed=!0,oo(e),t.setTimeout(t.startDrag.bind(ak(t)),t.config.delay,e)},t.setStartState=function(e){var n=aj(e,t.transform);t.updateSharedState(aF(e)),t.updateGestureState(aE({},a4(ak(t),n,e),a5(ak(t),e,!0),{_pointerId:t.getEventId(e)})),t.updateGestureState(t.getMovement(n))},t.onDragStart=function(e){a7(t.controller,e),t.enabled&&!t.state._active&&(t.setStartState(e),t.setPointerCapture(e),t.shouldPreventWindowScrollY?t.setUpWindowScrollDetection(e):t.config.delay>0?t.setUpDelayedDragTrigger(e):t.startDrag(e,!0))},t.onDragChange=function(e){if(!t.state.canceled&&t.state._active&&t.isValidEvent(e)&&(t.state._lastEventType!==e.type||e.timeStamp!==t.state.timeStamp)){if(document.pointerLockElement){var n,r=e.movementX,i=e.movementY;n=am(t.transform([r,i]),t.state.values)}else n=aj(e,t.transform);var a=t.getKinematics(n,e);if(!t.state._dragStarted){if(t.state._dragDelayed){t.startDrag(e);return}if(!t.shouldPreventWindowScrollY||t.state._dragPreventScroll||!a.axis)return;if("x"===a.axis)t.startDrag(e);else{t.state._active=!1;return}}var o=aF(e);t.updateSharedState(o);var s=a5(ak(t),e),l=ag(a._movement),u=t.state._dragIsTap;u&&l>=3&&(u=!1),t.updateGestureState(aE({},s,a,{_dragIsTap:u})),t.fireGestureHandler()}},t.onDragEnd=function(e){if(a8(t.controller,e),t.isValidEvent(e)&&(t.clean(),t.state._active)){t.state._active=!1;var n=t.state._dragIsTap,r=t.state.velocities,i=r[0],a=r[1],o=t.state.movement,s=o[0],l=o[1],u=t.state._intentional,c=u[0],d=u[1],f=t.config.swipeVelocity,h=f[0],p=f[1],m=t.config.swipeDistance,v=m[0],g=m[1],y=t.config.swipeDuration,_=aE({},a5(ak(t),e),t.getMovement(t.state.values)),b=[0,0];_.elapsedTime<y&&(!1!==c&&Math.abs(i)>h&&Math.abs(s)>v&&(b[0]=ab(i)),!1!==d&&Math.abs(a)>p&&Math.abs(l)>g&&(b[1]=ab(a))),t.updateSharedState({buttons:0}),t.updateGestureState(aE({},_,{tap:n,swipe:b})),t.fireGestureHandler(t.config.filterTaps&&!0===n)}},t.clean=function(){var n,r,i,a,o;e.prototype.clean.call(ak(t)),t.state._dragStarted=!1,t.releasePointerCapture(),n=t.controller,r=t.stateKey,a=n.config,o=n.windowListeners,void 0===i&&(i=a.eventOptions),a.window&&(or(a.window,o[r],i),delete o[r])},t.onCancel=function(){t.state.canceled||(t.updateGestureState({canceled:!0,_active:!1}),t.updateSharedState({buttons:0}),setTimeout(function(){return t.fireGestureHandler()},0))},t.onClick=function(e){t.state._dragIsTap||e.stopPropagation()},t}aT(t,e);var n=t.prototype;return n.startDrag=function(e,t){void 0===t&&(t=!1),this.state._active&&!this.state._dragStarted&&(t||this.setStartState(e),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())},n.addBindings=function(e){this.config.useTouch?(ot(e,"onTouchStart",this.onDragStart),ot(e,"onTouchMove",this.onDragChange),ot(e,"onTouchEnd",this.onDragEnd),ot(e,"onTouchCancel",this.onDragEnd)):(ot(e,"onPointerDown",this.onDragStart),ot(e,"onPointerMove",this.onDragChange),ot(e,"onPointerUp",this.onDragEnd),ot(e,"onPointerCancel",this.onDragEnd)),this.config.filterTaps&&ot(e,this.controller.config.eventOptions.capture?"onClick":"onClickCapture",this.onClick)},t}(oa),ol=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t.ingKey="pinching",t.stateKey="pinch",t.onPinchStart=function(e){a7(t.controller,e);var n=t.controller.touchIds;if(!(!t.enabled||t.state._active&&t.state._pointerIds.every(function(e){return n.has(e)}))&&!(n.size<2)){var r=Array.from(n).slice(0,2),i=aB(e,r,t.transform),a=i.values,o=i.origin;t.updateSharedState(aF(e)),t.updateGestureState(aE({},a4(ak(t),a,e),a5(ak(t),e,!0),{_pointerIds:r,cancel:t.onCancel,origin:o})),t.updateGestureState(t.getMovement(a)),t.fireGestureHandler()}},t.onPinchChange=function(e){var n=t.state,r=n.canceled,i=n._active;if(!r&&i&&e.timeStamp!==t.state.timeStamp){var a=aF(e);t.updateSharedState(a);try{var o=aB(e,t.state._pointerIds,t.transform),s=o.values,l=o.origin,u=t.getKinematics(s,e);t.updateGestureState(aE({},a5(ak(t),e),u,{origin:l})),t.fireGestureHandler()}catch(n){t.onPinchEnd(e)}}},t.onPinchEnd=function(e){a8(t.controller,e);var n=aL(e);!t.state._pointerIds.every(function(e){return!n.includes(e)})&&(t.clean(),t.state._active&&(t.updateGestureState(aE({},a5(ak(t),e),t.getMovement(t.state.values),{_active:!1})),t.fireGestureHandler()))},t.onCancel=function(){t.state.canceled||(t.updateGestureState({_active:!1,canceled:!0}),setTimeout(function(){return t.fireGestureHandler()},0))},t.onGestureStart=function(e){if(t.enabled){e.preventDefault();var n=aG(e,t.transform);t.updateSharedState(aF(e)),t.updateGestureState(aE({},a4(ak(t),n,e),a5(ak(t),e,!0),{origin:[e.clientX,e.clientY],cancel:t.onCancel})),t.updateGestureState(t.getMovement(n)),t.fireGestureHandler()}},t.onGestureChange=function(e){var n=t.state,r=n.canceled,i=n._active;if(!r&&i){e.preventDefault();var a=aF(e);t.updateSharedState(a);var o=aG(e,t.transform);o[0]=(o[0]-t.state.event.scale)*260+t.state.values[0];var s=t.getKinematics(o,e);t.updateGestureState(aE({},a5(ak(t),e),s,{origin:[e.clientX,e.clientY]})),t.fireGestureHandler()}},t.onGestureEnd=function(e){t.clean(),t.state._active&&(t.updateGestureState(aE({},a5(ak(t),e),t.getMovement(t.state.values),{_active:!1,origin:[e.clientX,e.clientY]})),t.fireGestureHandler())},t.wheelShouldRun=function(e){return t.enabled&&e.ctrlKey},t.getWheelValuesFromEvent=function(e){var n=aV(e,t.transform)[1],r=t.state.values,i=r[0],a=r[1],o=-(7*n),s=void 0!==a?a:0;return{values:[i+o,s],origin:[e.clientX,e.clientY],delta:[o,s]}},t.onWheel=function(e){t.wheelShouldRun(e)&&(t.setTimeout(t.onWheelEnd),t.state._active?t.onWheelChange(e):t.onWheelStart(e))},t.onWheelStart=function(e){var n=t.getWheelValuesFromEvent(e),r=n.values,i=n.delta,a=n.origin;e.cancelable&&e.preventDefault(),t.updateSharedState(aF(e)),t.updateGestureState(aE({},a4(ak(t),r,e,t.state.values),a5(ak(t),e,!0),{offset:r,delta:i,origin:a})),t.updateGestureState(t.getMovement(r)),t.fireGestureHandler()},t.onWheelChange=function(e){e.cancelable&&e.preventDefault(),t.updateSharedState(aF(e));var n=t.getWheelValuesFromEvent(e),r=n.values,i=n.origin,a=n.delta;t.updateGestureState(aE({},a5(ak(t),e),t.getKinematics(r,e),{origin:i,delta:a})),t.fireGestureHandler()},t.onWheelEnd=function(){t.clean(),t.state._active&&(t.state._active=!1,t.updateGestureState(t.getMovement(t.state.values)),t.fireGestureHandler())},t}return aT(t,e),t.prototype.addBindings=function(e){this.controller.config.domTarget&&!this.controller.supportsTouchEvents&&this.controller.supportsGestureEvents?(ot(e,"onGestureStart",this.onGestureStart),ot(e,"onGestureChange",this.onGestureChange),ot(e,"onGestureEnd",this.onGestureEnd)):(ot(e,"onTouchStart",this.onPinchStart),ot(e,"onTouchMove",this.onPinchChange),ot(e,"onTouchEnd",this.onPinchEnd),ot(e,"onTouchCancel",this.onPinchEnd),ot(e,"onWheel",this.onWheel))},t}(function(e){function t(){return e.apply(this,arguments)||this}aT(t,e);var n=t.prototype;return n.getInternalMovement=function(e,t){var n=t.values[1],r=e[0],i=e[1],a=void 0===i?n:i,o=a-n,s=t.turns;return Math.abs(o)>270&&(s+=ab(o)),av([r,a-360*s],t.initial)},n.getKinematics=function(e,t){var n=this.getMovement(e),r=(e[1]-n._movement[1]-this.state.initial[1])/360,i=t.timeStamp-this.state.timeStamp,a=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(a_(n.movement,n.delta,i),["distance","velocity"]);return aE({turns:r},n,a)},n.mapStateValues=function(e){return{da:e.values,vdva:e.velocities}},t}(a1)),ou=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t.ingKey="wheeling",t.stateKey="wheel",t.debounced=!0,t.handleEvent=function(e){if((!e.ctrlKey||!("pinch"in t.controller.handlers))&&t.enabled){t.setTimeout(t.onEnd),t.updateSharedState(aF(e));var n=am(aV(e,t.transform),t.state.values);if(t.state._active)t.updateGestureState(aE({},a5(ak(t),e),t.getKinematics(n,e)));else{t.updateGestureState(aE({},a4(ak(t),n,e,t.state.values),a5(ak(t),e,!0)));var r=t.getMovement(n),i=ay(r.delta);t.updateGestureState(r),t.updateGestureState(i)}t.fireGestureHandler()}},t.onEnd=function(){if(t.clean(),t.state._active){var e=t.getMovement(t.state.values);t.updateGestureState(e),t.updateGestureState({_active:!1,velocities:[0,0],velocity:0}),t.fireGestureHandler()}},t}return aT(t,e),t.prototype.addBindings=function(e){ot(e,"onWheel",this.handleEvent)},t}(oa),oc=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t.ingKey="moving",t.stateKey="move",t.debounced=!0,t.onMove=function(e){t.enabled&&(t.setTimeout(t.onMoveEnd),t.state._active?t.onMoveChange(e):t.onMoveStart(e))},t.onMoveStart=function(e){t.updateSharedState(aF(e));var n=aj(e,t.transform);t.updateGestureState(aE({},a4(ak(t),n,e),a5(ak(t),e,!0))),t.updateGestureState(t.getMovement(n)),t.fireGestureHandler()},t.onMoveChange=function(e){t.updateSharedState(aF(e));var n=aj(e,t.transform);t.updateGestureState(aE({},a5(ak(t),e),t.getKinematics(n,e))),t.fireGestureHandler()},t.onMoveEnd=function(){if(t.clean(),t.state._active){var e=t.state.values;t.updateGestureState(t.getMovement(e)),t.updateGestureState({velocities:[0,0],velocity:0,_active:!1}),t.fireGestureHandler()}},t.hoverTransform=function(){return t.controller.config.hover.transform||t.controller.config.transform},t.onPointerEnter=function(e){if(t.controller.state.shared.hovering=!0,t.controller.config.enabled){if(t.controller.config.hover.enabled){var n=aj(e,t.hoverTransform()),r=aE({},t.controller.state.shared,t.state,a5(ak(t),e,!0),{args:t.args,values:n,active:!0,hovering:!0});t.controller.handlers.hover(aE({},r,t.mapStateValues(r)))}"move"in t.controller.handlers&&t.onMoveStart(e)}},t.onPointerLeave=function(e){if(t.controller.state.shared.hovering=!1,"move"in t.controller.handlers&&t.onMoveEnd(),t.controller.config.hover.enabled){var n=aj(e,t.hoverTransform()),r=aE({},t.controller.state.shared,t.state,a5(ak(t),e),{args:t.args,values:n,active:!1});t.controller.handlers.hover(aE({},r,t.mapStateValues(r)))}},t}return aT(t,e),t.prototype.addBindings=function(e){"move"in this.controller.handlers&&ot(e,"onPointerMove",this.onMove),"hover"in this.controller.handlers&&(ot(e,"onPointerEnter",this.onPointerEnter),ot(e,"onPointerLeave",this.onPointerLeave))},t}(oa),od=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t.ingKey="scrolling",t.stateKey="scroll",t.debounced=!0,t.handleEvent=function(e){if(t.enabled){t.clearTimeout(),t.setTimeout(t.onEnd);var n,r,i,a,o,s,l=(void 0===(n=t.transform)&&(n=aR),i=(r=e.currentTarget).scrollX,a=r.scrollY,o=r.scrollLeft,s=r.scrollTop,n([i||o||0,a||s||0]));if(t.updateSharedState(aF(e)),t.state._active)t.updateGestureState(aE({},a5(ak(t),e),t.getKinematics(l,e)));else{t.updateGestureState(aE({},a4(ak(t),l,e,t.state.values),a5(ak(t),e,!0)));var u=t.getMovement(l),c=ay(u.delta);t.updateGestureState(u),t.updateGestureState(c)}t.fireGestureHandler()}},t.onEnd=function(){t.clean(),t.state._active&&(t.updateGestureState(aE({},t.getMovement(t.state.values),{_active:!1,velocities:[0,0],velocity:0})),t.fireGestureHandler())},t}return aT(t,e),t.prototype.addBindings=function(e){ot(e,"onScroll",this.handleEvent)},t}(oa),of=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function oh(e,t){var n=t+"Start",r=t+"End";return function(i){var a=void 0;return i.first&&n in e&&e[n](i),t in e&&(a=e[t](i)),i.last&&r in e&&e[r](i),a}}let op=(e,t)=>{let n=null!==e[0].index,r=new Set(Object.keys(e[0].attributes)),i=new Set(Object.keys(e[0].morphAttributes)),a={},o={},s=e[0].morphTargetsRelative,l=new ea.BufferGeometry,u=0;if(e.forEach((e,c)=>{let d=0;if(n!==(null!==e.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let t in e.attributes){if(!r.has(t))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+'. All geometries must have compatible attributes; make sure "'+t+'" attribute exists among all geometries, or in none of them.'),null;void 0===a[t]&&(a[t]=[]),a[t].push(e.attributes[t]),d++}if(d!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+". Make sure all geometries have the same number of attributes."),null;if(s!==e.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let t in e.morphAttributes){if(!i.has(t))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===o[t]&&(o[t]=[]),o[t].push(e.morphAttributes[t])}if(l.userData.mergedUserData=l.userData.mergedUserData||[],l.userData.mergedUserData.push(e.userData),t){let t;if(e.index)t=e.index.count;else{if(void 0===e.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+c+". The geometry must have either an index or a position attribute"),null;t=e.attributes.position.count}l.addGroup(u,t,c),u+=t}}),n){let t=0,n=[];e.forEach(e=>{let r=e.index;for(let e=0;e<r.count;++e)n.push(r.getX(e)+t);t+=e.attributes.position.count}),l.setIndex(n)}for(let e in a){let t=om(a[e]);if(!t)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+e+" attribute."),null;l.setAttribute(e,t)}for(let e in o){let t=o[e][0].length;if(0===t)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[e]=[];for(let n=0;n<t;++n){let t=[];for(let r=0;r<o[e].length;++r)t.push(o[e][r][n]);let r=om(t);if(!r)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+e+" morphAttribute."),null;l.morphAttributes[e].push(r)}}return l},om=e=>{let t,n,r;let i=0;if(e.forEach(e=>(void 0===t&&(t=e.array.constructor),t!==e.array.constructor)?(console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null):(void 0===n&&(n=e.itemSize),n!==e.itemSize)?(console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null):(void 0===r&&(r=e.normalized),r!==e.normalized)?(console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null):void(i+=e.array.length)),t&&n){let a=new t(i),o=0;return e.forEach(e=>{a.set(e.array,o),o+=e.array.length}),new ea.BufferAttribute(a,n,r)}},ov=new ea.Frustum,og=new ea.Vector3,oy=new ea.Vector3,o_=new ea.Vector3,ob=new ea.Vector3,ox=new ea.Vector3,ow=new ea.Vector3,oS=new ea.Vector3,oE=new ea.Vector3,oT=new ea.Vector3,ok=new ea.Vector3,oC=new ea.Vector3,oO=new ea.Vector3,oM=new ea.Vector3,oP=new ea.Vector3;class oU{constructor(e,t,n){this.camera=e,this.scene=t,this.startPoint=new ea.Vector3,this.endPoint=new ea.Vector3,this.collection=[],this.deep=n||Number.MAX_VALUE}select(e,t){return this.startPoint=e||this.startPoint,this.endPoint=t||this.endPoint,this.collection=[],this.updateFrustum(this.startPoint,this.endPoint),this.searchChildInFrustum(ov,this.scene),this.collection}updateFrustum(e,t){if(e=e||this.startPoint,t=t||this.endPoint,e.x===t.x&&(t.x+=Number.EPSILON),e.y===t.y&&(t.y+=Number.EPSILON),this.camera.updateProjectionMatrix(),this.camera.updateMatrixWorld(),this.camera.isPerspectiveCamera){oy.copy(e),oy.x=Math.min(e.x,t.x),oy.y=Math.max(e.y,t.y),t.x=Math.max(e.x,t.x),t.y=Math.min(e.y,t.y),o_.setFromMatrixPosition(this.camera.matrixWorld),ob.copy(oy),ox.set(t.x,oy.y,0),ow.copy(t),oS.set(oy.x,t.y,0),ob.unproject(this.camera),ox.unproject(this.camera),ow.unproject(this.camera),oS.unproject(this.camera),oO.copy(ob).sub(o_),oM.copy(ox).sub(o_),oP.copy(ow).sub(o_),oO.normalize(),oM.normalize(),oP.normalize(),oO.multiplyScalar(this.deep),oM.multiplyScalar(this.deep),oP.multiplyScalar(this.deep),oO.add(o_),oM.add(o_),oP.add(o_);var n=ov.planes;n[0].setFromCoplanarPoints(o_,ob,ox),n[1].setFromCoplanarPoints(o_,ox,ow),n[2].setFromCoplanarPoints(ow,oS,o_),n[3].setFromCoplanarPoints(oS,ob,o_),n[4].setFromCoplanarPoints(ox,ow,oS),n[5].setFromCoplanarPoints(oP,oM,oO),n[5].normal.multiplyScalar(-1)}else if(this.camera.isOrthographicCamera){let r=Math.min(e.x,t.x),i=Math.max(e.y,t.y),a=Math.max(e.x,t.x),o=Math.min(e.y,t.y);ob.set(r,i,-1),ox.set(a,i,-1),ow.set(a,o,-1),oS.set(r,o,-1),oE.set(r,i,1),oT.set(a,i,1),ok.set(a,o,1),oC.set(r,o,1),ob.unproject(this.camera),ox.unproject(this.camera),ow.unproject(this.camera),oS.unproject(this.camera),oE.unproject(this.camera),oT.unproject(this.camera),ok.unproject(this.camera),oC.unproject(this.camera);var n=ov.planes;n[0].setFromCoplanarPoints(ob,oE,oT),n[1].setFromCoplanarPoints(ox,oT,ok),n[2].setFromCoplanarPoints(ok,oC,oS),n[3].setFromCoplanarPoints(oC,oE,ob),n[4].setFromCoplanarPoints(ox,ow,oS),n[5].setFromCoplanarPoints(ok,oT,oE),n[5].normal.multiplyScalar(-1)}else console.error("THREE.SelectionBox: Unsupported camera type.")}searchChildInFrustum(e,t){if((t.isMesh||t.isLine||t.isPoints)&&void 0!==t.material&&(null===t.geometry.boundingSphere&&t.geometry.computeBoundingSphere(),og.copy(t.geometry.boundingSphere.center),og.applyMatrix4(t.matrixWorld),e.containsPoint(og)&&this.collection.push(t)),t.children.length>0)for(let n=0;n<t.children.length;n++)this.searchChildInFrustum(e,t.children[n])}}var oI=n(4901),oA=n(4184);function oz(e,t){let n=!1,r=e.reduce((e,t)=>({...e,[t.id]:{data:t,out:[],depth:-1,ins:[]}}),{});try{t.forEach(e=>{let t=e.fromId||e.source,n=e.toId||e.target;if(!r.hasOwnProperty(t))throw Error(`Missing source Node ${t}`);if(!r.hasOwnProperty(n))throw Error(`Missing target Node ${n}`);let i=r[t],a=r[n];a.ins.push(i),i.out.push(a)}),function e(t,n=[]){let r=n.length;for(let i of t){let t=n.indexOf(i);if(t>-1){let e=[...n.slice(t),i].map(e=>e.data.id);throw Error(`Invalid Graph: Circular node path detected: ${e.join(" -> ")}.`)}r>i.depth&&(i.depth=r,e(i.out,[...n,i]))}}(Object.values(r))}catch(e){n=!0}let i=Object.keys(r).map(e=>r[e].depth),a=Math.max(...i);return{invalid:n,depths:r,maxDepth:a||1}}!function(){try{if("undefined"!=typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode("._canvas_670zp_1 {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n._container_155l7_1 {\n  transform-origin: bottom right;\n  overflow: hidden;\n  position: absolute;\n  border: solid 1px var(--radial-menu-border);\n}\n\n  ._container_155l7_1._disabled_155l7_7 {\n    opacity: 0.6;\n  }\n\n  ._container_155l7_1._disabled_155l7_7 ._contentContainer_155l7_10 {\n      cursor: not-allowed;\n    }\n\n  ._container_155l7_1:not(._disabled_155l7_7) ._contentContainer_155l7_10 {\n      cursor: pointer;\n    }\n\n  ._container_155l7_1:not(._disabled_155l7_7) ._contentContainer_155l7_10:hover {\n        color: var(--radial-menu-active-color);\n        background: var(--radial-menu-active-background);\n      }\n\n  ._container_155l7_1 ._contentContainer_155l7_10 {\n    width: 200%;\n    height: 200%;\n    transform-origin: 50% 50%;\n    border-radius: 50%;\n    outline: none;\n    transition: background 150ms ease-in-out;\n    color: var(--radial-menu-color);\n  }\n\n  ._container_155l7_1 ._contentContainer_155l7_10 ._contentInner_155l7_35 {\n      position: absolute;\n      width: 100%;\n      text-align: center;\n    }\n\n  ._container_155l7_1 ._contentContainer_155l7_10 ._contentInner_155l7_35 ._content_155l7_10 {\n        display: inline-block;\n      }\n\n  ._container_155l7_1 svg {\n    margin: 0 auto;\n    fill: var(--radial-menu-active-color);\n    height: 25px;\n    width: 25px;\n    display: block;\n  }\n._container_x9hyx_1 {\n  border-radius: 50%;\n  z-index: 9;\n  position: relative;\n  height: 175px;\n  width: 175px;\n  border: solid 5px var(--radial-menu-border);\n  overflow: hidden;\n  background: var(--radial-menu-background);\n}\n\n  ._container_x9hyx_1:before {\n    content: ' ';\n    background: var(--radial-menu-border);\n    border-radius: 50%;\n    height: 25px;\n    width: 25px;\n    position: absolute;\n    z-index: 9;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  }")),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();let oD=["radialin","radialout"];function oN({nodes:e,links:t,mode:n="lr",nodeLevelRatio:r=2}){let{depths:i,maxDepth:a,invalid:o}=oz(e,t);if(o)return null;let s=oD.includes(n)?1:5,l=e.length/a*r*s;if(n){let t=(e,t)=>n=>e?(i[n.id].depth-a/2)*l*(t?-1:1):void 0,r=t(["lr","rl"].includes(n),"rl"===n),o=t(["td","bu"].includes(n),"td"===n),s=t(["zin","zout"].includes(n),"zout"===n);e.forEach(e=>{e.fx=r(e),e.fy=o(e),e.fz=s(e)})}return oD.includes(n)?(function(e,t,n,r){var i,a,o,s,l=tl(.1);function u(e){for(var l=0,u=i.length;l<u;++l){var c=i[l],d=c.x-t||1e-6,f=(c.y||0)-n||1e-6,h=(c.z||0)-r||1e-6,p=Math.sqrt(d*d+f*f+h*h),m=(s[l]-p)*o[l]*e/p;c.vx+=d*m,a>1&&(c.vy+=f*m),a>2&&(c.vz+=h*m)}}function c(){if(i){var t,n=i.length;for(t=0,o=Array(n),s=Array(n);t<n;++t)s[t]=+e(i[t],t,i),o[t]=isNaN(s[t])?0:+l(i[t],t,i)}}return"function"!=typeof e&&(e=tl(+e)),null==t&&(t=0),null==n&&(n=0),null==r&&(r=0),u.initialize=function(e,...t){i=e,a=t.find(e=>[1,2,3].includes(e))||2,c()},u.strength=function(e){return arguments.length?(l="function"==typeof e?e:tl(+e),c(),u):l},u.radius=function(t){return arguments.length?(e="function"==typeof t?t:tl(+t),c(),u):e},u.x=function(e){return arguments.length?(t=+e,u):t},u.y=function(e){return arguments.length?(n=+e,u):n},u.z=function(e){return arguments.length?(r=+e,u):r},u})(e=>{let t=i[e.id],r="radialin"===n?a-t.depth:t.depth;return r*l}).strength(1):null}function oL({graph:e,nodeLevelRatio:t=2,mode:n=null,dimensions:r=2,nodeStrength:i=-250,linkDistance:a=50,clusterPadding:o=10,clusterStrength:s=.5,drags:l,clusterAttribute:u}){let c=[],d=[],f=new Map;e.forEachNode(e=>{var t;c.push({...e,radius:(null==(t=e.data)?void 0:t.size)||1})}),e.forEachLink(e=>{d.push({...e,id:e.data.id,source:e.fromId,target:e.toId})});let h=2===r,p=h&&d.length>25?2*i:i,m=(function(e,t){let n;var r,i=Math.min(3,Math.max(1,Math.round(t=t||2))),a=1,o=.001,s=1-Math.pow(.001,1/300),l=0,u=.6,c=new Map,d=tk(p),f=tc("tick","end"),h=(n=1,()=>(n=(1664525*n+1013904223)%4294967296)/4294967296);function p(){m(),f.call("tick",r),a<o&&(d.stop(),f.call("end",r))}function m(t){var n,o,d=e.length;void 0===t&&(t=1);for(var f=0;f<t;++f)for(a+=(l-a)*s,c.forEach(function(e){e(a)}),n=0;n<d;++n)null==(o=e[n]).fx?o.x+=o.vx*=u:(o.x=o.fx,o.vx=0),i>1&&(null==o.fy?o.y+=o.vy*=u:(o.y=o.fy,o.vy=0)),i>2&&(null==o.fz?o.z+=o.vz*=u:(o.z=o.fz,o.vz=0));return r}function v(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),null!=t.fz&&(t.z=t.fz),isNaN(t.x)||i>1&&isNaN(t.y)||i>2&&isNaN(t.z)){var a=10*(i>2?Math.cbrt(.5+n):i>1?Math.sqrt(.5+n):n),o=n*tA,s=n*tz;1===i?t.x=a:2===i?(t.x=a*Math.cos(o),t.y=a*Math.sin(o)):(t.x=a*Math.sin(o)*Math.cos(s),t.y=a*Math.cos(o),t.z=a*Math.sin(o)*Math.sin(s))}(isNaN(t.vx)||i>1&&isNaN(t.vy)||i>2&&isNaN(t.vz))&&(t.vx=0,i>1&&(t.vy=0),i>2&&(t.vz=0))}}function g(t){return t.initialize&&t.initialize(e,h,i),t}return null==e&&(e=[]),v(),r={tick:m,restart:function(){return d.restart(p),r},stop:function(){return d.stop(),r},numDimensions:function(e){return arguments.length?(i=Math.min(3,Math.max(1,Math.round(e))),c.forEach(g),r):i},nodes:function(t){return arguments.length?(e=t,v(),c.forEach(g),r):e},alpha:function(e){return arguments.length?(a=+e,r):a},alphaMin:function(e){return arguments.length?(o=+e,r):o},alphaDecay:function(e){return arguments.length?(s=+e,r):+s},alphaTarget:function(e){return arguments.length?(l=+e,r):l},velocityDecay:function(e){return arguments.length?(u=1-e,r):1-u},randomSource:function(e){return arguments.length?(h=e,c.forEach(g),r):h},force:function(e,t){return arguments.length>1?(null==t?c.delete(e):c.set(e,g(t)),r):c.get(e)},find:function(){var t,n,r,a,o,s,l=Array.prototype.slice.call(arguments),u=l.shift()||0,c=(i>1?l.shift():null)||0,d=(i>2?l.shift():null)||0,f=l.shift()||1/0,h=0,p=e.length;for(f*=f,h=0;h<p;++h)(a=(t=u-(o=e[h]).x)*t+(n=c-(o.y||0))*n+(r=d-(o.z||0))*r)<f&&(s=o,f=a);return s},on:function(e,t){return arguments.length>1?(f.on(e,t),r):f.on(e)}}})().force("link",function(e){var t,n,r,i,a,o,s,l=tN,u=function(e){return 1/Math.min(a[e.source.index],a[e.target.index])},c=tl(30),d=1;function f(r){for(var a=0,l=e.length;a<d;++a)for(var u,c,f,h,p,m=0,v=0,g=0,y=0;m<l;++m)c=(u=e[m]).source,v=(f=u.target).x+f.vx-c.x-c.vx||tD(s),i>1&&(g=f.y+f.vy-c.y-c.vy||tD(s)),i>2&&(y=f.z+f.vz-c.z-c.vz||tD(s)),h=((h=Math.sqrt(v*v+g*g+y*y))-n[m])/h*r*t[m],v*=h,g*=h,y*=h,f.vx-=v*(p=o[m]),i>1&&(f.vy-=g*p),i>2&&(f.vz-=y*p),c.vx+=v*(p=1-p),i>1&&(c.vy+=g*p),i>2&&(c.vz+=y*p)}function h(){if(r){var i,s,u=r.length,c=e.length,d=new Map(r.map((e,t)=>[l(e,t,r),e]));for(i=0,a=Array(u);i<c;++i)(s=e[i]).index=i,"object"!=typeof s.source&&(s.source=tL(d,s.source)),"object"!=typeof s.target&&(s.target=tL(d,s.target)),a[s.source.index]=(a[s.source.index]||0)+1,a[s.target.index]=(a[s.target.index]||0)+1;for(i=0,o=Array(c);i<c;++i)s=e[i],o[i]=a[s.source.index]/(a[s.source.index]+a[s.target.index]);t=Array(c),p(),n=Array(c),m()}}function p(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+u(e[n],n,e)}function m(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e,...t){r=e,s=t.find(e=>"function"==typeof e)||Math.random,i=t.find(e=>[1,2,3].includes(e))||2,h()},f.links=function(t){return arguments.length?(e=t,h(),f):e},f.id=function(e){return arguments.length?(l=e,f):l},f.iterations=function(e){return arguments.length?(d=+e,f):d},f.strength=function(e){return arguments.length?(u="function"==typeof e?e:tl(+e),p(),f):u},f.distance=function(e){return arguments.length?(c="function"==typeof e?e:tl(+e),m(),f):c},f}()).force("charge",(function(){var e,t,n,r,i,a,o=tl(-30),s=1,l=1/0,u=.81;function c(r){var a,o=e.length,s=(1===t?tB(e,tP):2===t?tX(e,tP,tU):3===t?t5(e,tP,tU,tI):null).visitAfter(f);for(i=r,a=0;a<o;++a)n=e[a],s.visit(h)}function d(){if(e){var t,n,r=e.length;for(t=0,a=Array(r);t<r;++t)a[(n=e[t]).index]=+o(n,t,e)}}function f(e){var n,r,i,o,s,l,u=0,c=0,d=e.length;if(d){for(i=o=s=l=0;l<d;++l)(n=e[l])&&(r=Math.abs(n.value))&&(u+=n.value,c+=r,i+=r*(n.x||0),o+=r*(n.y||0),s+=r*(n.z||0));u*=Math.sqrt(4/d),e.x=i/c,t>1&&(e.y=o/c),t>2&&(e.z=s/c)}else{(n=e).x=n.data.x,t>1&&(n.y=n.data.y),t>2&&(n.z=n.data.z);do u+=a[n.data.index];while(n=n.next)}e.value=u}function h(e,o,c,d,f){if(!e.value)return!0;var h=[c,d,f][t-1],p=e.x-n.x,m=t>1?e.y-n.y:0,v=t>2?e.z-n.z:0,g=h-o,y=p*p+m*m+v*v;if(g*g/u<y)return y<l&&(0===p&&(y+=(p=tD(r))*p),t>1&&0===m&&(y+=(m=tD(r))*m),t>2&&0===v&&(y+=(v=tD(r))*v),y<s&&(y=Math.sqrt(s*y)),n.vx+=p*e.value*i/y,t>1&&(n.vy+=m*e.value*i/y),t>2&&(n.vz+=v*e.value*i/y)),!0;if(!e.length&&!(y>=l)){(e.data!==n||e.next)&&(0===p&&(y+=(p=tD(r))*p),t>1&&0===m&&(y+=(m=tD(r))*m),t>2&&0===v&&(y+=(v=tD(r))*v),y<s&&(y=Math.sqrt(s*y)));do e.data!==n&&(g=a[e.data.index]*i/y,n.vx+=p*g,t>1&&(n.vy+=m*g),t>2&&(n.vz+=v*g));while(e=e.next)}}return c.initialize=function(n,...i){e=n,r=i.find(e=>"function"==typeof e)||Math.random,t=i.find(e=>[1,2,3].includes(e))||2,d()},c.strength=function(e){return arguments.length?(o="function"==typeof e?e:tl(+e),d(),c):o},c.distanceMin=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c.distanceMax=function(e){return arguments.length?(l=e*e,c):Math.sqrt(l)},c.theta=function(e){return arguments.length?(u=e*e,c):Math.sqrt(u)},c})().strength(p)).force("x",function(e){var t,n,r,i=tl(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)i=t[a],i.vx+=(r[a]-i.x)*n[a]*e}function o(){if(t){var a,o=t.length;for(a=0,n=Array(o),r=Array(o);a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!=typeof e&&(e=tl(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"==typeof e?e:tl(+e),o(),a):i},a.x=function(t){return arguments.length?(e="function"==typeof t?t:tl(+t),o(),a):e},a}()).force("y",function(e){var t,n,r,i=tl(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)i=t[a],i.vy+=(r[a]-i.y)*n[a]*e}function o(){if(t){var a,o=t.length;for(a=0,n=Array(o),r=Array(o);a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!=typeof e&&(e=tl(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"==typeof e?e:tl(+e),o(),a):i},a.y=function(t){return arguments.length?(e="function"==typeof t?t:tl(+t),o(),a):e},a}()).force("z",function(e){var t,n,r,i=tl(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)i=t[a],i.vz+=(r[a]-i.z)*n[a]*e}function o(){if(t){var a,o=t.length;for(a=0,n=Array(o),r=Array(o);a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!=typeof e&&(e=tl(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"==typeof e?e:tl(+e),o(),a):i},a.z=function(t){return arguments.length?(e="function"==typeof t?t:tl(+t),o(),a):e},a}()).force("collide",function(e){var t,n,r,i,a=1,o=1;function s(){for(var e,s,u,c,d,f,h,p,m=t.length,v=0;v<o;++v)for(e=0,s=(1===n?tB(t,t8):2===n?tX(t,t8,t9):3===n?t5(t,t8,t9,ne):null).visitAfter(l);e<m;++e)p=(h=r[(u=t[e]).index])*h,c=u.x+u.vx,n>1&&(d=u.y+u.vy),n>2&&(f=u.z+u.vz),s.visit(g);function g(e,t,r,o,s,l,m){var v=[t,r,o,s,l,m],g=v[0],y=v[1],_=v[2],b=v[n],x=v[n+1],w=v[n+2],S=e.data,E=e.r,T=h+E;if(S){if(S.index>u.index){var k=c-S.x-S.vx,C=n>1?d-S.y-S.vy:0,O=n>2?f-S.z-S.vz:0,M=k*k+C*C+O*O;M<T*T&&(0===k&&(M+=(k=tD(i))*k),n>1&&0===C&&(M+=(C=tD(i))*C),n>2&&0===O&&(M+=(O=tD(i))*O),M=(T-(M=Math.sqrt(M)))/M*a,u.vx+=(k*=M)*(T=(E*=E)/(p+E)),n>1&&(u.vy+=(C*=M)*T),n>2&&(u.vz+=(O*=M)*T),S.vx-=k*(T=1-T),n>1&&(S.vy-=C*T),n>2&&(S.vz-=O*T))}return}return g>c+T||b<c-T||n>1&&(y>d+T||x<d-T)||n>2&&(_>f+T||w<f-T)}}function l(e){if(e.data)return e.r=r[e.data.index];for(var t=e.r=0;t<Math.pow(2,n);++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function u(){if(t){var n,i,a=t.length;for(n=0,r=Array(a);n<a;++n)r[(i=t[n]).index]=+e(i,n,t)}}return"function"!=typeof e&&(e=tl(null==e?1:+e)),s.initialize=function(e,...r){t=e,i=r.find(e=>"function"==typeof e)||Math.random,n=r.find(e=>[1,2,3].includes(e))||2,u()},s.iterations=function(e){return arguments.length?(o=+e,s):o},s.strength=function(e){return arguments.length?(a=+e,s):a},s.radius=function(t){return arguments.length?(e="function"==typeof t?t:tl(+t),u(),s):e},s}(e=>e.radius+o)).force("dagRadial",oN({nodes:c,links:d,mode:n,nodeLevelRatio:t})).stop(),v=m.numDimensions(r).nodes(c).force("cluster",(function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return{x:0,y:0,z:0}},r=[],i=.1,a=0;function o(n){var o,s,l,u,c,d;n*=i*n,t.forEach(function(t,i){(o=r[i])&&o!==t&&(c=Math.sqrt((s=t.x-o.x)*s+(l=e>1?t.y-o.y:0)*l+(u=e>2?t.z-o.z:0)*u),d=t.radius+(o.radius||0),c&&c!==d&&(c=(c-d)/c*n,t.x-=s*=c,o.x+=(1-a)*s,e>1&&(t.y-=l*=c,o.y+=(1-a)*l),e>2&&(t.z-=u*=c,o.z+=(1-a)*u)))})}function s(){r=(t||[]).map(n)}return o.initialize=function(n){t=n;for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];e=i.find(function(e){return[1,2,3].includes(e)})||2,s()},o.centers=function(e){return arguments.length?(n=e,s(),o):n},o.strength=function(e){return arguments.length?(i=+e,o):i},o.centerInertia=function(e){return arguments.length?(a=+e,o):a},o})().centers(e=>{var t,n;if(u){let r=null==(n=null==(t=e.data)?void 0:t.data)?void 0:n[u],i=f.get(r);if(!i){let t=c.reduce((e,t)=>{var n,i;return(null==(i=null==(n=t.data)?void 0:n.data)?void 0:i[u])===r&&t.radius>e.radius?t:e},e);return f.set(r,t),t}return i}}).strength(s)),g=v.force("link");g&&g.id(e=>e.id).links(d).distance(a);let y=new Map(c.map(e=>[e.id,e]));return{step:()=>(m.tick(100),!0),getNodePosition:e=>(null==l?void 0:l[e])||y.get(e)}}let oF=({graph:e,radius:t=300})=>nt(e,{radius:t,center:{x:0,y:0}}),oR={td:{x:"x",y:"y",factor:-1},lr:{x:"y",y:"x",factor:1}};function oj({graph:e,mode:t="td"}){let n=[],r=[];e.forEachNode(e=>{n.push({...e})}),e.forEachLink(e=>{r.push({...e,id:e.data.id,source:e.fromId,target:e.toId})});let{depths:i}=oz(n,r),a=Object.keys(i).map(e=>i[e]),o=(function(){var e,t=nh,n=np;function r(r){var i,a,o,s,l,u,c,d,f=Array.from(r),h=t,p=n,m=new Map;if(null!=e){let t=f.map((t,n)=>{var i;let a;return a=(i=`${i=e(t,n,r)}`).length,nv(i,a-1)&&!nv(i,a-2)&&(i=i.slice(0,-1)),"/"===i[0]?i:`/${i}`}),n=t.map(nm),i=new Set(t).add("");for(let e of n)i.has(e)||(i.add(e),t.push(e),n.push(nm(e)),f.push(nf));h=(e,n)=>t[n],p=(e,t)=>n[t]}for(o=0,i=f.length;o<i;++o)a=f[o],u=f[o]=new nu(a),null!=(c=h(a,o,r))&&(c+="")&&(d=u.id=c,m.set(d,m.has(d)?nd:u)),null!=(c=p(a,o,r))&&(c+="")&&(u.parent=c);for(o=0;o<i;++o)if(c=(u=f[o]).parent){if(!(l=m.get(c)))throw Error("missing: "+c);if(l===nd)throw Error("ambiguous: "+c);l.children?l.children.push(u):l.children=[u],u.parent=l}else{if(s)throw Error("multiple roots");s=u}if(!s)throw Error("no root");if(null!=e){for(;s.data===nf&&1===s.children.length;)s=s.children[0],--i;for(let e=f.length-1;e>=0&&(u=f[e]).data===nf;--e)u.data=null}if(s.parent=nc,s.eachBefore(function(e){e.depth=e.parent.depth+1,--i}).eachBefore(nl),s.parent=null,i>0)throw Error("cycle");return s}return r.id=function(e){return arguments.length?(t=nn(e),r):t},r.parentId=function(e){return arguments.length?(n=nn(e),r):n},r.path=function(t){return arguments.length?(e=nn(t),r):e},r})().id(e=>e.data.id).parentId(e=>{var t,n,r;return null==(r=null==(n=null==(t=e.ins)?void 0:t[0])?void 0:n.data)?void 0:r.id})(a),s=(function(){var e=ng,t=1,n=1,r=null;function i(i){var l=function(e){for(var t,n,r,i,a,o=new nb(e,0),s=[o];t=s.pop();)if(r=t._.children)for(t.children=Array(a=r.length),i=a-1;i>=0;--i)s.push(n=t.children[i]=new nb(r[i],i)),n.parent=t;return(o.parent=new nb(null,0)).children=[o],o}(i);if(l.eachAfter(a),l.parent.m=-l.z,l.eachBefore(o),r)i.eachBefore(s);else{var u=i,c=i,d=i;i.eachBefore(function(e){e.x<u.x&&(u=e),e.x>c.x&&(c=e),e.depth>d.depth&&(d=e)});var f=u===c?1:e(u,c)/2,h=f-u.x,p=t/(c.x+f+h),m=n/(d.depth||1);i.eachBefore(function(e){e.x=(e.x+h)*p,e.y=e.depth*m})}return i}function a(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)t=i[a],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var a=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,a,o,s=t,l=t,u=n,c=s.parent.children[0],d=s.m,f=l.m,h=u.m,p=c.m;u=n_(u),s=ny(s),u&&s;)c=ny(c),(l=n_(l)).a=t,(o=u.z+h-s.z-d+e(u._,s._))>0&&(function(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}((i=u,a=r,i.a.parent===t.parent?i.a:a),t,o),d+=o,f+=o),h+=u.m,d+=s.m,p+=c.m,f+=l.m;u&&!n_(l)&&(l.t=u,l.m+=h-f),s&&!ny(c)&&(c.t=s,c.m+=d-p,r=t)}return r}(t,i,t.parent.A||r[0])}function o(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i})().separation(()=>1).nodeSize([50,50])(ni(o)),l=s.descendants(),u=oR[t],c=new Map(n.map(e=>{let{x:t,y:n}=l.find(t=>t.data.id===e.id);return[e.id,{...e,[u.x]:t*u.factor,[u.y]:n*u.factor,z:0}]}));return{step:()=>!0,getNodePosition:e=>c.get(e)}}let oB=["forceDirected2d","treeTd2d","treeLr2d","radialOut2d","treeTd3d","treeLr3d","radialOut3d","forceDirected3d"];function oV({type:e,...t}){if(oB.includes(e)){let{nodeStrength:n,linkDistance:r,clusterPadding:i,clusterStrength:a,nodeLevelRatio:o}=t;if("forceDirected2d"===e)return oL({...t,dimensions:2,nodeLevelRatio:o||2,nodeStrength:n||-250,linkDistance:r||50,clusterPadding:i||10,clusterStrength:a||.5});if("treeTd2d"===e)return oL({...t,mode:"td",dimensions:2,nodeLevelRatio:o||5,nodeStrength:n||-250,linkDistance:r||50});if("treeLr2d"===e)return oL({...t,mode:"lr",dimensions:2,nodeLevelRatio:o||5,nodeStrength:n||-250,linkDistance:r||50});if("radialOut2d"===e)return oL({...t,mode:"radialout",dimensions:2,nodeLevelRatio:o||5,nodeStrength:n||-500,linkDistance:r||100});else if("treeTd3d"===e)return oL({...t,mode:"td",dimensions:3,nodeLevelRatio:o||2,nodeStrength:n||-500,linkDistance:r||50});else if("treeLr3d"===e)return oL({...t,mode:"lr",dimensions:3,nodeLevelRatio:o||2,nodeStrength:n||-500,linkDistance:r||50});else if("radialOut3d"===e)return oL({...t,mode:"radialout",dimensions:3,nodeLevelRatio:o||2,nodeStrength:n||-500,linkDistance:r||100});else if("forceDirected3d"===e)return oL({...t,dimensions:3,nodeLevelRatio:o||2,nodeStrength:n||-250,linkDistance:r||50})}else if("circular2d"===e){let{radius:e}=t;return oF({...t,radius:e||300})}else if("hierarchicalTd"===e)return oj({...t,mode:"td"});else if("hierarchicalLr"===e)return oj({...t,mode:"lr"});throw Error(`Layout ${e} not found.`)}function oG(e,t){let n;!function r(){n?t(n):(n=e.step(),r())}()}function oH(e,t){let{invalid:n}=oz(e,t),r=e.length;return n?"forceDirected2d":r>100?"radialOut2d":"treeTd2d"}function oW({graph:e}){let t=nx(e);return{ranks:t,getSizeForNode:e=>80*t[e]}}function o$({graph:e,minSize:t,maxSize:n}){let r=nw.closeness(e);return{ranks:r,getSizeForNode:e=>20*r[e]}}function oq({graph:e,attribute:t,defaultSize:n}){let r=new Map;return t?e.forEachNode(e=>{let n=e.data.data[t];isNaN(n)&&console.warn(`Attribute ${n} is not a number for node ${e.id}`),r.set(e.id,n||0)}):console.warn("Attribute sizing configured but no attribute provided"),{getSizeForNode:e=>t&&r?r.get(e):n}}let oY={pagerank:oW,centrality:o$,attribute:oq,none:({defaultSize:e})=>({getSizeForNode:t=>e})};function oX({type:e,...t}){var n;let r,i;let a=null==(n=oY[e])?void 0:n.call(oY,t);if(!a)throw Error(`Unknown sizing strategy: ${e}`);let{graph:o,minSize:s,maxSize:l}=t,u=new Map;if(o.forEachNode(e=>{var t;let n=(null==(t=e.data)?void 0:t.size)||a.getSizeForNode(e.id);(void 0===r||n<r)&&(r=n),(void 0===i||n>i)&&(i=n),u.set(e.id,n)}),"none"!==e){let e=(function e(){var t,n=(function(){var e,t,n,r,i,a,o=ry,s=ry,l=rm,u=r_;function c(){var e,t,n,l=Math.min(o.length,s.length);return u!==r_&&((e=o[0])>(t=o[l-1])&&(n=e,e=t,t=n),u=function(n){return Math.max(e,Math.min(t,n))}),r=l>2?rw:rx,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),s,l)))(e(u(t)))}return d.invert=function(n){return u(t((a||(a=r(s,o.map(e),ru)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,rg),c()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=rv,c()},d.clamp=function(e){return arguments.length?(u=!!e||r_,c()):u!==r_},d.interpolate=function(e){return arguments.length?(l=e,c()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,c()}})()(r_,r_);return n.copy=function(){return e().domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())},rS.apply(n,arguments),t=n.domain,n.ticks=function(e){var n=t();return function(e,t,n){if(t=+t,e=+e,!((n=+n)>0))return[];if(e===t)return[e];let r=t<e,[i,a,o]=r?nk(t,e,n):nk(e,t,n);if(!(a>=i))return[];let s=a-i+1,l=Array(s);if(r){if(o<0)for(let e=0;e<s;++e)l[e]=-((a-e)/o);else for(let e=0;e<s;++e)l[e]=(a-e)*o}else if(o<0)for(let e=0;e<s;++e)l[e]=-((i+e)/o);else for(let e=0;e<s;++e)l[e]=(i+e)*o;return l}(n[0],n[n.length-1],null==e?10:e)},n.tickFormat=function(e,n){var r=t();return function(e,t,n,r){var i,a,o=function(e,t,n){t=+t,e=+e,n=+n;let r=t<e,i=r?nC(t,e,n):nC(e,t,n);return(r?-1:1)*(i<0?-(1/i):i)}(e,t,n);switch((r=rT(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(rO(s)/3)))-rO(Math.abs(o))))||(r.precision=a),J(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN((i=o,a=Math.max(0,rO(Math.abs(Math.max(Math.abs(e),Math.abs(t)))-(i=Math.abs(i)))-rO(i))+1))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=Math.max(0,-rO(Math.abs(o))))||(r.precision=a-("%"===r.type)*2)}return Z(r)}(r[0],r[r.length-1],null==e?10:e,n)},n.nice=function(e){null==e&&(e=10);var r,i,a=t(),o=0,s=a.length-1,l=a[o],u=a[s],c=10;for(u<l&&(i=l,l=u,u=i,i=o,o=s,s=i);c-- >0;){if((i=nC(l,u,e))===r)return a[o]=l,a[s]=u,t(a);if(i>0)l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i;else if(i<0)l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i;else break;r=i}return n},n})().domain([r,i]).rangeRound([s,l]);for(let[t,n]of u)u.set(t,e(n))}return u}function oQ(e,t){return(n,r)=>"all"===t||"nodes"===t&&"node"===n||"edges"===t&&"edge"===n||"auto"===t&&"node"===n&&(e<=20||r>7)}function oK(e,t){switch(t){case"above":return e;case"below":return-e;default:return 0}}let oZ={mass:10,tension:1e3,friction:300,precision:.1};function oJ(e,t,n){let r=t.getLength(),i=(("end"===e?r:r/2)-("end"===e?n/2:0))/r,a=t.getPointAt(i),o=t.getTangentAt(i);return[a,o]}function o0(e){return[e+6,2+e/1.5]}function o1(e,t,n=0){let r=new ea.Vector3(e.x,e.y||0,e.z||0),i=new ea.Vector3(t.x,t.y||0,t.z||0),a=new ea.Vector3().addVectors(r,i).divideScalar(2);return a.setLength(a.length()+n)}function o2(e,t,n=-1){let r=e.clone(),i=t.clone(),a=new ea.Vector3().subVectors(i,r),o=a.length(),s=a.clone().normalize(),l=new ea.Vector3().subVectors(i,r).divideScalar(2),u=Math.abs(s.x)%1,c=new ea.Vector3(-s.y,s.x-u*s.z,u*s.y).normalize(),d=new ea.Vector3().add(r).add(l).add(c.multiplyScalar(o/4).multiplyScalar(n));return[e,d,t]}function o3(e,t,n,r,i){let a=o4(e,n,t),o=o4(n,e,r);return i?new ea.QuadraticBezierCurve3(...o2(a,o)):new ea.LineCurve3(a,o)}function o5(e){return new ea.Vector3(e.position.x,e.position.y,e.position.z||0)}function o4(e,t,n){let r=e.distanceTo(t);return e.clone().add(t.clone().sub(e).multiplyScalar(n/r))}function o6(e){let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;for(let s of e)t=Math.min(t,s.position.x),n=Math.max(n,s.position.x),r=Math.min(r,s.position.y),i=Math.max(i,s.position.y),a=Math.min(a,s.position.z),o=Math.max(o,s.position.z);return{minX:t,maxX:n,minY:r,maxY:i,minZ:a,maxZ:o,x:(n+t)/2,y:(i+r)/2,z:(o+a)/2}}let{Provider:o7,useStore:o8}=function(){let e=(0,ei.createContext)(void 0);return{Provider:({createStore:t,children:n})=>{let r=(0,ei.useRef)();return r.current||(r.current=t()),(0,ei.createElement)(e.Provider,{value:r.current},n)},useStore:(t,n)=>{let r=(0,ei.useContext)(e);if(!r)throw Error("Seems like you have not used zustand provider as an ancestor.");return rF(r,t,n)},useStoreApi:()=>{let t=(0,ei.useContext)(e);if(!t)throw Error("Seems like you have not used zustand provider as an ancestor.");return(0,ei.useMemo)(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])}}}(),o9=({actives:e=[],selections:t=[],collapsedNodeIds:n=[]})=>rj(r=>({edges:[],nodes:[],collapsedNodeIds:n,panning:!1,draggingId:null,actives:e,edgeContextMenus:new Set,setEdgeContextMenus:e=>r(t=>({...t,edgeContextMenus:e})),edgeMeshes:[],setEdgeMeshes:e=>r(t=>({...t,edgeMeshes:e})),selections:t,drags:{},graph:rB(),setPanning:e=>r(t=>({...t,panning:e})),setDrags:e=>r(t=>({...t,drags:e})),setDraggingId:e=>r(t=>({...t,draggingId:e})),setActives:e=>r(t=>({...t,actives:e})),setSelections:e=>r(t=>({...t,selections:e})),setNodes:e=>r(t=>({...t,nodes:e})),setEdges:e=>r(t=>({...t,edges:e})),setNodePosition:(e,t)=>r(n=>{var r,i;let a=n.nodes.find(t=>t.id===e),o=o5(a),s=new ea.Vector3(t.x,t.y,t.z),l=s.sub(o),u=[...n.nodes];if(null==(r=n.selections)?void 0:r.includes(e))null==(i=n.selections)||i.forEach(e=>{let t=n.nodes.find(t=>t.id===e);if(t){let e=n.nodes.indexOf(t);u[e]=se(t,l)}});else{let e=n.nodes.indexOf(a);u[e]=se(a,l)}return{...n,drags:{...n.drags,[e]:a},nodes:u}}),setCollapsedNodeIds:(e=[])=>r(t=>({...t,collapsedNodeIds:e}))}));function se(e,t){return{...e,position:{...e.position,x:e.position.x+t.x,y:e.position.y+t.y,z:e.position.z+t.z}}}var st="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},sn=function(e,t){return e===t||e!=e&&t!=t},sr=function(e,t){for(var n=e.length;n--;)if(sn(e[n][0],t))return n;return -1},si=Array.prototype.splice;function sa(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sa.prototype.clear=function(){this.__data__=[],this.size=0},sa.prototype.delete=function(e){var t=this.__data__,n=sr(t,e);return!(n<0)&&(n==t.length-1?t.pop():si.call(t,n,1),--this.size,!0)},sa.prototype.get=function(e){var t=this.__data__,n=sr(t,e);return n<0?void 0:t[n][1]},sa.prototype.has=function(e){return sr(this.__data__,e)>-1},sa.prototype.set=function(e,t){var n=this.__data__,r=sr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var so="object"==typeof st&&st&&st.Object===Object&&st,ss="object"==typeof self&&self&&self.Object===Object&&self,sl=so||ss||Function("return this")(),su=sl.Symbol,sc=Object.prototype,sd=sc.hasOwnProperty,sf=sc.toString,sh=su?su.toStringTag:void 0,sp=Object.prototype.toString,sm=function(e){var t=sd.call(e,sh),n=e[sh];try{e[sh]=void 0;var r=!0}catch(e){}var i=sf.call(e);return r&&(t?e[sh]=n:delete e[sh]),i},sv=su?su.toStringTag:void 0,sg=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":sv&&sv in Object(e)?sm(e):sp.call(e)},sy=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},s_=function(e){if(!sy(e))return!1;var t=sg(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},sb=sl["__core-js_shared__"],sx=(z=/[^.]+$/.exec(sb&&sb.keys&&sb.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",sw=Function.prototype.toString,sS=function(e){if(null!=e){try{return sw.call(e)}catch(e){}try{return e+""}catch(e){}}return""},sE=/^\[object .+?Constructor\]$/,sT=Object.prototype,sk=Function.prototype.toString,sC=sT.hasOwnProperty,sO=RegExp("^"+sk.call(sC).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sM=function(e,t){var n,r=null==e?void 0:e[t];return sy(n=r)&&(!sx||!(sx in n))&&(s_(n)?sO:sE).test(sS(n))?r:void 0},sP=sM(sl,"Map"),sU=sM(Object,"create"),sI=Object.prototype.hasOwnProperty,sA=Object.prototype.hasOwnProperty;function sz(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sz.prototype.clear=function(){this.__data__=sU?sU(null):{},this.size=0},sz.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},sz.prototype.get=function(e){var t=this.__data__;if(sU){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return sI.call(t,e)?t[e]:void 0},sz.prototype.has=function(e){var t=this.__data__;return sU?void 0!==t[e]:sA.call(t,e)},sz.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=sU&&void 0===t?"__lodash_hash_undefined__":t,this};var sD=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},sN=function(e,t){var n=e.__data__;return sD(t)?n["string"==typeof t?"string":"hash"]:n.map};function sL(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function sF(e){var t=this.__data__=new sa(e);this.size=t.size}function sR(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new sL;++t<n;)this.add(e[t])}sL.prototype.clear=function(){this.size=0,this.__data__={hash:new sz,map:new(sP||sa),string:new sz}},sL.prototype.delete=function(e){var t=sN(this,e).delete(e);return this.size-=t?1:0,t},sL.prototype.get=function(e){return sN(this,e).get(e)},sL.prototype.has=function(e){return sN(this,e).has(e)},sL.prototype.set=function(e,t){var n=sN(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},sF.prototype.clear=function(){this.__data__=new sa,this.size=0},sF.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},sF.prototype.get=function(e){return this.__data__.get(e)},sF.prototype.has=function(e){return this.__data__.has(e)},sF.prototype.set=function(e,t){var n=this.__data__;if(n instanceof sa){var r=n.__data__;if(!sP||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new sL(r)}return n.set(e,t),this.size=n.size,this},sR.prototype.add=sR.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},sR.prototype.has=function(e){return this.__data__.has(e)};var sj=function(e,t){return e.has(t)},sB=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},sV=function(e,t,n,r,i,a){var o=1&n,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,h=2&n?new sR:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var p=e[d],m=t[d];if(r)var v=o?r(m,p,d,t,e,a):r(p,m,d,e,t,a);if(void 0!==v){if(v)continue;f=!1;break}if(h){if(!sB(t,function(e,t){if(!sj(h,t)&&(p===e||i(p,e,n,r,a)))return h.push(t)})){f=!1;break}}else if(!(p===m||i(p,m,n,r,a))){f=!1;break}}return a.delete(e),a.delete(t),f},sG=sl.Uint8Array,sH=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},sW=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n},s$=su?su.prototype:void 0,sq=s$?s$.valueOf:void 0,sY=Array.isArray,sX=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},sQ=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a},sK=Object.prototype.propertyIsEnumerable,sZ=Object.getOwnPropertySymbols,sJ=sZ?function(e){return null==e?[]:sQ(sZ(e=Object(e)),function(t){return sK.call(e,t)})}:function(){return[]},s0=function(e){return null!=e&&"object"==typeof e},s1=function(e){return s0(e)&&"[object Arguments]"==sg(e)},s2=Object.prototype,s3=s2.hasOwnProperty,s5=s2.propertyIsEnumerable,s4=s1(function(){return arguments}())?s1:function(e){return s0(e)&&s3.call(e,"callee")&&!s5.call(e,"callee")},s6={exports:{}};s6.exports,R=(F=(L=(N=(D=s6.exports)&&!D.nodeType&&D)&&s6&&!s6.nodeType&&s6)&&L.exports===N?sl.Buffer:void 0)?F.isBuffer:void 0,s6.exports=R||function(){return!1};var s7=s6.exports,s8=/^(?:0|[1-9]\d*)$/,s9=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&s8.test(e))&&e>-1&&e%1==0&&e<t},le=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},lt={};lt["[object Float32Array]"]=lt["[object Float64Array]"]=lt["[object Int8Array]"]=lt["[object Int16Array]"]=lt["[object Int32Array]"]=lt["[object Uint8Array]"]=lt["[object Uint8ClampedArray]"]=lt["[object Uint16Array]"]=lt["[object Uint32Array]"]=!0,lt["[object Arguments]"]=lt["[object Array]"]=lt["[object ArrayBuffer]"]=lt["[object Boolean]"]=lt["[object DataView]"]=lt["[object Date]"]=lt["[object Error]"]=lt["[object Function]"]=lt["[object Map]"]=lt["[object Number]"]=lt["[object Object]"]=lt["[object RegExp]"]=lt["[object Set]"]=lt["[object String]"]=lt["[object WeakMap]"]=!1;var ln={exports:{}};ln.exports,G=(V=(B=(j=ln.exports)&&!j.nodeType&&j)&&ln&&!ln.nodeType&&ln)&&V.exports===B&&so.process,H=function(){try{var e=V&&V.require&&V.require("util").types;if(e)return e;return G&&G.binding&&G.binding("util")}catch(e){}}(),ln.exports=H;var lr=ln.exports,li=lr&&lr.isTypedArray,la=li?function(e){return li(e)}:function(e){return s0(e)&&le(e.length)&&!!lt[sg(e)]},lo=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},ls=Object.prototype.hasOwnProperty,ll=Object.prototype,lu=(W=Object.keys,$=Object,function(e){return W($(e))}),lc=function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||ll;return e===n},ld=Object.prototype.hasOwnProperty,lf=function(e,t){var n=sY(e),r=!n&&s4(e),i=!n&&!r&&s7(e),a=!n&&!r&&!i&&la(e),o=n||r||i||a,s=o?lo(e.length,String):[],l=s.length;for(var u in e)(t||ls.call(e,u))&&!(o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||s9(u,l)))&&s.push(u);return s},lh=function(e){if(!lc(e))return lu(e);var t=[];for(var n in Object(e))ld.call(e,n)&&"constructor"!=n&&t.push(n);return t},lp=function(e){return null!=e&&le(e.length)&&!s_(e)?lf(e):lh(e)},lm=function(e,t,n){var r=t(e);return sY(e)?r:sX(r,n(e))},lv=function(e){return lm(e,lp,sJ)},lg=Object.prototype.hasOwnProperty,ly=sM(sl,"DataView"),l_=sM(sl,"Promise"),lb=sM(sl,"Set"),lx=sM(sl,"WeakMap"),lw="[object Map]",lS="[object Promise]",lE="[object Set]",lT="[object WeakMap]",lk="[object DataView]",lC=sS(ly),lO=sS(sP),lM=sS(l_),lP=sS(lb),lU=sS(lx),lI=sg;(ly&&lI(new ly(new ArrayBuffer(1)))!=lk||sP&&lI(new sP)!=lw||l_&&lI(l_.resolve())!=lS||lb&&lI(new lb)!=lE||lx&&lI(new lx)!=lT)&&(lI=function(e){var t=sg(e),n="[object Object]"==t?e.constructor:void 0,r=n?sS(n):"";if(r)switch(r){case lC:return lk;case lO:return lw;case lM:return lS;case lP:return lE;case lU:return lT}return t});var lA=lI,lz=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!a(new sG(e),new sG(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return sn(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=sW;case"[object Set]":var l=1&r;if(s||(s=sH),e.size!=t.size&&!l)break;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var c=sV(s(e),s(t),r,i,a,o);return o.delete(e),c;case"[object Symbol]":if(sq)return sq.call(e)==sq.call(t)}return!1},lD=function(e,t,n,r,i,a){var o=1&n,s=lv(e),l=s.length;if(l!=lv(t).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in t:lg.call(t,c)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var h=!0;a.set(e,t),a.set(t,e);for(var p=o;++u<l;){var m=e[c=s[u]],v=t[c];if(r)var g=o?r(v,m,c,t,e,a):r(m,v,c,e,t,a);if(!(void 0===g?m===v||i(m,v,n,r,a):g)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var y=e.constructor,_=t.constructor;y!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _)&&(h=!1)}return a.delete(e),a.delete(t),h},lN="[object Arguments]",lL="[object Array]",lF="[object Object]",lR=Object.prototype.hasOwnProperty,lj=function(e,t,n,r,i,a){var o=sY(e),s=sY(t),l=o?lL:lA(e),u=s?lL:lA(t);l=l==lN?lF:l,u=u==lN?lF:u;var c=l==lF,d=u==lF,f=l==u;if(f&&s7(e)){if(!s7(t))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new sF),o||la(e)?sV(e,t,n,r,i,a):lz(e,t,l,n,r,i,a);if(!(1&n)){var h=c&&lR.call(e,"__wrapped__"),p=d&&lR.call(t,"__wrapped__");if(h||p){var m=h?e.value():e,v=p?t.value():t;return a||(a=new sF),i(m,v,n,r,a)}}return!!f&&(a||(a=new sF),lD(e,t,n,r,i,a))},lB=function e(t,n,r,i,a){return t===n||(null!=t&&null!=n&&(s0(t)||s0(n))?lj(t,n,r,i,e,a):t!=t&&n!=n)},lV=function(e){return e==e&&!sy(e)},lG=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},lH=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var l=(s=n[i])[0],u=e[l],c=s[1];if(o&&s[2]){if(void 0===u&&!(l in e))return!1}else{var d=new sF;if(r)var f=r(u,c,l,e,t,d);if(!(void 0===f?lB(c,u,3,r,d):f))return!1}}return!0},lW=function(e){for(var t=lp(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,lV(i)]}return t},l$=function(e){return"symbol"==typeof e||s0(e)&&"[object Symbol]"==sg(e)},lq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lY=/^\w*$/,lX=function(e,t){if(sY(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||l$(e))||lY.test(e)||!lq.test(e)||null!=t&&e in Object(t)};function lQ(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(lQ.Cache||sL),n}lQ.Cache=sL;var lK=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lZ=/\\(\\)?/g,lJ=(Y=(q=lQ(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(lK,function(e,n,r,i){t.push(r?i.replace(lZ,"$1"):n||e)}),t},function(e){return 500===Y.size&&Y.clear(),e})).cache,q),l0=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},l1=1/0,l2=su?su.prototype:void 0,l3=l2?l2.toString:void 0,l5=function e(t){if("string"==typeof t)return t;if(sY(t))return l0(t,e)+"";if(l$(t))return l3?l3.call(t):"";var n=t+"";return"0"==n&&1/t==-l1?"-0":n},l4=function(e,t){return sY(e)?e:lX(e,t)?[e]:lJ(null==e?"":l5(e))},l6=1/0,l7=function(e){if("string"==typeof e||l$(e))return e;var t=e+"";return"0"==t&&1/e==-l6?"-0":t},l8=function(e,t){t=l4(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[l7(t[n++])];return n&&n==r?e:void 0},l9=function(e,t){return null!=e&&t in Object(e)},ue=function(e,t,n){t=l4(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=l7(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&le(i)&&s9(o,i)&&(sY(e)||s4(e))},ut=function(e,t,n){var r=null==e?void 0:l8(e,t);return void 0===r?n:r},un=function(e){var t=lW(e);return 1==t.length&&t[0][2]?lG(t[0][0],t[0][1]):function(n){return n===e||lH(n,e,t)}},ur=function(e){return e},ui=function(e){var t;return lX(e)?(t=l7(e),function(e){return null==e?void 0:e[t]}):function(t){return l8(t,e)}},ua=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return -1},uo=function(e){return e!=e},us=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return -1},ul=lb&&1/sH(new lb([,-0]))[1]==1/0?function(e){return new lb(e)}:function(){},uu=function(e,t){return!!(null==e?0:e.length)&&(t==t?us(e,t,0):ua(e,uo,0))>-1},uc=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1},ud=function(e){if("function"==typeof e)return e;if(null==e)return ur;if("object"==typeof e){var t,n;return sY(e)?(t=e[0],n=e[1],lX(t)&&lV(n)?lG(l7(t),n):function(e){var r=ut(e,t);return void 0===r&&r===n?null!=e&&ue(e,t,l9):lB(n,r,3)}):un(e)}return ui(e)},uf=function(e,t,n){var r=-1,i=uu,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=uc;else if(a>=200){var u=t?null:ul(e);if(u)return sH(u);o=!1,i=sj,l=new sR}else l=t?[]:s;n:for(;++r<a;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,o&&d==d){for(var f=l.length;f--;)if(l[f]===d)continue n;t&&l.push(d),s.push(c)}else i(l,d,n)||(l!==s&&l.push(d),s.push(c))}return s};let uh=(X=function(e,t){return e&&e.length?uf(e,ud(t)):[]}).__esModule&&Object.prototype.hasOwnProperty.call(X,"default")?X.default:X,up=({collapsedIds:e,nodes:t,edges:n})=>{let r=[],i=[];for(let a of e){let{hiddenEdges:e,hiddenNodes:o}=function e({nodeId:t,nodes:n,edges:r,currentHiddenNodes:i,currentHiddenEdges:a}){let o=[],s=[],l=i.map(e=>e.id),u=a.map(e=>e.id),c=r.filter(e=>e.source===t),d=c.map(e=>e.target);for(let i of(s.push(...c),d)){let a=r.filter(e=>e.target===i&&e.source!==t),c=!1;if(0===a.length)c=!0;else if(a.length>0&&!l.includes(i)){let e=a.map(e=>e.id);e.every(e=>u.includes(e))&&(c=!0)}if(c){let t=n.find(e=>e.id===i);t&&o.push(t);let a=e({nodeId:i,nodes:n,edges:r,currentHiddenEdges:s,currentHiddenNodes:o});s.push(...a.hiddenEdges),o.push(...a.hiddenNodes)}}return{hiddenEdges:uh(s,"id"),hiddenNodes:uh(o,"id")}}({nodeId:a,nodes:t,edges:n,currentHiddenEdges:i,currentHiddenNodes:r});r.push(...o),i.push(...e)}let a=r.map(e=>e.id),o=i.map(e=>e.id),s=t.filter(e=>!a.includes(e.id)),l=n.filter(e=>!o.includes(e.id));return{visibleNodes:s,visibleEdges:l}},um=({nodeId:e,edges:t,visibleEdgeIds:n})=>{let r=[],i=t.filter(t=>t.target===e),a=i.map(e=>e.id),o=a.some(e=>n.includes(e));if(o)return r;let s=i.map(e=>e.source),l=!1;for(let e of s)l||(r.push(...[e,...um({nodeId:e,edges:t,visibleEdgeIds:n})]),l=!0);return r},uv=({collapsedNodeIds:e=[],nodes:t=[],edges:n=[]})=>{let r=(0,ei.useCallback)(r=>{let{visibleNodes:i}=up({nodes:t,edges:n,collapsedIds:e}),a=i.map(e=>e.id);return!a.includes(r)},[e,n,t]),i=(0,ei.useCallback)(r=>{let{visibleEdges:i}=up({nodes:t,edges:n,collapsedIds:e}),a=i.map(e=>e.id);return um({nodeId:r,edges:n,visibleEdgeIds:a})},[e,n,t]);return{getIsCollapsed:r,getExpandPathIds:i}},ug=({layoutType:e,sizingType:t,labelType:n,sizingAttribute:r,clusterAttribute:i,selections:a,nodes:o,edges:s,actives:l,collapsedNodeIds:u,defaultNodeSize:c,maxNodeSize:d,minNodeSize:f,layoutOverrides:h})=>{let p=o8(e=>e.graph),m=o8(e=>e.collapsedNodeIds),v=o8(e=>e.setEdges),g=o8(e=>e.setNodes),y=o8(e=>e.setSelections),_=o8(e=>e.setActives),b=o8(e=>e.drags),x=o8(e=>e.setDrags),w=o8(e=>e.setCollapsedNodeIds),[S,E]=(0,ei.useState)(!1),T=(0,ei.useRef)(!1),k=(0,ei.useRef)(null),{visibleEdges:C,visibleNodes:O}=(0,ei.useMemo)(()=>{let{visibleEdges:e,visibleNodes:t}=up({collapsedIds:m,nodes:o,edges:s});return{visibleEdges:e,visibleNodes:t}},[m,o,s]),M=(0,ei.useRef)(b);(0,ei.useEffect)(()=>{M.current=b},[b]);let P=(0,ei.useCallback)(a=>{k.current=a||oV({...h,type:e,graph:p,drags:M.current,clusterAttribute:i}),oG(k.current,()=>{let e=function({graph:e,layout:t,sizingType:n,labelType:r,sizingAttribute:i,defaultNodeSize:a,minNodeSize:o,maxNodeSize:s}){let l=[],u=[],c=new Map,d=oX({graph:e,type:n,attribute:i,minSize:o,maxSize:s,defaultSize:a}),f=e.getNodesCount(),h=oQ(f,r);return e.forEachNode(n=>{if(n.data){let r=t.getNodePosition(n.id),{data:i,fill:a,icon:o,label:s,size:u,...f}=n.data,p=d.get(n.id),m=h("node",p),v=e.getLinks(n.id),g=v?[...v].filter(e=>e.toId===n.id).map(e=>e.fromId):null,y={...n,size:p,labelVisible:m,label:s,icon:o,fill:a,parents:g,data:{...f,...i||{}},position:{...r,z:r.z||1}};c.set(n.id,y),l.push(y)}}),e.forEachLink(e=>{let t=c.get(e.fromId),n=c.get(e.toId);if(t&&n){let{data:t,id:n,label:r,size:i,...a}=e.data,o=h("edge",e.size);u.push({...e,id:n,label:r,labelVisible:o,size:i,data:{...a,id:n,...t||{}}})}}),{nodes:l,edges:u}}({graph:p,layout:k.current,sizingType:t,labelType:n,sizingAttribute:r,maxNodeSize:d,minNodeSize:f,defaultNodeSize:c});v(e.edges),g(e.nodes)})},[h,e,p,i,t,n,r,d,f,c,v,g]);return(0,ei.useEffect)(()=>{y(a)},[a,y]),(0,ei.useEffect)(()=>{_(l)},[l,_]),(0,ei.useLayoutEffect)(()=>{T.current=!1,function(e,t,n){for(let n of(e.clear(),e.beginUpdate(),t))e.addNode(n.id,n);for(let t of n)e.addLink(t.source,t.target,t);e.endUpdate()}(p,O,C),P(),requestAnimationFrame(()=>{T.current=!0,E(!0)})},[O,C,p]),(0,ei.useEffect)(()=>{w(u)},[u,w]),(0,ei.useEffect)(()=>{T.current&&(M.current={},x({}),P())},[p,e,P,x]),(0,ei.useEffect)(()=>{T.current&&P(k.current)},[p,t,r,n,P]),{mounted:S}},uy=({text:e,fontSize:t,fontUrl:n,color:r,opacity:i,stroke:a,active:o,ellipsis:s})=>{let l=s&&!o?iV(e,s):e,u=(0,ei.useMemo)(()=>new ea.Color(r),[r]),c=(0,ei.useMemo)(()=>a?new ea.Color(a):void 0,[a]);return(0,er.jsx)(rV,{position:[0,0,1],children:(0,er.jsx)(iP,{font:n,fontSize:t,color:u,fillOpacity:i,textAlign:"center",outlineWidth:a?1:0,outlineColor:c,depthOffset:0,maxWidth:100,overflowWrap:"break-word",children:l})})};uy.defaultProps={opacity:1,fontSize:7,color:"#2A6475",ellipsis:75};let u_=({color:e,id:t,size:n,opacity:r,animated:i})=>{let{scale:a,nodeOpacity:o}=(0,iG.useSpring)({from:{scale:[1e-5,1e-5,1e-5],nodeOpacity:0},to:{scale:[n,n,n],nodeOpacity:r},config:{...oZ,duration:i?void 0:0}}),s=(0,ei.useMemo)(()=>new ea.Color(e),[e]);return(0,er.jsxs)(iY.mesh,{userData:{id:t,type:"node"},scale:a,children:[(0,er.jsx)("sphereBufferGeometry",{attach:"geometry",args:[1,25,25]}),(0,er.jsx)(iY.meshPhongMaterial,{attach:"material",side:ea.DoubleSide,transparent:!0,fog:!0,opacity:o,color:s})]})};u_.defaultProps={opacity:1,active:!1,selected:!1};let ub=({color:e,size:t,opacity:n,animated:r})=>{let i=(0,ei.useMemo)(()=>new ea.Color(e),[e]),{ringSize:a,ringOpacity:o}=(0,iG.useSpring)({from:{ringOpacity:0,ringSize:[1e-5,1e-5,1e-5]},to:{ringOpacity:n,ringSize:[t/2,t/2,1]},config:{...oZ,duration:r?void 0:0}});return(0,er.jsx)(rV,{position:[0,0,1],children:(0,er.jsxs)(iY.mesh,{scale:a,children:[(0,er.jsx)("ringBufferGeometry",{attach:"geometry",args:[4,4.5,25]}),(0,er.jsx)(iY.meshBasicMaterial,{attach:"material",color:i,transparent:!0,depthTest:!1,opacity:o,side:ea.DoubleSide,fog:!0})]})})};ub.defaultProps={color:"#D8E6EA",size:1,opacity:.5};let ux=(0,ei.createContext)({controls:null,zoomIn:()=>void 0,zoomOut:()=>void 0,panLeft:()=>void 0,panRight:()=>void 0,panUp:()=>void 0,panDown:()=>void 0}),uw=()=>{let e=(0,ei.useContext)(ux);if(void 0===e)throw Error("`useCameraControls` hook must be used within a `ControlsProvider` component");return e};al.install({THREE:{MOUSE:ea.MOUSE,Vector2:ea.Vector2,Vector3:ea.Vector3,Vector4:ea.Vector4,Quaternion:ea.Quaternion,Matrix4:ea.Matrix4,Spherical:ea.Spherical,Box3:ea.Box3,Sphere:ea.Sphere,Raycaster:ea.Raycaster,MathUtils:{DEG2RAD:null==(et=ea.MathUtils)?void 0:et.DEG2RAD,clamp:null==(en=ea.MathUtils)?void 0:en.clamp}}}),eB({ThreeCameraControls:al});let uS=new ap(37,100),uE=new ap(39,100),uT=new ap(38,100),uk=new ap(40,100),uC=(0,ei.forwardRef)(({mode:e,children:t,animated:n,disabled:r},i)=>{let a=(0,ei.useRef)(null),o=eK(e=>e.camera),s=eK(e=>e.gl),l="orbit"===e,u=o8(e=>e.setPanning);eZ((e,t)=>{var n,r;(null==(n=a.current)?void 0:n.enabled)&&(null==(r=a.current)||r.update(t)),l&&(a.current.azimuthAngle+=20*t*ea.MathUtils.DEG2RAD)},-1),(0,ei.useEffect)(()=>()=>{var e;return null==(e=a.current)?void 0:e.dispose()},[]);let c=(0,ei.useCallback)(()=>{var e;null==(e=a.current)||e.zoom(o.zoom/2,n)},[n,o.zoom]),d=(0,ei.useCallback)(()=>{var e;null==(e=a.current)||e.zoom(-o.zoom/2,n)},[n,o.zoom]),f=(0,ei.useCallback)(e=>{var t;l||null==(t=a.current)||t.truck(-.03*e.deltaTime,0,n)},[n,l]),h=(0,ei.useCallback)(e=>{var t;l||null==(t=a.current)||t.truck(.03*e.deltaTime,0,n)},[n,l]),p=(0,ei.useCallback)(e=>{var t;l||null==(t=a.current)||t.truck(0,.03*e.deltaTime,n)},[n,l]),m=(0,ei.useCallback)(e=>{var t;l||null==(t=a.current)||t.truck(0,-.03*e.deltaTime,n)},[n,l]),v=(0,ei.useCallback)(t=>{"Space"===t.code&&("rotate"===e?a.current.mouseButtons.left=al.ACTION.TRUCK:a.current.mouseButtons.left=al.ACTION.ROTATE)},[e]),g=(0,ei.useCallback)(t=>{"Space"===t.code&&("rotate"===e?a.current.mouseButtons.left=al.ACTION.ROTATE:a.current.mouseButtons.left=al.ACTION.TRUCK)},[e]);(0,ei.useEffect)(()=>(uS.addEventListener("holding",h),uE.addEventListener("holding",f),uT.addEventListener("holding",p),uk.addEventListener("holding",m),window.addEventListener("keydown",v),window.addEventListener("keyup",g),()=>{uS.removeEventListener("holding",h),uE.removeEventListener("holding",f),uT.removeEventListener("holding",p),uk.removeEventListener("holding",m),window.removeEventListener("keydown",v),window.removeEventListener("keyup",g)}),[v,g,m,h,f,p]),(0,ei.useEffect)(()=>{let e=()=>u(!0),t=()=>u(!1),n=a.current;return n&&(n.addEventListener("control",e),n.addEventListener("controlend",t)),()=>{n&&(n.removeEventListener("control",e),n.removeEventListener("controlend",t))}},[a,u]),(0,ei.useEffect)(()=>{"rotate"===e?a.current.mouseButtons.left=al.ACTION.ROTATE:a.current.mouseButtons.left=al.ACTION.TRUCK},[e]),ad([{name:"Zoom In",keys:"command+shift+i",callback:e=>{e.preventDefault(),c()}},{name:"Zoom Out",keys:"command+shift+o",callback:e=>{e.preventDefault(),d()}}]);let y=(0,ei.useMemo)(()=>({controls:a.current,zoomIn:()=>c(),zoomOut:()=>d(),panLeft:()=>h({deltaTime:1}),panRight:()=>f({deltaTime:1}),panDown:()=>m({deltaTime:1}),panUp:()=>p({deltaTime:1})}),[c,d,h,f,m,p,a.current]);return(0,ei.useImperativeHandle)(i,()=>y),(0,er.jsxs)(ux.Provider,{value:y,children:[(0,er.jsx)("threeCameraControls",{ref:a,args:[o,s.domElement],enabled:!r,smoothTime:.1,minDistance:1e3,maxDistance:5e4}),t]})});uC.defaultProps={mode:"rotate"};let uO=50,uM=({animated:e})=>{let t=o8(e=>e.nodes),n=eK(e=>e.invalidate),{controls:r}=uw(),i=(0,ei.useMemo)(()=>{let{maxX:e,maxY:n}=o6(t);return Math.max(e,n)},[t]),a=(0,ei.useCallback)((t,i=uO,a=!1)=>{let{minX:o,maxX:s,minY:l,maxY:u,minZ:c,maxZ:d}=o6(t);null==r||r.fitToBox(new ea.Box3(new ea.Vector3(o,l,c),new ea.Vector3(s,u,d)),e,{cover:a,paddingLeft:i,paddingRight:i,paddingBottom:i,paddingTop:i}),n()},[n,r,e]),o=(0,ei.useCallback)(e=>{let n=null,r=uO;(null==e?void 0:e.length)&&(r=i+uO,n=e.reduce((e,n)=>{let r=t.find(e=>e.id===n);if(r)e.push(r);else throw Error(`Attempted to center ${n} but it was not found in the nodes`);return e},[])),a(n||t,r,!!n)},[a,t,i]),s=(0,ei.useRef)(!1);return(0,ei.useLayoutEffect)(()=>{r&&(null==t?void 0:t.length)&&!s.current&&(a(t),s.current=!0)},[r,a,t]),ad([{name:"Center",keys:["command+shift+c"],callback:()=>a(t)}]),{centerNodes:a,centerNodesById:o}},uP=({draggable:e,set:t,position:n,onDragStart:r,onDragEnd:i})=>{var a,o,s,l,u,c,d,f,h,p,m,v,g,y,_,b,x,w,S,E,T,k;let C=eK(e=>e.camera),O=eK(e=>e.raycaster),M=eK(e=>e.size),P=eK(e=>e.gl),{mouse2D:U,mouse3D:I,offset:A,normal:z,plane:D}=(0,ei.useMemo)(()=>({mouse2D:new ea.Vector2,mouse3D:new ea.Vector3,offset:new ea.Vector3,normal:new ea.Vector3,plane:new ea.Plane}),[]),N=(0,ei.useMemo)(()=>P.domElement.getBoundingClientRect(),[P.domElement]);return o=(a=function(e){var t={},n={},r=new Set;for(var i in e)of.test(i)?(r.add(RegExp.lastMatch),n[i]=e[i]):t[i]=e[i];return[n,t,r]}({onDragStart:({event:e})=>{let{eventObject:t,point:n}=e;t.getWorldPosition(A).sub(n),I.copy(n),r()},onDrag:({event:e})=>{let r=(e.clientX-((null==N?void 0:N.left)??0))/M.width*2-1,i=-(2*((e.clientY-((null==N?void 0:N.top)??0))/M.height))+1;U.set(r,i),O.setFromCamera(U,C),C.getWorldDirection(z).negate(),D.setFromNormalAndCoplanarPoint(z,I),O.ray.intersectPlane(D,I);let a=new ea.Vector3(n.x,n.y,n.z).copy(I).add(A);return t(a)},onDragEnd:i}))[0],s=a[1],l=a[2],aJ.set("drag",os),aJ.set("hover",oc),aJ.set("move",oc),aJ.set("pinch",ol),aJ.set("scroll",od),aJ.set("wheel",ou),void 0===(f=l)&&(f=new Set),v=(m={drag:{enabled:e,threshold:10}}).drag,g=m.wheel,y=m.move,_=m.scroll,b=m.pinch,x=m.hover,w=m.eventOptions,S=m.window,E=m.transform,T=az({domTarget:m.domTarget,eventOptions:w,transform:E,window:S,enabled:m.enabled},aq),f.has("onDrag")&&(T.drag=(void 0===(h=v)&&(h={}),az(h,aX))),f.has("onWheel")&&(T.wheel=aQ(g)),f.has("onScroll")&&(T.scroll=aQ(_)),f.has("onMove")&&(T.move=aQ(y)),f.has("onPinch")&&(T.pinch=(void 0===(p=b)&&(p={}),az(p,aY))),f.has("onHover")&&(T.hover=aE({enabled:!0},x)),u={},l.has("onDrag")&&(u.drag=oh(o,"onDrag")),l.has("onWheel")&&(u.wheel=oh(o,"onWheel")),l.has("onScroll")&&(u.scroll=oh(o,"onScroll")),l.has("onMove")&&(u.move=oh(o,"onMove")),l.has("onPinch")&&(u.pinch=oh(o,"onPinch")),l.has("onHover")&&(u.hover=o.onHover),void 0===(c=s)&&(c={}),k=new Set,u.drag&&k.add(aJ.get("drag")),u.wheel&&k.add(aJ.get("wheel")),u.scroll&&k.add(aJ.get("scroll")),u.move&&k.add(aJ.get("move")),u.pinch&&k.add(aJ.get("pinch")),u.hover&&k.add(aJ.get("hover")),((d=ei.useMemo(function(){return new a6(k)},[])).config=T,d.handlers=u,d.nativeRefs=c,ei.useEffect(d.effect,[]),d.config.domTarget)?oi:d.bind},uU=({image:e,id:t,size:n,opacity:r,animated:i})=>{let a=(0,ei.useMemo)(()=>new ea.TextureLoader().load(e),[e]),{scale:o,spriteOpacity:s}=(0,iG.useSpring)({from:{scale:[1e-5,1e-5,1e-5],spriteOpacity:0},to:{scale:[n,n,n],spriteOpacity:r},config:{...oZ,duration:i?void 0:0}});return(0,er.jsx)(iY.sprite,{userData:{id:t,type:"node"},scale:o,children:(0,er.jsx)(iY.spriteMaterial,{attach:"material",opacity:s,fog:!0,depthTest:!1,transparent:!0,side:ea.DoubleSide,children:(0,er.jsx)("primitive",{attach:"map",object:a,minFilter:ea.LinearFilter})})})};uU.defaultProps={opacity:1};let uI=({color:e,id:t,size:n,opacity:r,node:i,active:a,animated:o,image:s})=>(0,er.jsxs)(er.Fragment,{children:[(0,er.jsx)(u_,{id:t,size:n,opacity:r,animated:o,color:e,node:i,active:a}),(0,er.jsx)(uU,{id:t,image:s,size:n+8,opacity:r,animated:o,color:e,node:i,active:a})]});uI.defaultProps={opacity:1,active:!1,selected:!1};let uA=({sensitivity:e=7,interval:t=50,timeout:n=0,disabled:r,onPointerOver:i,onPointerOut:a})=>{let o=(0,ei.useRef)(!1),s=(0,ei.useRef)(null),l=(0,ei.useRef)(0),u=(0,ei.useRef)({x:null,y:null,px:null,py:null}),c=(0,ei.useCallback)(e=>{u.current.x=e.clientX,u.current.y=e.clientY},[]),d=(0,ei.useCallback)(n=>{s.current=clearTimeout(s.current);let{px:r,x:a,py:o,y:c}=u.current;Math.abs(r-a)+Math.abs(o-c)<e?(l.current=1,i(n)):(u.current.px=a,u.current.py=c,s.current=setTimeout(()=>d(n),t))},[t,i,e]),f=(0,ei.useCallback)(()=>{clearTimeout(s.current),document.removeEventListener("mousemove",c,!1)},[c]),h=(0,ei.useCallback)(e=>{r||(o.current=!0,f(),1!==l.current&&(u.current.px=e.pointer.x,u.current.py=e.pointer.y,document.addEventListener("mousemove",c,!1),s.current=setTimeout(()=>d(e),n)))},[f,d,r,c,n]),p=(0,ei.useCallback)(e=>{s.current=clearTimeout(s.current),l.current=0,a(e)},[a]),m=(0,ei.useCallback)(e=>{o.current=!1,f(),1===l.current&&(s.current=setTimeout(()=>p(e),n))},[f,p,n]);return{pointerOver:h,pointerOut:m}},uz=({animated:e,disabled:t,id:n,draggable:r,theme:i,labelFontUrl:a,contextMenu:o,onClick:s,onPointerOver:l,onPointerOut:u,onContextMenu:c,renderNode:d})=>{let f=uw(),h=o8(e=>e.nodes.find(e=>e.id===n)),p=o8(e=>e.edges),m=o8(e=>e.draggingId),v=o8(e=>e.collapsedNodeIds),g=o8(e=>e.setDraggingId),y=o8(e=>e.setNodePosition),_=o8(e=>e.setCollapsedNodeIds),b=o8(e=>e.collapsedNodeIds.includes(n)),x=o8(e=>{var t;return null==(t=e.actives)?void 0:t.includes(n)}),w=o8(e=>{var t;return null==(t=e.selections)?void 0:t.includes(n)}),S=o8(e=>{var t;return(null==(t=e.selections)?void 0:t.length)>0}),E=m===n,{position:T,label:k,size:C=7,labelVisible:O=!0}=h,M=(0,ei.useRef)(null),[P,U]=(0,ei.useState)(!1),[I,A]=(0,ei.useState)(!1),z=S?w||P||x?i.node.selectedOpacity:i.node.inactiveOpacity:i.node.opacity,D=(0,ei.useMemo)(()=>{let e=p.filter(e=>e.data.source===n);return e.length>0||b},[p,n,b]),N=(0,ei.useCallback)(()=>{D&&(b?_(v.filter(e=>e!==n)):_([...v,n]))},[D,v,n,b,_]),[{nodePosition:L,labelPosition:F}]=(0,iG.useSpring)(()=>({from:{nodePosition:[0,0,0],labelPosition:[0,-(C+7),2]},to:{nodePosition:T?[T.x,T.y,T.z]:[0,0,0],labelPosition:[0,-(C+7),2]},config:{...oZ,duration:e&&!m?void 0:0}}),[E,T,e,C]),R=uP({draggable:r,position:T,set:e=>y(n,e),onDragStart:()=>{g(n),U(!0),f.controls.enabled=!1},onDragEnd:()=>{g(null),U(!1),f.controls.enabled=!0}});iU(P&&!m&&void 0!==s,"pointer"),iU(P&&r&&!E&&void 0===s,"grab"),iU(E,"grabbing");let j=w||P||E||x,B=j?i.node.activeFill:h.fill||i.node.fill,{pointerOver:V,pointerOut:G}=uA({disabled:t||E,onPointerOver:()=>{U(!0),null==l||l(h)},onPointerOut:()=>{U(!1),null==u||u(h)}});return(0,er.jsxs)(iY.group,{userData:{id:n,type:"node"},ref:M,position:L,onPointerOver:V,onPointerOut:G,onClick:()=>{t||E||null==s||s(h,{canCollapse:D,isCollapsed:b})},onContextMenu:()=>{t||(A(!0),null==c||c(h,{canCollapse:D,isCollapsed:b,onCollapse:N}))},...R(),children:[d?d({id:n,color:B,size:C,active:j,opacity:z,animated:e,node:h}):(0,er.jsx)(er.Fragment,{children:h.icon?(0,er.jsx)(uU,{id:n,image:h.icon||"",size:C+8,opacity:z,animated:e,color:B,node:h,active:j}):(0,er.jsx)(u_,{id:n,size:C,opacity:z,animated:e,color:B,node:h,active:j})}),(0,er.jsx)(ub,{opacity:w?.5:0,size:C,animated:e,color:w||P?i.ring.activeFill:i.ring.fill}),I&&o&&(0,er.jsx)(iB,{prepend:!0,center:!0,children:o({data:h,canCollapse:D,isCollapsed:b,onCollapse:N,onClose:()=>A(!1)})}),(O||w||P)&&k&&(0,er.jsx)(iY.group,{position:F,children:(0,er.jsx)(uy,{text:k,fontUrl:a,opacity:z,stroke:i.node.label.stroke,active:w||P||E||x,color:w||P||E||x?i.node.label.activeColor:i.node.label.color})})]})};uz.defaultProps={draggable:!1};let uD=({animated:e,color:t,length:n,opacity:r,position:i,rotation:a,size:o,onActive:s,onContextMenu:l})=>{let u=(0,ei.useMemo)(()=>new ea.Color(t),[t]),c=(0,ei.useRef)(null),d=o8(e=>e.draggingId),[{pos:f,arrowOpacity:h}]=(0,iG.useSpring)(()=>({from:{pos:[0,0,0],arrowOpacity:0},to:{pos:[i.x,i.y,i.z],arrowOpacity:r},config:{...oZ,duration:e&&!d?void 0:0}}),[e,d,r,i]),p=(0,ei.useCallback)(()=>{var e;let t=new ea.Vector3(0,1,0);null==(e=c.current)||e.quaternion.setFromUnitVectors(t,a)},[a,c]);return(0,ei.useEffect)(()=>p(),[p]),(0,er.jsxs)(iY.mesh,{position:f,ref:c,scale:[1,1,1],onPointerOver:()=>s(!0),onPointerOut:()=>s(!1),onPointerDown:e=>{2===e.nativeEvent.buttons&&(e.stopPropagation(),l())},children:[(0,er.jsx)("cylinderGeometry",{args:[0,o,n,20,1,!0],attach:"geometry"}),(0,er.jsx)(iY.meshBasicMaterial,{attach:"material",color:u,depthTest:!1,opacity:h,transparent:!0,side:ea.DoubleSide,fog:!0})]})};uD.defaultProps={size:1,opacity:.5,color:"#D8E6EA"};let uN=({animated:e,color:t,curve:n,curved:r=!1,id:i,opacity:a,size:o,onContextMenu:s,onClick:l,onPointerOver:u,onPointerOut:c})=>{let d=(0,ei.useRef)(null),f=o8(e=>e.draggingId),h=(0,ei.useMemo)(()=>new ea.Color(t),[t]),{lineOpacity:p}=(0,iG.useSpring)({from:{lineOpacity:0},to:{lineOpacity:a},config:{...oZ,duration:e?void 0:0}});return(0,iG.useSpring)(()=>{let t=n.getPoint(0),i=n.getPoint(1);return{from:{fromVertices:[0,0,0],toVertices:[0,0,0]},to:{fromVertices:[null==t?void 0:t.x,null==t?void 0:t.y,(null==t?void 0:t.z)||0],toVertices:[null==i?void 0:i.x,null==i?void 0:i.y,(null==i?void 0:i.z)||0]},onChange:e=>{let{fromVertices:t,toVertices:n}=e.value,i=new ea.Vector3(...t),a=new ea.Vector3(...n),s=o3(i,0,a,0,r);d.current.copy(new ea.TubeBufferGeometry(s,20,o/2,5,!1))},config:{...oZ,duration:e&&!f?void 0:0}}},[e,f,n,o]),(0,er.jsxs)("mesh",{userData:{id:i,type:"edge"},onPointerOver:u,onPointerOut:c,onClick:l,onPointerDown:e=>{2===e.nativeEvent.buttons&&(e.stopPropagation(),s())},children:[(0,er.jsx)("tubeBufferGeometry",{attach:"geometry",ref:d}),(0,er.jsx)(iY.meshBasicMaterial,{attach:"material",opacity:p,fog:!0,transparent:!0,depthTest:!1,color:h})]})};uN.defaultProps={color:"#000",size:1,opacity:1};let uL=6,uF=({animated:e,arrowPlacement:t,contextMenu:n,disabled:r,labelPlacement:i,id:a,interpolation:o,theme:s,onContextMenu:l,onClick:u,onPointerOver:c,onPointerOut:d})=>{let f=o8(e=>e.edges.find(e=>e.id===a)),{toId:h,fromId:p,label:m,labelVisible:v=!1,size:g=1}=f,y="curved"===o,_=o8(e=>e.nodes.find(e=>e.id===p)),b=o8(e=>e.nodes.find(e=>e.id===h)),x=o8(e=>e.draggingId),[w,S]=(0,ei.useState)(!1),[E,T]=(0,ei.useState)(!1),k=(g+uL)/2,[C,O]=(0,ei.useMemo)(()=>o0(g),[g]),[M,P,U]=(0,ei.useMemo)(()=>{let e=o5(_),n=_.size,r=o5(b),i=b.size,a=o3(e,n,r,i,y),[o,s]=oJ(t,a,C);return"end"===t&&(a=o3(e,n,o,0,y)),[a,o,s]},[y,_,b,t,C]),I=(0,ei.useMemo)(()=>o1(_.position,b.position,oK(k,i)),[_.position,b.position,k,i]),A=o8(e=>{var t;return null==(t=e.selections)?void 0:t.includes(a)}),z=o8(e=>{var t;return null==(t=e.selections)?void 0:t.length}),D=o8(e=>{var t;return null==(t=e.actives)?void 0:t.includes(a)}),N=z?A||D?s.edge.selectedOpacity:s.edge.inactiveOpacity:s.edge.opacity,[{labelPosition:L}]=(0,iG.useSpring)(()=>({from:{labelPosition:[0,0,0]},to:{labelPosition:[I.x,I.y,I.z]},config:{...oZ,duration:e&&!x?void 0:0}}),[I,e,x]),F=(0,ei.useMemo)(()=>new ea.Euler(0,0,"natural"===i?0:Math.atan((b.position.y-_.position.y)/(b.position.x-_.position.x))),[b.position.x,b.position.y,_.position.x,_.position.y,i]);iU(w&&!x&&void 0!==u,"pointer");let{pointerOver:R,pointerOut:j}=uA({disabled:r,onPointerOver:()=>{S(!0),null==c||c(f)},onPointerOut:()=>{S(!1),null==d||d(f)}});return(0,er.jsxs)("group",{children:[(0,er.jsx)(uN,{animated:e,color:A||w||D?s.edge.activeFill:s.edge.fill,curve:M,curved:y,id:a,opacity:N,size:g,onClick:()=>{r||null==u||u(f)},onPointerOver:R,onPointerOut:j,onContextMenu:()=>{r||(T(!0),null==l||l(f))}}),"none"!==t&&(0,er.jsx)(uD,{animated:e,color:A||w||D?s.arrow.activeFill:s.arrow.fill,length:C,opacity:N,position:P,rotation:U,size:O,onActive:S,onContextMenu:()=>{r||(T(!0),null==l||l(f))}}),v&&m&&(0,er.jsx)(iY.group,{position:L,rotation:F,children:(0,er.jsx)(uy,{text:m,ellipsis:15,stroke:s.edge.label.stroke,color:A||w||D?s.edge.label.activeColor:s.edge.label.color,opacity:N,fontSize:uL})}),E&&n&&(0,er.jsx)(iB,{prepend:!0,center:!0,children:n({data:f,onClose:()=>T(!1)})})]})};uF.defaultProps={labelPlacement:"inline",arrowPlacement:"end"};let uR=new ea.BoxGeometry(0,0,0),uj=({animated:e,color:t,contextMenu:n,edge:r,labelPlacement:i,opacity:a,theme:o})=>{let{toId:s,fromId:l,label:u,labelVisible:c=!1,size:d=1}=r,f=o8(e=>e.nodes),h=f.find(e=>e.id===l),p=f.find(e=>e.id===s),m=o8(e=>e.draggingId),v=(d+6)/2,g=(0,ei.useMemo)(()=>o1(h.position,p.position,oK(v,i)),[h.position,p.position,v,i]),y=o8(e=>e.edgeContextMenus),_=o8(e=>e.setEdgeContextMenus),[{labelPosition:b}]=(0,iG.useSpring)(()=>({from:{labelPosition:[0,0,0]},to:{labelPosition:[g.x,g.y,g.z]},config:{...oZ,duration:e&&!m?void 0:0}}),[g,e,m]),x=(0,ei.useCallback)(e=>{y.delete(e.id),_(new Set(y.values()))},[y,_]),w=(0,ei.useMemo)(()=>new ea.Euler(0,0,"natural"===i?0:Math.atan((p.position.y-h.position.y)/(p.position.x-h.position.x))),[p.position.x,p.position.y,h.position.x,h.position.y,i]);return(0,er.jsxs)("group",{children:[c&&u&&(0,er.jsx)(iY.group,{position:b,rotation:w,children:(0,er.jsx)(uy,{text:u,ellipsis:15,stroke:o.edge.label.stroke,color:t,opacity:a,fontSize:6})}),n&&y.has(r.id)&&(0,er.jsx)(iB,{prepend:!0,center:!0,position:g,children:n({data:r,onClose:()=>x(r)})})]})};uj.defaultProps={labelPlacement:"inline"};let uB=({animated:e,arrowPlacement:t="end",contextMenu:n,disabled:r,edges:i,interpolation:a="linear",labelPlacement:o="inline",theme:s,onClick:l,onContextMenu:u,onPointerOut:c,onPointerOver:d})=>{let{getGeometries:f,getGeometry:h}=function(e,t){let n=(0,ei.useRef)();o8(e=>{n.current=e});let r=(0,ei.useRef)(new Map),i="curved"===t,a=(0,ei.useCallback)(t=>{let a=[],o=r.current,{nodes:s}=n.current;return t.forEach(t=>{let{toId:n,fromId:r,size:l=1}=t,u=s.find(e=>e.id===r),c=s.find(e=>e.id===n);if(!u||!c)return;let d=`fromX:${u.position.x},fromY:${u.position.y},toX:${c.position.x}},toY:${c.position.y}`;if(o.has(d)){let e=o.get(d);a.push(e);return}let f=o5(u),h=u.size+uL,p=o5(c),m=c.size+uL,v=o3(f,h,p,m,i),g=new ea.TubeBufferGeometry(v,20,l/2,5,!1);if("none"===e){a.push(g),o.set(d,g);return}let[y,_]=o0(l),[b,x]=oJ(e,v,y),w=new ea.Quaternion;w.setFromUnitVectors(new ea.Vector3(0,1,0),x);let S=new ea.CylinderGeometry(0,_,y,20,1,!0);if(S.applyQuaternion(w),S.translate(b.x,b.y,b.z),e&&"end"===e){let e=o3(f,h,b,0,i);g=new ea.TubeBufferGeometry(e,20,l/2,5,!1)}let E=op([g,S]);a.push(E),o.set(d,E)}),a},[e,i]),o=(0,ei.useCallback)((e,t)=>{let n=a(e),r=a(t);return op([r.length?op(r):uR,n.length?op(n):uR],!0)},[a]);return{getGeometries:a,getGeometry:o}}(t,a),p=o8(e=>e.draggingId),m=o8(e=>e.edgeMeshes),v=o8(e=>e.setEdgeMeshes),g=o8(e=>e.actives||[]),y=o8(e=>e.selections||[]),[_,b,x,w]=(0,ei.useMemo)(()=>{let e=[],t=[],n=[],r=[];return i.forEach(i=>{if(p===i.fromId||p===i.toId){y.includes(i.id)||g.includes(i.id)?n.push(i):r.push(i);return}y.includes(i.id)||g.includes(i.id)?e.push(i):t.push(i)}),[e,t,n,r]},[i,g,y,p]),S=!!y.length,E=(0,ei.useMemo)(()=>h(_,b),[h,_,b]),{activeOpacity:T,inactiveOpacity:k}=function(e,t,n){let[{activeOpacity:r,inactiveOpacity:i}]=(0,iG.useSpring)(()=>({from:{activeOpacity:0,inactiveOpacity:0},to:{activeOpacity:t?n.edge.selectedOpacity:n.edge.opacity,inactiveOpacity:t?n.edge.inactiveOpacity:n.edge.opacity},config:{...oZ,duration:e?void 0:0}}),[e,t,n]);return{activeOpacity:r,inactiveOpacity:i}}(e,S,s);!function(e,t){let n=(0,ei.useRef)(e);(0,ei.useEffect)(()=>{n.current=e},[e]);let r=(0,ei.useCallback)(()=>{let e=n.current.getAttribute("position"),t=Array.from({length:e.array.length}).fill(0),r=Array.from(e.array);return{from:t,to:r}},[]),i=(0,ei.useCallback)(e=>{let t=new Float32Array(e),r=new ea.BufferAttribute(t,3,!1);n.current.setAttribute("position",r),r.needsUpdate=!0},[]);(0,iG.useSpring)(()=>{if(!t)return null;let e=r();return{from:{positions:e.from},to:{positions:e.to},onChange:e=>{i(e.value.positions)},config:{...oZ,duration:t?void 0:0}}},[t])}(E,e),(0,ei.useEffect)(()=>{if(null===p){let e=f(i),t=e.map(e=>new ea.Mesh(e));v(t)}},[f,v,i,p]);let C=(0,ei.useRef)(new ea.Mesh),O=(0,ei.useRef)(new ea.Mesh),M=(0,ei.useCallback)(e=>{if(!e.camera)return[];let t=e.intersectObjects(m);return t.length?t.map(e=>i[m.indexOf(e.object)]):[]},[m,i]),{handleClick:P,handleContextMenu:U,handleIntersections:I}=function(e,t,n){let{onClick:r,onContextMenu:i,onPointerOut:a,onPointerOver:o}=e,s=o8(e=>e.edgeContextMenus),l=o8(e=>e.setEdgeContextMenus),u=(0,ei.useRef)(!1),c=(0,ei.useCallback)(()=>{u.current=!0},[]),d=(0,ei.useRef)(!1),f=(0,ei.useCallback)(()=>{d.current=!0},[]),h=(0,ei.useCallback)((e,c)=>{if(r&&u.current&&(u.current=!1,n||c.forEach(e=>{r(e)})),(t||i)&&d.current&&(d.current=!1,n||c.forEach(e=>{s.has(e.id)||(l(new Set([...s,e.id])),null==i||i(e))})),o){let t=c.filter(t=>!e.includes(t));t.forEach(e=>{o(e)})}if(a){let t=e.filter(e=>!c.includes(e));t.forEach(e=>{a(e)})}},[t,n,s,l,r,i,o,a]);return{handleClick:c,handleContextMenu:f,handleIntersections:h}}({onClick:l,onContextMenu:u,onPointerOut:c,onPointerOver:d},n,r),A=(0,ei.useRef)(null),z=(0,ei.useRef)([]);return eZ(e=>{if(C.current.geometry=E,r)return;let t=A.current;if((p||null===p&&null!==t)&&(O.current.geometry=h(x,w)),A.current=p,p)return;let n=z.current,i=M(e.raycaster);I(n,i),i.join()!==n.join()&&(O.current.geometry=h(i,[])),z.current=i}),(0,er.jsxs)("group",{onClick:P,onContextMenu:U,children:[(0,er.jsxs)("mesh",{ref:C,children:[(0,er.jsx)(iY.meshBasicMaterial,{attach:"material-0",color:s.edge.fill,depthTest:!1,fog:!0,opacity:k,side:ea.DoubleSide,transparent:!0}),(0,er.jsx)(iY.meshBasicMaterial,{attach:"material-1",color:s.edge.activeFill,depthTest:!1,fog:!0,opacity:T,side:ea.DoubleSide,transparent:!0})]}),(0,er.jsxs)("mesh",{ref:O,children:[(0,er.jsx)(iY.meshBasicMaterial,{attach:"material-0",color:s.edge.fill,depthTest:!1,fog:!0,opacity:k,side:ea.DoubleSide,transparent:!0}),(0,er.jsx)(iY.meshBasicMaterial,{attach:"material-1",color:s.edge.activeFill,depthTest:!1,fog:!0,opacity:T,side:ea.DoubleSide,transparent:!0})]}),i.map(t=>(0,er.jsx)(uj,{animated:e,contextMenu:n,color:s.edge.label.color,disabled:r,edge:t,labelPlacement:o,theme:s},t.id))]})},uV=(0,ei.forwardRef)(({onNodeClick:e,onNodeContextMenu:t,onEdgeContextMenu:n,onEdgeClick:r,onEdgePointerOver:i,onEdgePointerOut:a,onNodePointerOver:o,onNodePointerOut:s,contextMenu:l,theme:u,animated:c,disabled:d,draggable:f,edgeLabelPosition:h,edgeArrowPosition:p,edgeInterpolation:m,labelFontUrl:v,renderNode:g,...y},_)=>{let{mounted:b}=ug(y),x=o8(e=>e.graph),w=o8(e=>e.nodes),S=o8(e=>e.edges),E=(0,ei.useMemo)(()=>w.map(e=>e.id),[w]),T=(0,ei.useMemo)(()=>S.map(e=>e.id),[S]),{centerNodesById:k}=uM({animated:c});return(0,ei.useImperativeHandle)(_,()=>({centerGraph:k,graph:x}),[k,x]),(0,er.jsx)(ei.Fragment,{children:b&&(0,er.jsxs)(ei.Fragment,{children:[E.map(n=>(0,er.jsx)(uz,{id:n,labelFontUrl:v,draggable:f,disabled:d,animated:c,theme:u,contextMenu:l,onClick:e,onContextMenu:t,onPointerOver:o,onPointerOut:s,renderNode:g},n)),c?T.map(e=>(0,er.jsx)(uF,{theme:u,id:e,disabled:d,animated:c,labelPlacement:h,arrowPlacement:p,interpolation:m,contextMenu:l,onClick:r,onContextMenu:n,onPointerOver:i,onPointerOut:a},e)):(0,er.jsx)(uB,{theme:u,edges:S,disabled:d,animated:c,labelPlacement:h,arrowPlacement:p,interpolation:m,contextMenu:l,onClick:r,onContextMenu:n,onPointerOver:i,onPointerOut:a})]})})});uV.defaultProps={edgeInterpolation:"linear"};let uG={canvas:{background:"#1E2026"},node:{fill:"#7A8C9E",activeFill:"#1DE9AC",opacity:1,selectedOpacity:1,inactiveOpacity:.2,label:{stroke:"#1E2026",color:"#ACBAC7",activeColor:"#1DE9AC"}},lasso:{border:"1px solid #55aaff",background:"rgba(75, 160, 255, 0.1)"},ring:{fill:"#54616D",activeFill:"#1DE9AC"},edge:{fill:"#474B56",activeFill:"#1DE9AC",opacity:1,selectedOpacity:1,inactiveOpacity:.1,label:{stroke:"#1E2026",color:"#ACBAC7",activeColor:"#1DE9AC"}},arrow:{fill:"#474B56",activeFill:"#1DE9AC"}},uH={canvas:{background:"#fff"},node:{fill:"#7CA0AB",activeFill:"#1DE9AC",opacity:1,selectedOpacity:1,inactiveOpacity:.2,label:{color:"#2A6475",stroke:"#fff",activeColor:"#1DE9AC"}},lasso:{border:"1px solid #55aaff",background:"rgba(75, 160, 255, 0.1)"},ring:{fill:"#D8E6EA",activeFill:"#1DE9AC"},edge:{fill:"#D8E6EA",activeFill:"#1DE9AC",opacity:1,selectedOpacity:1,inactiveOpacity:.1,label:{stroke:"#fff",color:"#2A6475",activeColor:"#1DE9AC"}},arrow:{fill:"#D8E6EA",activeFill:"#1DE9AC"}};function uW(e,t,n){t=Array.isArray(t)?t:[t];let r=[],i=[];for(let a of t){let t=e.getLinks(a);t&&t.forEach(e=>{let t=e.data.id;if("in"===n?e.toId!==a||i.includes(t)||i.push(t):"out"===n?e.fromId!==a||i.includes(t)||i.push(t):i.includes(t)||i.push(t),"out"===n||"all"===n){let t=e.toId;r.includes(t)||r.push(t)}if("in"===n||"all"===n){let t=e.fromId;r.includes(t)||r.push(t)}})}return{nodes:r,edges:i}}function u$(e,t,n){let{offsetX:r,offsetY:i}=e,{width:a,height:o}=n;t.set(r/a*2-1,-(2*(i/o))+1)}function uq(e){let t=document.createElement("div");return t.style.pointerEvents="none",t.style.border=e.lasso.border,t.style.backgroundColor=e.lasso.background,t.style.position="fixed",t}let uY=({children:e,theme:t,type:n="none",onLasso:r,onLassoEnd:i,disabled:a})=>{var o;let s=eK(e=>e.camera),l=eK(e=>e.gl),u=eK(e=>e.setEvents),c=eK(e=>e.size),d=eK(e=>e.get),f=eK(e=>e.scene),h=uw(),p=o8(e=>e.actives),m=o8(e=>e.setActives),v=o8(e=>e.edges),g=o8(e=>e.edgeMeshes),y=(0,ei.useRef)(!1),_=(0,ei.useRef)(null),b=(0,ei.useRef)(null),x=(0,ei.useRef)(uq(t)),w=(0,ei.useRef)(null),S=(0,ei.useRef)(!1),E=(0,ei.useRef)(d().events.enabled),T=(0,ei.useRef)(null==(o=h.controls)?void 0:o.enabled);(0,ei.useEffect)(()=>{y.current&&(null==r||r(p)),y.current=!0},[p,r]);let k=(0,ei.useCallback)(e=>{if(S.current){let[t,r,i]=w.current;i.x=Math.max(t.x,e.clientX),i.y=Math.max(t.y,e.clientY),r.x=Math.min(t.x,e.clientX),r.y=Math.min(t.y,e.clientY),x.current.style.left=`${r.x}px`,x.current.style.top=`${r.y}px`,x.current.style.width=`${i.x-r.x}px`,x.current.style.height=`${i.y-r.y}px`,u$(e,_.current.endPoint,c),u$(e,b.current.endPoint,c);let a=[],o=b.current.select().sort(e=>e.uuid).map(e=>v[g.indexOf(e)].id);a.push(...o);let s=_.current.select().sort(e=>e.uuid).filter(e=>{var t,r;return e.isMesh&&(null==(t=e.userData)?void 0:t.id)&&((null==(r=e.userData)?void 0:r.type)===n||"all"===n)}).map(e=>e.userData.id);a.push(...s),requestAnimationFrame(()=>{m(a)}),document.addEventListener("pointermove",k,{passive:!0,capture:!0,once:!0})}},[v,g,m,c,n]),C=(0,ei.useCallback)(()=>{var e;S.current&&(u({enabled:E.current}),S.current=!1,null==(e=x.current.parentElement)||e.removeChild(x.current),h.controls.enabled=T.current,null==i||i(p),document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",C))},[u,h.controls,i,p,k]),O=(0,ei.useCallback)(e=>{var t,n;if(e.shiftKey){E.current=d().events.enabled,T.current=null==(t=h.controls)?void 0:t.enabled,_.current=new oU(s,f);let r=new ea.Scene;g.length&&r.add(...g),b.current=new oU(s,r),w.current=[new ea.Vector2,new ea.Vector2,new ea.Vector2];let[i]=w.current;h.controls.enabled=!1,u({enabled:!1}),S.current=!0,null==(n=l.domElement.parentElement)||n.appendChild(x.current),x.current.style.left=`${e.clientX}px`,x.current.style.top=`${e.clientY}px`,x.current.style.width="0px",x.current.style.height="0px",i.x=e.clientX,i.y=e.clientY,u$(e,_.current.startPoint,c),u$(e,b.current.startPoint,c),document.addEventListener("pointermove",k,{passive:!0,capture:!0,once:!0}),document.addEventListener("pointerup",C,{passive:!0})}},[s,h.controls,g,d,l.domElement.parentElement,k,C,f,u,c]);return(0,ei.useEffect)(()=>{if(!a&&"none"!==n)return document.addEventListener("pointerdown",O,{passive:!0}),document.addEventListener("pointermove",k,{passive:!0}),document.addEventListener("pointerup",C,{passive:!0}),()=>{document.removeEventListener("pointerdown",O),document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",C)}},[n,a,O,k,C]),(0,er.jsx)("group",{children:e})},uX=({selections:e=[],nodes:t=[],actives:n=[],focusOnSelect:r=!0,type:i="single",pathHoverType:a="out",pathSelectionType:o="direct",ref:s,hotkeys:l=["selectAll","deselect","delete"],disabled:u,onSelection:c})=>{let[d,f]=(0,ei.useState)([]),[h,p]=(0,ei.useState)(n),[m,v]=(0,ei.useState)(e),[g,y]=(0,ei.useState)(!1),_="multi"===i||"multiModifier"===i,b=(0,ei.useCallback)(e=>{if(!u&&e){e=Array.isArray(e)?e:[e];let t=e.filter(e=>!m.includes(e));if(t.length){let e=[...m,...t];null==c||c(e),v(e)}}},[u,m,c]),x=(0,ei.useCallback)(e=>{if(!u&&e){e=Array.isArray(e)?e:[e];let t=m.filter(t=>!e.includes(t));null==c||c(t),v(t)}},[u,m,c]),w=(0,ei.useCallback)((e=[])=>{u||(e=Array.isArray(e)?e:[e],p([]),v(e),null==c||c(e))},[u,c]),S=(0,ei.useCallback)(e=>{let t=m.includes(e);t?x(e):_?b(e):w(e)},[b,w,m,_,x]),E=(0,ei.useCallback)(e=>{var t;if(_?"multiModifier"===i?g?b(e.id):w(e.id):b(e.id):w(e.id),!0===r||"singleOnly"===r&&!g){if(!s.current)throw Error("No ref found for the graph canvas.");let n=s.current.getGraph(),{nodes:r}=uW(n,[e.id],o);null==(t=s.current)||t.centerGraph([e.id,...r])}},[b,w,r,_,g,o,s,i]),T=(0,ei.useCallback)((e,t)=>{let n=s.current.getGraph();if(!n)throw Error("Graph is not initialized");let r=function(e,t,n){let r=oI.aStar(e),i=r.find(t,n);return i}(n,e,t);w([e,t]);let i=[];for(let e=0;e<r.length-1;e++){let t=r[e],a=r[e+1],o=n.getLink(a.data.id,t.data.id);o&&i.push(o.data.id)}p([...r.map(e=>e.id),...i])},[w,s]),k=(0,ei.useCallback)(e=>{let t=e.target,n="INPUT"!==t.tagName&&"SELECT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable,r=e.metaKey||e.ctrlKey;n&&r&&(e.preventDefault(),y(!0))},[]);(0,ei.useEffect)(()=>(window.addEventListener("keydown",k),()=>{window.removeEventListener("keydown",k)}),[k]);let C=(0,ei.useCallback)(e=>{var t;if(2!==e.button&&(m.length||h.length)&&(w(),y(!1),r&&1===m.length)){if(!s.current)throw Error("No ref found for the graph canvas.");null==(t=s.current)||t.centerGraph()}},[w,r,h.length,m.length,s]),O=(0,ei.useCallback)(e=>{p(e)},[]),M=(0,ei.useCallback)(e=>{w(e)},[w]),P=(0,ei.useCallback)(e=>{if(a){let t=s.current.getGraph();if(!t)throw Error("No ref found for the graph canvas.");let{nodes:n,edges:r}=uW(t,[e.id],a);f([...n,...r])}},[a,s]),U=(0,ei.useCallback)(()=>{a&&f([])},[a]);(0,ei.useEffect)(()=>{var e;if("direct"!==o&&m.length>0){let t=null==(e=s.current)?void 0:e.getGraph();if(t){let{nodes:e,edges:n}=uW(t,m,o);p([...e,...n])}}},[m,o,s]),ad([{name:"Select All",keys:"mod+a",disabled:!l.includes("selectAll"),category:"Canvas",description:"Select all nodes and edges",callback:e=>{if(e.preventDefault(),!u&&"single"!==i){let e=t.map(e=>e.id);null==c||c(e),v(e)}}},{name:"Deselect Selections",category:"Canvas",disabled:!l.includes("deselect"),description:"Deselect selected nodes and edges",keys:"escape",callback:e=>{u||(e.preventDefault(),null==c||c([]),v([]))}}]);let I=(0,ei.useMemo)(()=>[...h,...d],[h,d]);return{actives:I,onNodeClick:E,onNodePointerOver:P,onNodePointerOut:U,onLasso:O,onLassoEnd:M,selectNodePaths:T,onCanvasClick:C,selections:m,clearSelections:w,addSelection:b,removeSelection:x,toggleSelection:S,setSelections:v}},uQ={alpha:!0,antialias:!0},uK={position:[0,0,1e3],near:5,far:5e4,fov:10},uZ=(0,ei.forwardRef)(({cameraMode:e,edges:t,nodes:n,theme:r,onCanvasClick:i,animated:a,disabled:o,lassoType:s,onLasso:l,onLassoEnd:u,...c},d)=>{let f=(0,ei.useRef)(null),h=(0,ei.useRef)(null);(0,ei.useImperativeHandle)(d,()=>({centerGraph:e=>{var t;return null==(t=f.current)?void 0:t.centerGraph(e)},zoomIn:()=>{var e;return null==(e=h.current)?void 0:e.zoomIn()},zoomOut:()=>{var e;return null==(e=h.current)?void 0:e.zoomOut()},panLeft:()=>{var e;return null==(e=h.current)?void 0:e.panLeft()},panRight:()=>{var e;return null==(e=h.current)?void 0:e.panRight()},panDown:()=>{var e;return null==(e=h.current)?void 0:e.panDown()},panUp:()=>{var e;return null==(e=h.current)?void 0:e.panUp()},getControls:()=>{var e;return null==(e=h.current)?void 0:e.controls},getGraph:()=>{var e;return null==(e=f.current)?void 0:e.graph}}));let{selections:p,actives:m,collapsedNodeIds:v}=c,g=!(t.length+n.length>400)&&a;return(0,er.jsx)("div",{className:"_canvas_670zp_1",children:(0,er.jsx)(ts,{legacy:!0,linear:!0,flat:!0,gl:uQ,camera:uK,onPointerMissed:i,children:(0,er.jsxs)(o7,{createStore:()=>o9({selections:p,actives:m,collapsedNodeIds:v}),children:[(0,er.jsx)("color",{attach:"background",args:[r.canvas.background]}),(0,er.jsx)("ambientLight",{intensity:1}),r.canvas.fog&&(0,er.jsx)("fog",{attach:"fog",args:[r.canvas.fog,4e3,9e3]}),(0,er.jsx)(uC,{mode:e,ref:h,animated:a,disabled:o,children:(0,er.jsx)(uY,{theme:r,disabled:o,type:s,onLasso:l,onLassoEnd:u,children:(0,er.jsx)(ei.Suspense,{children:(0,er.jsx)(uV,{ref:f,theme:r,disabled:o,animated:g,edges:t,nodes:n,...c})})})})]})})})});uZ.defaultProps={cameraMode:"pan",layoutType:"forceDirected2d",sizingType:"none",labelType:"auto",theme:uH,animated:!0,defaultNodeSize:7,minNodeSize:5,maxNodeSize:15,lassoType:"none"};let uJ=({label:e,centralAngle:t,startAngle:n,endAngle:r,polar:i,radius:a,className:o,icon:s,innerRadius:l,skew:u,disabled:c,onClick:d})=>(0,er.jsx)("div",{role:"menuitem",className:oA("_container_155l7_1",o,{_disabled_155l7_7:c}),style:{width:t>90?"100%":"50%",height:t>90?"100%":"50%",bottom:t>90?"50%":"initial",right:t>90?"50%":"initial",transform:`rotate(${n+r}deg) skew(${u}deg)`},onClick:e=>{c||d(e)},children:(0,er.jsx)("div",{className:"_contentContainer_155l7_10",style:{transform:`skew(${-u}deg) rotate(${(i?90:t)/2-90}deg)`},children:(0,er.jsx)("div",{className:"_contentInner_155l7_35",style:{top:`calc((((${t>90?"50% + ":""}${a}px) - ${l}px) / 2) - 4em)`},children:(0,er.jsxs)("div",{className:"_content_155l7_10",style:{transform:`rotate(${-r}deg)`},title:e,children:[s,e]})})})}),u0={container:"_container_x9hyx_1"},u1=({items:e,radius:t,className:n,innerRadius:r,startOffsetAngle:i,onClose:a})=>{let{centralAngle:o,polar:s,startAngle:l,deltaAngle:u}=(0,ei.useMemo)(()=>(function(e,t){let n=360/e.length||360,r=n%180==0,i=90-n;return{centralAngle:n,polar:r,startAngle:r?45:t+i+n/2,deltaAngle:i}})(e,i),[e,i]),c=(0,ei.useRef)(null);return((0,ei.useLayoutEffect)(()=>{let e=c.current;return()=>clearTimeout(e)},[]),0===e.length)?null:(0,er.jsx)("div",{role:"menu",className:oA(u0.container,n),onPointerEnter:()=>clearTimeout(c.current),onPointerLeave:e=>{clearTimeout(c.current),c.current=setTimeout(()=>null==a?void 0:a(e),500)},children:e.map((e,n)=>(0,er.jsx)(uJ,{...e,radius:t,innerRadius:r,startAngle:l,endAngle:o*n,skew:s?0:u,polar:s,centralAngle:o,onClick:t=>{null==e||e.onClick(t),null==a||a(t)}},n))})};u1.defaultProps={radius:175,innerRadius:25,startOffsetAngle:0}}}]);